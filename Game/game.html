<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>GAME</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script type="text/javascript" src="../Logic/jquery-1.11.0.min.js"></script>
     <script src="Phaser/phaser.min.js"></script>
  <link rel="stylesheet" href="../CSS/style.css" />
<script type="text/javascript" src="qrcode.js"></script>
<!--QR-->
<link rel="stylesheet" type="text/css" href="style.css">

  <script type="text/javascript">
    var webSocket = {};
    var obj;
    var element;
    var cursor = "";
  </script>
  <!--<script src="../Phaser/phaser.min.js" charset="utf-8"></script>-->
 
  <script src="../Logic/connect.js"></script>
</head>



<body> 

   <div id="input-box" style="display: none">


<input id="text" type="hidden" value=" " style="width:10%" /><br />




 </script>   

<div id="qrcode" style="width:100px; height:100px; margin-top:1px;"></div>

<script type="text/javascript">
var qrcode = new QRCode(document.getElementById("qrcode"), {
  width : 280,
  height : 200
});

function makeCode () {    
  var elText = document.getElementById("text");
  
  if (!elText.value) {
    alert("Input a text");
    elText.focus();
    return;
  }
  
    var currentLocation = window.location +'';;

   console.log(currentLocation);
  var res = currentLocation.split("=");

  if(res[1]!=null)
  qrcode.makeCode(res[1]);

}

makeCode();

$("#text").
  on("blur", function () {
    makeCode();
  }).
  on("keydown", function (e) {
    if (e.keyCode == 13) {
      makeCode();
    }
  });
</script>
    
  </div>

<!--<input type="text" id="myText"/>-->
<!--<textarea id="area51">SOME TEXT HERE</textarea>-->
    <script>


class Scene1 extends Phaser.Scene {



   constructor() {
        super('Scene1');

          this.accumulator = 0;
        this.fps = 30;  // Physics checks 60 times/s
        this.physicsTimestep = 1000 / this.fps;

    }

    init(data)
    {
      this.personajeP1 = data.personajeSelectP1;
        this.personajeP2 = data.personajeSelectP2;
        this.personajeP3 = data.personajeSelectP3;
        this.personajeP4 = data.personajeSelectP4;
        this.gamemodeData = data.gamemode;
        this.jugadoresData = data.jugadores;
        this.musicData = data.music;
        this.designerData = data.designer;
        this.tematica = data.tematica;
        this.nombreJ1 = data.nombredata;
        this.nombreJ2 = data.nombredata2;
        this.nombreJ3 = data.nombredata3;
        this.nombreJ4 = data.nombredata4;
        this.mapaNumero = data.mapaNumero;
        this.mapaTipo = data.mapaTipo;
        this.designerMode = data.designerMode;
        this.dificultad = data.dificultad;
      
    }

 preload ()
{

  this.tematicaSeleccionada = this.tematica;
    this.colocarBomba = 0;
    this.designer = this.designerData;
    this.jugadoresTotal =  this.jugadoresData;
    this.cooldownP1 = 0;
    this.cooldownP2 = 0;
    this.cooldownP3 = 0;
    this.cooldownP4 = 0;

      this.activarEsperaInt = 0;

     this.cooldownP1tick = 0;
    this.cooldownP2tick = 0;
    this.cooldownP3tick = 0;
    this.cooldownP4tick = 0;
    
    this.menureiniciar = 0;
    this.bombas = 1;
     this.bombas2 = 1;
      this.bombas3 = 1;
       this.bombas4 = 1;
    this.patin = 10;
    this.patin2 = 10;
    this.patin3 = 10;
    this.patin4 = 10;
      this.CrearObjeto = 1;
    this.CrearX = 0;
     this.CrearY = 0;
     this.limpiarLlama = 50;
        this.llama = 2;
        this.llama2 = 2;
        this.llama3 = 2;
        this.llama4 = 2;
        this.countExplosion = 30;
        this.countExplosion2 = 30;
        this.countExplosion3 = 30;
        this.countExplosion4 = 30;
        this.countExplosion5 = 30;
        this.countBomb = 0;
        this.countBomb2 = 0;
        this.countBomb3 = 0;
        this.countBomb4 = 0;
         this.countBomb5 = 0;
        this.myShip = null;
        this.bombbutton = null;
        this.scoreInt = 0;
        this.vidasInt = 3;
        this.vidasInt2 = 0;
        this.vidasInt3 = 0;
        this.vidasInt4 = 0;
        this.player = null;
        this.cursor = null;
        this.bullet = null;
        this.brick = null;
        this.playerBulletLive = false;
        this.playerDirection = 'up';
     

     //INTERNET



    this.load.image('bg', 'https://i.ibb.co/tz3L9Bn/jugador.png');
   this.load.image('enemigo',  'https://i.ibb.co/tsc83Qn/enemigo.png');
     this.load.image('enemigoquemado',  'https://i.ibb.co/wcjcPBY/enemigoquemado.png');
   this.load.image('ship',  'https://i.ibb.co/tz3L9Bn/jugador.png');
      this.load.image('ship2',  'https://i.ibb.co/HVtxqyJ/jugador2.png');
         this.load.image('ship3',  'https://i.ibb.co/C7yH7ft/jugador3.png');
            this.load.image('ship4',  'https://i.ibb.co/DCnJw89/jugador4.png');
   this.load.image('vida',  'https://i.ibb.co/yNSBcGv/vida.png');
      this.load.image('bomba',  'https://i.ibb.co/z6r3c26/bomba.png');
   this.load.image('explosion',  'https://i.ibb.co/h9RPDzp/explosion.png');
    this.load.image('poderllama',  'https://i.ibb.co/Ydmyns2/poderllama.png');
      this.load.image('poderbomba',  'https://i.ibb.co/NrRZRG9/poderbomba.png');
   this.load.image('poderpatin',  'https://i.ibb.co/BN3nm9T/poderpatin.png');
    this.load.image('podervida',  'https://i.ibb.co/Y3MH7wd/podervida.png');
  this.load.image('kills',  'https://i.ibb.co/QMPTk8P/kills.png');
 this.load.image('mina',  'https://i.ibb.co/MNnYDYx/mina.png');


  this.textures.remove('wall');
    this.textures.remove('wall2');
      this.textures.remove('pisonegro');
        this.textures.remove('wallkill');

if(this.tematicaSeleccionada ==1)
{
  this.load.image('wall', 'https://i.ibb.co/6vg0LPj/wall.png');
   this.load.image('wall2', 'https://i.ibb.co/YfJQszs/wall2.png');
    this.load.image('pisonegro', 'https://i.ibb.co/GWWBSCK/pisonegro.png');
    this.load.image('wallkill','https://i.ibb.co/YfJQszs/wall2.png')
}


if(this.tematicaSeleccionada ==2)
{
  this.load.image('wall', 'https://i.ibb.co/MNXRJ39/wall.png');
   this.load.image('wall2', 'https://i.ibb.co/gVSRNCC/wall2.png');
    this.load.image('pisonegro', 'https://i.ibb.co/QcCvy2G/pisonegro.png');
    this.load.image('wallkill','https://i.ibb.co/gVSRNCC/wall2.png')
}

if(this.tematicaSeleccionada ==3)
{
  this.load.image('wall', 'https://i.ibb.co/9pCcj1c/wall.png');
   this.load.image('wall2', 'https://i.ibb.co/VSvdY4P/wall2.png');
    this.load.image('pisonegro', 'https://i.ibb.co/ZdCCNp8/pisonegro.png');
    this.load.image('wallkill','https://i.ibb.co/VSvdY4P/wall2.png')
}


this.load.image('wall3', 'https://i.ibb.co/9y4cTjD/wall3.png');

this.load.image('wall4', 'https://i.ibb.co/89nHzQr/wall4.png');

this.load.image('pisor1', 'https://i.ibb.co/XbNnWdy/pisor1.png');
this.load.image('pisor2', 'https://i.ibb.co/BT4bwd5/pisor2.png');
 this.load.image('pisomov', 'https://i.ibb.co/fYTm8Cz/pisomov.png');


           this.load.image('menupause', 'https://i.ibb.co/YRqsf11/menupause.png');
             this.load.image('menupause2', 'https://i.ibb.co/bHXM7y9/menupause2.png');
          this.load.image('menupause3', 'https://i.ibb.co/p0cq1sK/menupause3.png');

          this.load.image('menupause2end', 'https://i.ibb.co/hWr7ybj/menupause2end.png');
          this.load.image('menupause3end', 'https://i.ibb.co/PCLGvQh/menupause3end.png');

            this.load.image('votacionmenu', 'https://i.ibb.co/3Ycf03R/votacionmenu.png');

                this.load.image('votacionmenu2', 'https://i.ibb.co/swGDZCC/votacionmenu2-P.png');

                    this.load.image('votacionmenu3', 'https://i.ibb.co/BqSYKHW/votacionmenu3-P.png');
   this.load.image('mensajeFinPartida',  'https://i.ibb.co/0MBjWjV/mensaje-Fin-Partida.png');


             this.load.image('votacionmenuP1', 'https://i.ibb.co/GWbjLYv/votacionmenu-P1.png');
               this.load.image('votacionmenuP2', 'https://i.ibb.co/1bM3QY9/votacionmenu-P2.png');
                this.load.image('votacionmenuP3', 'https://i.ibb.co/ZBgRKcK/votacionmenu-P3.png');
            this.load.image('votacionmenuP4', 'https://i.ibb.co/LrrqXDX/votacionmenu-P4.png');
            
              this.load.image('poderguante', 'https://i.ibb.co/tHyHrWz/poderguante.png');
               this.load.image('seleccion3', 'https://i.ibb.co/RvhgWwR/seleccioncuad.png');
 


 this.load.image('jugadorAzul',  'https://i.ibb.co/tz3L9Bn/jugador.png');
      this.load.image('jugadorNaranja',  'https://i.ibb.co/HVtxqyJ/jugador2.png');
         this.load.image('jugadorVerde',  'https://i.ibb.co/C7yH7ft/jugador3.png');
            this.load.image('jugadorMorado',  'https://i.ibb.co/DCnJw89/jugador4.png');
 this.load.image('jugadorCeleste',  'https://i.ibb.co/HzsjTX8/jugador-Celeste.png');
  this.load.image('jugadorRojo',  'https://i.ibb.co/br9mb3n/jugador-Rojo.png');
    this.load.image('jugadorGris',  'https://i.ibb.co/tM88Rfr/jugador-Gris.png');
        this.load.image('jugadorAmarillo',  'https://i.ibb.co/YjwWzqW/jugador-Amarillo.png');
                this.load.image('jugadorNegro',  'https://i.ibb.co/m07RktY/jugador-Negro.png');


                this.load.audio('moon', 'https://sndup.net/3h3r/moon.mp3');
      
                   this.load.audio('explosion', 'https://sndup.net/4p97/explosion.mp3');

                   this.load.audio('item', 'https://sndup.net/3tp6/item.mp3');
                   this.load.audio('loselive', 'https://sndup.net/54z2/loselive.mp3');
                    this.load.audio('matarbot', 'https://sndup.net/2nwb/matarbot.mp3');
                    this.load.audio('wallFall', 'https://sndup.net/7j9h/wallFall.mp3');
                  this.load.audio('victory', 'https://sndup.net/7j9h/wallFall.mp3');
  this.load.audio('ending', 'https://sndup.net/8s58/ending.mp3');

 this.load.audio('lose', 'https://sndup.net/7j9h/wallFall.mp3');



//LOCAL
/*

    this.load.image('bg', 'img/jugador.png');
   this.load.image('enemigo',  'img/enemigo.png');
     this.load.image('enemigoquemado',  'img/enemigoquemado.png');
   this.load.image('ship',  'img/jugador.png');
      this.load.image('ship2',  'img/jugador2.png');
         this.load.image('ship3',  'img/jugador3.png');
            this.load.image('ship4',  'img/jugador4.png');
   this.load.image('vida',  'img/vida.png');
      this.load.image('bomba',  'img/bomba.png');
   this.load.image('explosion',  'img/explosion.png');
    this.load.image('poderllama',  'img/poderllama.png');
      this.load.image('poderbomba',  'img/poderbomba.png');
   this.load.image('poderpatin',  'img/poderpatin.png');
    this.load.image('podervida',  'img/podervida.png');
  this.load.image('kills',  'img/kills.png');
 this.load.image('mina',  'img/mina.png');


  this.textures.remove('wall');
    this.textures.remove('wall2');
      this.textures.remove('pisonegro');
        this.textures.remove('wallkill');
if(this.tematicaSeleccionada ==1)
{
  this.load.image('wall', 'img/skin01/wall.png');
   this.load.image('wall2', 'img/skin01/wall2.png');
    this.load.image('pisonegro', 'img/skin01/pisonegro.png');
    this.load.image('wallkill','img/skin01/wallkill.png')
}


if(this.tematicaSeleccionada ==2)
{
  this.load.image('wall', 'img/skin02/wall.png');
   this.load.image('wall2', 'img/skin02/wall2.png');
    this.load.image('pisonegro', 'img/skin02/pisonegro.png');
    this.load.image('wallkill','img/skin02/wallkill.png')
}

if(this.tematicaSeleccionada ==3)
{
  this.load.image('wall', 'img/skin03/wall.png');
   this.load.image('wall2', 'img/skin03/wall2.png');
    this.load.image('pisonegro', 'img/skin03/pisonegro.png');
    this.load.image('wallkill','img/skin03/wallkill.png')
}


this.load.image('wall3', 'img/wall3.png');

this.load.image('wall4', 'img/wall4.png');

this.load.image('pisor1', 'img/pisor1.png');
this.load.image('pisor2', 'img/pisor2.png');
 this.load.image('pisomov', 'img/pisomov.png');



           this.load.image('menupause', 'img/menupause.png');
             this.load.image('menupause2', 'img/menupause2.png');
          this.load.image('menupause3', 'img/menupause3.png');

            this.load.image('menupause2end', 'img/menupause2end.png');
          this.load.image('menupause3end', 'img/menupause3end.png');

            this.load.image('votacionmenu', 'img/votacionmenu.png');

                this.load.image('votacionmenu2', 'img/votacionmenu2P.png');

                    this.load.image('votacionmenu3', 'img/votacionmenu3P.png');


             this.load.image('votacionmenuP1', 'img/votacionmenuP1.png');
               this.load.image('votacionmenuP2', 'img/votacionmenuP2.png');
                this.load.image('votacionmenuP3', 'img/votacionmenuP3.png');
            this.load.image('votacionmenuP4', 'img/votacionmenuP4.png');
            
              this.load.image('poderguante', 'img/poderguante.png');
               this.load.image('seleccion3', 'img/seleccioncuad.png');
 


 this.load.image('jugadorAzul',  'img/jugador.png');
      this.load.image('jugadorNaranja',  'img/jugador2.png');
         this.load.image('jugadorVerde',  'img/jugador3.png');
            this.load.image('jugadorMorado',  'img/jugador4.png');
 this.load.image('jugadorCeleste',  'img/jugadorCeleste.png');
  this.load.image('jugadorRojo',  'img/jugadorRojo.png');
    this.load.image('jugadorGris',  'img/jugadorGris.png');
        this.load.image('jugadorAmarillo',  'img/jugadorAmarillo.png');
                this.load.image('jugadorNegro',  'img/jugadorNegro.png');
   this.load.image('mensajeFinPartida',  'img/mensajeFinPartida.png');


                this.load.audio('moon', 'snd/moon.mp3');
      
                   this.load.audio('explosion', 'snd/explosion.mp3');

                   this.load.audio('item', 'snd/item.mp3');
                   this.load.audio('loselive', 'snd/loselive.mp3');
                    this.load.audio('matarbot', 'snd/matarbot.mp3');
                    this.load.audio('wallFall', 'snd/wallFall.mp3');
                     this.load.audio('victory', 'snd/victory.mp3');
                      this.load.audio('lose', 'snd/theme.mp3');
  this.load.audio('ending', 'snd/ending.mp3');


*/
}

create()
{

  this.mensajeganar = 0;

if(localStorage.getItem("mapasCreados") == null)
localStorage.setItem("mapasCreados", 1);


//MAPAS_PREDEFINIDOS
localStorage.setItem(-1, "0,0,99;1,1,0;1,2,0;1,3,0;1,4,0;1,5,0;1,6,0;1,7,0;1,8,0;1,9,0;1,10,0;1,11,0;2,11,0;3,11,0;4,11,0;5,11,0;6,11,0;7,11,0;8,11,0;9,11,0;12,11,0;13,11,0;14,11,0;15,11,0;16,11,0;17,11,0;18,11,0;19,11,0;20,11,0;21,10,0;21,11,0;21,9,0;21,8,0;21,7,0;21,6,0;21,5,0;21,4,0;21,3,0;21,2,0;21,1,0;20,1,0;19,1,0;18,1,0;17,1,0;16,1,0;15,1,0;14,1,0;13,1,0;12,1,0;11,1,0;10,1,0;9,1,0;8,1,0;7,1,0;6,1,0;5,1,0;4,1,0;3,1,0;2,1,0;3,9,6;4,9,6;5,9,6;6,9,6;7,9,6;8,9,6;9,9,6;10,9,6;11,9,6;12,9,6;13,9,6;14,9,6;15,9,6;16,9,6;17,9,6;18,9,6;19,9,6;19,8,6;19,7,6;19,6,6;19,5,6;19,4,6;19,3,6;18,3,6;17,3,6;16,3,6;15,3,6;14,3,6;13,3,6;12,3,6;11,3,6;10,3,6;9,3,6;8,3,6;7,3,6;6,3,6;5,3,6;4,3,6;3,3,6;3,4,6;3,8,6;3,5,6;3,7,6;4,4,2;4,5,2;4,6,2;4,7,2;4,8,2;5,8,2;5,7,2;5,6,2;5,5,2;5,4,2;7,4,3;7,5,3;7,8,3;7,7,3;18,8,1;18,4,1;11,4,1;11,8,1;7,6,1;");

localStorage.setItem(-2, "0,0,99;1,3,0;1,2,0;1,1,0;2,1,0;3,1,0;3,2,0;3,3,0;1,5,0;1,6,0;1,7,0;2,7,0;3,7,0;3,6,0;3,5,0;5,3,0;5,2,0;5,1,0;6,1,0;7,1,0;7,2,0;7,3,0;5,5,0;5,6,0;5,7,0;6,7,0;7,7,0;7,6,0;7,5,0;1,9,0;2,9,0;3,9,0;4,9,0;5,9,0;6,9,0;7,9,0;8,9,0;9,9,0;9,8,0;9,7,0;9,6,0;9,5,0;9,4,0;9,3,0;9,2,0;9,1,0;1,4,6;3,4,6;5,4,6;6,4,6;7,4,6;2,4,6;9,-1,6;0,8,6;0,9,2;1,9,2;2,9,2;3,9,2;4,9,2;5,9,2;6,9,2;7,9,2;8,9,2;9,9,2;9,10,6;8,10,6;7,10,6;6,10,6;5,10,6;4,10,6;3,10,6;2,10,6;1,10,6;0,10,6;14,11,6;14,10,6;14,9,6;14,8,6;14,7,6;14,6,6;14,5,6;16,5,6;17,5,6;18,5,6;19,5,6;20,5,6;21,5,6;22,5,6;14,4,0;16,4,0;16,3,0;14,3,0;14,2,0;16,2,0;16,1,0;14,0,0;15,0,0;16,0,0;14,1,2;15,1,2;15,2,2;15,3,2;15,4,2;15,5,2;15,7,6;17,6,6;17,7,6;15,9,6;16,9,6;18,7,6;19,7,6;20,7,6;22,7,6;22,9,6;19,8,6;20,9,6;19,9,6;19,10,6;18,9,6;16,10,6;18,11,3;20,11,3;20,9,3;22,9,3;18,7,3;22,7,3;15,9,3;15,11,3;21,7,1;21,9,1;21,11,1;17,9,1;17,11,1;19,3,1;");

localStorage.setItem(-3, "0,0,99;1,4,0;0,4,0;2,4,0;3,4,0;4,2,0;4,0,0;4,1,0;4,3,0;18,0,0;18,1,0;18,2,0;18,3,0;19,4,0;20,4,0;21,4,0;22,4,0;22,8,0;21,8,0;20,8,0;19,8,0;18,9,0;18,10,0;18,11,0;18,12,0;4,12,0;4,11,0;4,10,0;4,9,0;3,8,0;2,8,0;1,8,0;0,8,0;0,5,6;1,5,6;2,5,6;3,5,6;5,3,6;5,2,6;5,1,6;5,0,6;17,0,6;17,1,6;17,2,6;17,3,6;19,5,6;20,5,6;21,5,6;22,7,6;21,7,6;20,7,6;19,7,6;22,5,6;17,9,6;17,10,6;17,11,6;17,12,6;5,12,6;5,11,6;5,10,6;5,9,6;3,7,6;2,7,6;1,7,6;0,7,6;4,8,2;4,7,2;5,7,2;5,8,2;5,4,2;4,4,2;4,5,2;5,5,2;17,4,2;18,4,2;18,5,2;17,5,2;17,7,2;17,8,2;18,7,2;18,8,2;7,1,6;7,3,6;7,5,6;7,7,6;7,9,6;7,11,6;9,11,6;9,9,6;9,7,6;9,5,6;9,3,6;9,1,6;11,1,6;11,3,6;11,5,6;11,7,6;11,9,6;11,11,6;13,11,6;13,9,6;13,7,6;13,5,6;13,3,6;13,1,6;15,1,6;15,3,6;15,5,6;15,7,6;15,9,6;15,11,6;10,4,1;10,6,1;12,6,1;12,4,1;12,8,1;10,8,1;11,10,1;7,6,0;7,4,0;7,2,0;8,1,0;10,1,0;12,1,0;14,1,0;15,2,0;15,4,0;15,6,0;15,8,0;15,10,0;14,11,0;12,11,0;10,11,0;8,11,0;7,10,0;7,8,0;");

localStorage.setItem(-4, "0,0,99;0,7,0;1,8,0;2,9,0;3,10,0;4,11,0;5,12,0;0,5,6;1,5,6;2,5,6;3,5,6;4,5,6;5,5,6;6,5,6;7,5,6;7,7,6;6,7,6;5,7,6;4,7,6;4,8,6;7,8,6;7,9,6;7,10,6;7,11,6;9,12,6;9,11,6;9,10,6;9,9,6;9,8,6;9,7,6;2,1,6;3,1,6;4,1,6;5,1,6;6,1,6;7,1,6;7,2,6;7,3,6;6,3,6;9,5,6;9,4,6;9,3,6;9,2,6;9,1,6;11,1,6;11,2,6;11,3,6;11,4,6;11,5,6;13,5,6;14,5,6;15,5,6;16,5,6;17,5,6;18,5,6;19,5,6;20,5,6;21,5,6;22,5,6;14,3,6;13,3,6;13,2,6;13,1,6;14,1,6;15,1,6;16,1,6;17,1,6;18,1,6;19,1,6;20,1,6;11,7,6;11,8,6;11,9,6;11,10,6;11,11,6;11,12,6;13,11,6;13,10,6;13,9,6;13,8,6;13,7,6;14,7,6;15,7,6;16,7,6;16,8,6;15,12,0;16,11,0;17,10,0;18,9,0;19,8,0;20,7,0;16,2,0;17,3,0;18,4,0;20,2,0;19,3,0;2,2,0;3,3,0;4,4,0;5,3,0;9,6,1;11,6,1;10,1,1;10,3,1;10,5,1;10,7,1;10,9,1;10,11,1;10,6,1;8,6,2;7,6,2;6,6,2;5,6,2;4,6,2;12,6,2;13,6,2;14,6,2;15,6,2;16,6,2;7,-1,0;7,3,0;7,11,0;3,5,0;17,5,0;13,11,0;13,3,0;13,-1,0;6,7,4;5,7,4;14,7,4;15,7,4;14,1,4;6,1,4;");

localStorage.setItem(-5, "0,0,99;2,1,0;2,3,0;2,5,0;2,8,0;2,10,0;4,10,0;4,8,0;4,5,0;4,3,0;4,1,0;6,10,0;6,8,0;6,5,0;6,3,0;6,1,0;8,1,0;8,3,0;8,5,0;8,8,0;8,10,0;10,10,0;10,8,0;10,5,0;10,3,0;10,1,0;1,5,6;1,8,6;3,5,6;3,8,6;5,8,6;5,5,6;7,5,6;7,8,6;9,8,6;9,5,6;10,6,6;10,7,6;1,1,6;1,3,6;3,3,6;3,1,6;5,1,6;5,3,6;7,3,6;7,1,6;9,1,6;9,3,6;9,10,6;7,10,6;3,10,6;5,10,6;1,10,6;0,12,3;2,12,3;4,12,3;6,12,3;10,2,3;1,2,3;1,4,3;10,4,3;10,9,3;1,9,3;1,6,3;1,7,3;12,7,6;12,6,6;12,5,6;12,4,6;12,3,6;12,2,6;12,1,6;12,0,6;12,12,6;12,11,6;12,10,6;12,9,6;14,7,6;14,8,6;14,9,6;13,5,6;14,5,6;15,5,6;16,5,6;16,6,6;16,7,6;16,8,6;16,9,6;16,10,6;16,11,6;14,11,6;15,11,6;14,3,6;14,2,6;14,1,6;15,1,6;16,1,6;16,3,6;17,3,6;18,3,6;18,2,6;18,1,6;18,0,6;18,4,6;18,5,6;18,6,6;18,7,6;18,8,6;18,9,6;18,10,6;20,10,6;20,9,6;20,8,6;20,7,6;20,6,6;20,5,6;20,4,6;20,3,6;21,3,6;22,5,6;22,7,6;21,9,6;21,11,6;20,11,6;22,1,6;21,1,6;20,1,6;19,12,6;18,12,6;22,1,1;13,1,1;19,11,1;14,11,1;9,7,1;9,8,1;9,3,1;9,10,1;14,5,1;");

localStorage.setItem(-6, "0,0,99;1,1,6;1,2,6;1,3,6;1,4,6;1,5,6;1,6,6;1,7,6;1,8,6;1,9,6;1,10,6;1,11,6;2,11,6;3,11,6;4,11,6;5,11,6;3,1,6;4,1,6;5,1,6;6,1,6;7,1,6;7,2,6;7,3,6;7,4,6;7,5,6;7,6,6;7,7,6;7,8,6;7,9,6;7,10,6;7,11,6;9,0,0;9,1,0;9,2,0;9,3,0;9,4,0;9,5,0;9,6,0;9,7,0;9,8,0;9,9,0;9,10,0;9,11,0;11,12,0;11,11,0;11,10,0;11,9,0;11,8,0;11,7,0;11,6,0;11,5,0;11,4,0;11,3,0;11,2,0;11,1,0;3,3,2;3,4,2;3,5,2;3,6,2;3,7,2;3,8,2;3,9,2;4,9,2;4,8,2;4,7,2;4,6,2;4,5,2;4,4,2;4,3,2;5,3,2;5,4,2;5,5,2;5,6,2;5,7,2;5,8,2;5,9,2;13,1,3;13,2,3;13,3,3;13,4,3;13,5,3;13,6,3;13,7,3;13,8,3;13,9,3;13,10,3;13,11,3;15,11,3;15,10,3;15,9,3;15,8,3;15,7,3;15,6,3;15,5,3;15,4,3;15,3,3;15,2,3;15,1,3;14,1,3;14,2,3;14,3,3;14,4,3;14,5,3;14,6,3;14,7,3;14,8,3;14,9,3;14,10,3;14,11,3;17,11,6;17,10,6;17,9,6;17,8,6;17,7,6;17,6,6;17,5,6;17,4,6;17,3,6;17,2,6;17,1,6;18,1,6;19,1,6;20,1,6;21,1,6;21,3,6;21,4,6;21,5,6;21,6,6;21,7,6;21,8,6;21,9,6;21,10,6;21,11,6;20,11,6;19,11,6;19,9,0;19,8,0;19,7,0;19,6,0;19,5,0;19,4,0;19,3,0;18,2,1;18,10,1;20,10,1;20,2,1;6,2,1;2,2,1;2,10,1;6,10,1;12,1,1;12,11,1;16,11,1;16,1,1;10,0,1;10,12,1;");

localStorage.setItem(-7, "0,0,99;0,6,0;1,6,0;2,6,0;3,6,0;4,6,0;5,6,0;6,6,0;7,6,0;8,6,0;9,6,0;10,6,0;10,5,0;10,4,0;10,3,0;10,2,0;10,1,0;10,0,0;10,7,0;10,8,0;10,9,0;10,10,0;10,11,0;10,12,0;11,6,0;12,6,0;13,6,0;14,6,0;15,6,0;16,6,0;17,6,0;18,6,0;19,6,0;20,6,0;21,6,0;22,6,0;22,5,6;21,5,6;20,5,6;19,5,6;18,5,6;17,5,6;16,5,6;15,5,6;14,5,6;13,5,6;12,5,6;11,5,6;11,4,6;11,3,6;11,2,6;11,1,6;9,1,6;9,2,6;9,3,6;9,4,6;9,5,6;0,5,6;1,5,6;2,5,6;3,5,6;4,5,6;5,5,6;6,5,6;7,5,6;8,5,6;0,7,6;1,7,6;2,7,6;3,7,6;4,7,6;5,7,6;6,7,6;7,7,6;8,7,6;9,7,6;9,8,6;9,9,6;9,10,6;9,11,6;11,11,6;11,10,6;11,9,6;11,8,6;11,7,6;12,7,6;13,7,6;14,7,6;15,7,6;16,7,6;17,7,6;18,7,6;19,7,6;20,7,6;21,7,6;22,7,6;1,0,3;1,1,3;1,2,3;1,3,3;3,4,3;3,3,3;3,2,3;3,1,3;5,3,3;5,2,3;5,1,3;5,0,3;7,4,3;7,3,3;7,2,3;7,1,3;21,0,3;21,1,3;21,2,3;21,3,3;19,4,3;19,3,3;19,2,3;19,1,3;17,0,3;17,1,3;17,2,3;17,3,3;15,4,3;15,3,3;15,2,3;15,1,3;13,0,3;13,1,3;13,2,3;13,3,3;1,12,3;1,11,3;1,10,3;1,9,3;3,9,3;3,8,3;3,11,3;3,10,3;5,9,3;5,10,3;5,11,3;5,12,3;7,11,3;7,10,3;7,9,3;7,8,3;21,12,3;21,11,3;21,10,3;21,9,3;19,8,3;19,9,3;19,10,3;19,11,3;17,12,3;17,11,3;17,10,3;17,9,3;15,8,3;15,9,3;15,10,3;15,11,3;13,12,3;13,11,3;13,10,3;13,9,3;1,4,4;3,0,4;5,4,4;7,0,4;13,4,4;15,0,4;17,4,4;19,0,4;21,4,4;1,8,4;3,13,4;5,9,4;7,13,4;13,9,4;15,13,4;17,9,4;19,13,4;21,9,4;8,0,1;12,0,1;12,11,1;8,11,1;8,10,1;8,9,1;8,8,1;12,10,1;12,9,1;12,8,1;12,3,1;12,2,1;12,1,1;8,1,1;8,2,1;8,3,1;2,-1,0;2,0,0;2,1,0;2,2,0;2,3,0;4,3,0;4,2,0;4,1,0;4,0,0;4,-1,0;6,0,0;6,-1,0;6,1,0;6,2,0;6,3,0;14,3,0;14,2,0;14,1,0;14,0,0;14,-1,0;16,-1,0;16,0,0;16,1,0;16,2,0;16,3,0;18,3,0;18,2,0;18,1,0;18,0,0;18,-1,0;20,0,0;20,-1,0;20,1,0;20,2,0;20,3,0;6,7,0;6,8,0;6,9,0;6,10,0;6,11,0;4,11,0;4,10,0;4,9,0;4,8,0;4,7,0;2,7,0;2,8,0;2,9,0;2,10,0;2,11,0;14,11,0;14,10,0;14,9,0;14,8,0;14,7,0;16,7,0;16,8,0;16,9,0;16,10,0;16,11,0;18,11,0;18,10,0;18,9,0;18,8,0;18,7,0;20,7,0;20,8,0;20,9,0;20,10,0;20,11,0;");

localStorage.setItem(-8, "0,0,99;0,1,6;1,2,6;2,3,6;3,4,6;4,5,6;5,6,6;6,7,6;7,8,6;8,9,6;9,10,6;22,1,6;21,2,6;20,3,6;19,4,6;18,5,6;17,6,6;16,7,6;15,8,6;14,9,6;13,10,6;12,11,6;10,11,6;11,9,6;11,8,6;11,7,6;11,6,6;11,5,6;11,4,6;11,3,6;11,2,6;11,1,6;11,0,6;5,8,6;4,9,6;3,10,6;2,11,6;17,8,6;18,9,6;19,10,6;20,11,6;6,10,6;6,11,6;6,12,6;16,10,6;16,11,6;16,12,6;7,5,6;8,4,6;9,3,6;10,2,6;12,2,6;13,3,6;14,4,6;15,5,6;16,3,6;16,2,6;16,1,6;16,0,6;6,3,6;6,2,6;6,1,6;6,0,6;10,3,1;12,3,1;9,4,1;8,5,1;13,4,1;14,5,1;14,8,1;13,9,1;12,10,1;10,10,1;9,9,1;8,8,1;7,7,1;10,0,1;7,0,1;12,0,1;15,0,1;15,12,1;7,12,1;11,12,1;2,1,0;3,4,0;3,3,0;3,1,0;4,1,0;5,1,0;5,2,0;4,2,0;3,2,0;4,3,0;4,4,0;5,3,0;5,4,0;5,6,0;5,5,0;4,5,0;2,2,0;2,3,0;1,12,0;1,11,0;0,11,0;2,11,0;2,13,0;3,13,0;3,12,0;4,11,0;4,12,0;4,14,0;5,14,0;5,13,0;5,12,0;5,11,0;3,11,0;2,11,0;1,11,0;0,11,0;0,10,0;1,10,0;2,10,0;3,10,0;4,10,0;17,11,0;17,12,0;17,13,0;17,14,0;18,14,0;18,13,0;18,12,0;19,13,0;19,14,0;20,14,0;21,13,0;21,12,0;22,12,0;20,12,0;19,11,0;20,11,0;21,11,0;22,11,0;22,10,0;21,10,0;20,10,0;19,10,0;18,10,0;20,2,0;20,3,0;20,4,0;19,5,0;19,4,0;19,3,0;19,2,0;18,2,0;18,3,0;18,4,0;18,5,0;18,6,0;17,2,0;17,3,0;17,4,0;17,5,0;17,6,0;17,7,0;3,7,0;2,7,0;1,7,0;2,6,0;1,6,0;1,5,0;21,5,0;21,6,0;20,6,0;21,7,0;20,7,0;19,7,0;18,8,0;19,8,0;20,8,0;21,8,0;4,8,0;3,8,0;2,8,0;1,8,0;6,6,4;6,7,4;6,8,4;6,10,4;6,11,4;16,11,4;16,10,4;16,8,4;16,7,4;16,6,4;10,8,4;9,8,4;8,8,4;12,8,4;13,8,4;14,8,4;14,9,4;13,9,4;12,9,4;10,9,4;9,9,4;8,9,4;8,3,4;8,4,4;9,4,4;9,3,4;7,3,4;7,4,4;14,3,4;13,3,4;13,4,4;14,4,4;15,4,4;15,3,4;8,13,4;8,14,4;9,14,4;9,13,4;13,13,4;13,14,4;14,14,4;14,13,4;8,12,4;14,12,4;10,10,2;9,7,2;10,7,2;10,6,2;12,7,2;13,7,2;12,6,2;9,10,2;10,11,2;12,11,2;12,10,2;13,10,2;10,14,2;11,14,2;12,14,2;8,5,2;7,5,2;7,6,2;14,5,2;15,5,2;15,6,2;11,12,2;7,11,2;7,12,2;7,14,2;15,14,2;15,12,2;15,11,2;15,9,2;15,8,2;7,8,2;8,2,2;9,2,2;10,3,2;12,3,2;14,2,2;13,2,2;");

localStorage.setItem(-9, "0,0,99;0,2,4;1,2,4;1,1,4;2,1,4;2,0,4;2,2,4;0,10,4;1,10,4;1,11,4;2,10,4;2,11,4;2,12,4;20,12,4;20,11,4;20,10,4;21,11,4;21,10,4;22,10,4;22,2,4;21,2,4;20,2,4;20,0,4;20,1,4;21,1,4;0,3,0;1,3,0;2,3,0;3,3,0;3,2,0;3,1,0;3,0,0;19,0,0;19,1,0;19,2,0;19,3,0;20,3,0;21,3,0;22,3,0;22,9,0;21,9,0;20,9,0;19,9,0;19,10,0;19,11,0;19,12,0;3,12,0;3,11,0;3,10,0;3,9,0;0,9,0;1,9,0;2,9,0;0,1,2;1,0,2;21,0,2;22,1,2;22,11,2;21,12,2;1,12,2;0,11,2;0,4,1;1,4,1;2,4,1;3,4,1;19,4,1;20,4,1;21,4,1;22,4,1;22,8,1;21,8,1;20,8,1;19,8,1;3,8,1;2,8,1;1,8,1;0,8,1;0,5,6;1,5,6;2,5,6;3,5,6;4,5,6;4,3,6;5,3,6;5,5,6;6,3,6;7,3,6;8,3,6;9,3,6;10,3,6;11,3,6;12,3,6;13,3,6;14,3,6;15,3,6;16,3,6;17,3,6;18,3,6;22,5,6;21,5,6;20,5,6;19,5,6;18,5,6;17,5,6;5,7,6;4,7,6;3,7,6;2,7,6;1,7,6;0,7,6;17,7,6;18,7,6;19,7,6;20,7,6;21,7,6;22,7,6;4,9,2;4,10,2;4,11,2;4,12,2;5,12,2;6,12,2;7,12,2;8,12,2;9,12,2;10,12,2;11,12,2;12,12,2;13,12,2;14,12,2;15,12,2;16,12,2;17,12,2;18,12,2;18,11,2;18,10,2;18,9,2;17,11,4;16,11,4;15,11,4;14,11,4;13,11,4;12,11,4;11,11,4;10,11,4;9,11,4;8,11,4;7,11,4;6,11,4;5,11,4;5,10,4;5,9,4;7,4,6;7,5,6;7,6,6;7,7,6;7,8,6;7,9,6;7,10,6;8,10,6;9,10,6;10,10,6;15,4,6;15,5,6;15,6,6;15,7,6;15,8,6;15,9,6;15,10,6;14,10,6;13,10,6;12,10,6;11,10,0;9,8,6;9,7,6;9,6,6;9,5,6;10,5,6;11,5,6;12,5,6;13,5,6;13,6,6;13,7,6;13,8,6;12,7,0;11,7,0;10,7,0;8,4,1;14,4,1;14,9,1;8,9,1;11,4,1;11,9,1;8,7,1;14,7,1;10,9,4;9,9,4;12,9,4;13,9,4;13,4,4;12,4,4;10,4,4;9,4,4;8,8,4;8,6,4;8,5,4;14,5,4;14,6,4;14,8,4;10,8,4;11,8,4;12,8,4;12,6,4;11,6,4;10,6,4;5,3,0;5,2,0;5,1,0;6,2,0;7,3,0;7,2,0;17,1,0;17,2,0;17,3,0;16,2,0;15,2,0;15,3,0;9,3,0;9,1,0;9,2,0;10,2,0;11,3,0;12,3,0;12,2,0;12,1,0;7,1,0;15,1,0;4,4,2;5,4,2;6,4,2;6,5,2;6,6,2;6,7,2;6,8,2;6,9,2;6,10,2;4,8,2;5,8,2;18,4,2;17,4,2;16,4,2;16,5,2;16,6,2;16,7,2;16,8,2;16,9,2;16,10,2;17,10,4;17,9,4;17,8,2;18,8,2;19,6,4;18,6,4;17,6,4;20,6,4;21,6,4;5,6,4;4,6,4;3,6,4;2,6,4;1,6,4;0,6,1;22,6,1;21,6,0;1,6,0;");



this.credits = this.add.text(294, 945, "Desarrollo de un videojuego Retro en\n Smart TV LG & Android - ExplosionMan\n\nCreditos\n\nCreado por:\n Eduardo Alexis\n Michael Alonso\n\n Taller de Proyectos\n\n Creado en Phaser 3\n\n Gracias por jugar nuestro juego c: \n\n Universidad Peruana de Ciencias Aplicadas\n Todos los derechos reservados -2020- \n\n Este juego aun se encuentra en desarrollo :) \n\n Musicas usadas:\n Moon Over The Caste (8bit theme) \n Jigsaw Falling into Place 8-bit \n EarthBound Zero - Home Theme \n\n Sound Effects: \n Pack de Efectos de sonido 8 bit\n\n Sprites: \n Bomberman & Bombman Art 8-16 bit\n\n Ideas Artisticas: \n Basadas en el videojuego bomberman\n\n Programadores:\n Eduardo Alexis\n Michael Alonso \n Fernando Rafael (Android) \n\n Tester: John Edisson c: \n\n Ediciones de audio y diseño: \n Michael Alonso \n Eduardo Alexis\n\n\n\n\n --FIN C:-- " , { fontFamily: '"Arial Black"', fontSize: 54, fill: 'black',});

this.credits2 = this.add.text(292, 943, "Desarrollo de un videojuego Retro en\n Smart TV LG & Android - ExplosionMan\n\nCreditos\n\nCreado por:\n Eduardo Alexis\n Michael Alonso\n\n Taller de Proyectos\n\n Creado en Phaser 3\n\n Gracias por jugar nuestro juego c: \n\n Universidad Peruana de Ciencias Aplicadas\n Todos los derechos reservados -2020- \n\n Este juego aun se encuentra en desarrollo :) \n\n Musicas usadas:\n Moon Over The Caste (8bit theme) \n Jigsaw Falling into Place 8-bit \n EarthBound Zero - Home Theme \n\n Sound Effects: \n Pack de Efectos de sonido 8 bit\n\n Sprites: \n Bomberman & Bombman Art 8-16 bit\n\n Ideas Artisticas: \n Basadas en el videojuego bomberman\n\n Programadores:\n Eduardo Alexis\n Michael Alonso \n Fernando Rafael (Android) \n\n Tester: John Edisson c: \n\n Ediciones de audio y diseño: \n Michael Alonso \n Eduardo Alexis\n\n\n\n\n --FIN C:-- " , { fontFamily: '"Arial Black"', fontSize: 54, fill: 'white',});

this.credits.setDepth(300);
this.credits2.setDepth(300);
this.credits.visible = false;
this.credits2.visible = false;

   this.mensajeganartick =300;


if(this.musicData==1)
{
  this.explosionsound = this.sound.add('explosion', {volume: 0.5});
  this.moonsong = this.sound.add('moon', {volume: 0.5});

   this.itemsound = this.sound.add('item', {volume: 0.4});
   this.loselivesound = this.sound.add('loselive', {volume: 0.5});
   this.matarbotsound = this.sound.add('matarbot',{volume: 1.0});
   this.wallfallsong = this.sound.add('wallFall', {volume: 0.5});
  this.victorysong = this.sound.add('victory', {volume: 0.5});
this.losesong = this.sound.add('lose', {volume: 0.5});
this.endingsong = this.sound.add('ending', {volume: 0.5});

}
else
{
this.explosionsound = this.sound.add('explosion', {volume: 0.0});
this.moonsong = this.sound.add('moon', {volume: 0.0});

 this.itemsound = this.sound.add('item', {volume: 0.0});
   this.loselivesound = this.sound.add('loselive', {volume: 0.0});
   this.matarbotsound = this.sound.add('matarbot',{volume: 0.0});
   this.wallfallsong = this.sound.add('wallFall', {volume: 0.0});
  this.victorysong = this.sound.add('victory', {volume: 0.0});
  this.losesong = this.sound.add('lose', {volume: 0.0});
this.endingsong = this.sound.add('ending', {volume: 0.0});

}

  if(this.designer != 1)
  {
this.moonsong.play();
}

  this.bombasFullDirection= "NA";
   this.bombasFullDirection2= "NA";
    this.bombasFullDirection3= "NA";
     this.bombasFullDirection4= "NA";
    this.disminuirX = 0;
    this.disminuirY = 0;
    this.caerEnX = 1;
    this.caerEnY = 0;
    this.designer = this.designerData;
   this.gamemode = this.gamemodeData;

this.menuseleccion = 1;
this.aceptarP1 = 0;
this.aceptarP2 = 0;
this.aceptarP3 = 0;
this.aceptarP4 = 0;

this.guanteP1 =0;
this.guanteP2 =0;
this.guanteP3 =0;
this.guanteP4 =0;

this.novotacionP1=0;
this.novotacionP2=0;
this.novotacionP3=0;
this.novotacionP4=0;
this.pause = 0;
     this.caerparedX =-1;
 this.caerparedY = 1;

this.tick1 = 0;
this.tick2 = 0;
    this.nivelInt = 1;
this.relojInt = 300;
    this.resbalar = 0;
    this.resbalar2 = 0;
    this.resbalar3 = 0;
    this.resbalar4 = 0;
   this.pisor2X = 0;
   this.pisor2Y = 0;
  this.scoreInt = 0;
   //  this.bomba = this.physics.add.sprite(-50,-50, 'bomba');
    this.countBomb = 0;
     this.countBomb2 = 0;
      this.countBomb3 = 0;
       this.countBomb4 = 0;
    this.countExplosion =0;
      this.countExplosion2 =0;
      this.countExplosion3 =0;
      this.countExplosion4 =0;
     



 //jugadores
if(this.jugadoresTotal >=1)
{
    this.jugador1 = this.add.text(32+32, 216+96, this.nombreJ1, { fontFamily: '"Arial Black"' });

this.jugador1.setFontSize(32);
}
if(this.jugadoresTotal >=2)
{
    this.jugador2 = this.add.text(32+32, 366+96, this.nombreJ2, { fontFamily: '"Arial Black"' });
this.jugador2.setFontSize(32);
        this.vidasInt2 = 3;

}

if(this.jugadoresTotal >=3)
{
    this.jugador3 = this.add.text(32+32, 516+96, this.nombreJ3, { fontFamily: '"Arial Black"' });
this.jugador3.setFontSize(32);
        this.vidasInt3 = 3;

}
if(this.jugadoresTotal >=4)
{
    this.jugador4 = this.add.text(32+32, 666+96, this.nombreJ4, { fontFamily: '"Arial Black"' });
this.jugador4.setFontSize(32);
        this.vidasInt4 = 3;

}


     this.vida = this.physics.add.sprite(92, 336+48, 'vida');

     //COLOR PERSONAJE 1
     if(this.personajeP1==1)
this.vida.setTexture('jugadorAzul');
if(this.personajeP1==2)
this.vida.setTexture('jugadorCeleste');
if(this.personajeP1==3)
this.vida.setTexture('jugadorNaranja');
if(this.personajeP1==4)
this.vida.setTexture('jugadorAmarillo');
if(this.personajeP1==5)
this.vida.setTexture('jugadorRojo');
if(this.personajeP1==6)
this.vida.setTexture('jugadorGris');
if(this.personajeP1==7)
this.vida.setTexture('jugadorVerde');
if(this.personajeP1==8)
this.vida.setTexture('jugadorNegro');
if(this.personajeP1==9)
this.vida.setTexture('jugadorMorado');

if(this.gamemode!=0)
       this.kill = this.physics.add.sprite(92, 336+96, 'kills');

if(this.jugadoresTotal >=2)
{
       //jugador 2

          this.vida2 = this.physics.add.sprite(92, 486+48, 'vida');
if(this.gamemode ==1 || this.gamemode ==2)
       this.kill = this.physics.add.sprite(92, 486+96, 'kills');

      if(this.personajeP2==1)
this.vida2.setTexture('jugadorAzul');
if(this.personajeP2==2)
this.vida2.setTexture('jugadorCeleste');
if(this.personajeP2==3)
this.vida2.setTexture('jugadorNaranja');
if(this.personajeP2==4)
this.vida2.setTexture('jugadorAmarillo');
if(this.personajeP2==5)
this.vida2.setTexture('jugadorRojo');
if(this.personajeP2==6)
this.vida2.setTexture('jugadorGris');
if(this.personajeP2==7)
this.vida2.setTexture('jugadorVerde');
if(this.personajeP2==8)
this.vida2.setTexture('jugadorNegro');
if(this.personajeP2==9)
this.vida2.setTexture('jugadorMorado');

}

if(this.jugadoresTotal >=3)
{
          //jugador 3

          this.vida3 = this.physics.add.sprite(92, 636+48, 'vida');
if(this.gamemode ==1 || this.gamemode ==2)
       this.kill = this.physics.add.sprite(92, 636+96, 'kills');

      if(this.personajeP3==1)
this.vida3.setTexture('jugadorAzul');
if(this.personajeP3==2)
this.vida3.setTexture('jugadorCeleste');
if(this.personajeP3==3)
this.vida3.setTexture('jugadorNaranja');
if(this.personajeP3==4)
this.vida3.setTexture('jugadorAmarillo');
if(this.personajeP3==5)
this.vida3.setTexture('jugadorRojo');
if(this.personajeP3==6)
this.vida3.setTexture('jugadorGris');
if(this.personajeP3==7)
this.vida3.setTexture('jugadorVerde');
if(this.personajeP3==8)
this.vida3.setTexture('jugadorNegro');
if(this.personajeP3==9)
this.vida3.setTexture('jugadorMorado');
}
            //jugador 4

if(this.jugadoresTotal >=4)
{
          this.vida4 = this.physics.add.sprite(92, 786+48, 'vida');

if(this.gamemode ==1 || this.gamemode ==2)
       this.kill = this.physics.add.sprite(92, 786+96, 'kills');

      if(this.personajeP4==1)
this.vida4.setTexture('jugadorAzul');
if(this.personajeP4==2)
this.vida4.setTexture('jugadorCeleste');
if(this.personajeP4==3)
this.vida4.setTexture('jugadorNaranja');
if(this.personajeP4==4)
this.vida4.setTexture('jugadorAmarillo');
if(this.personajeP4==5)
this.vida4.setTexture('jugadorRojo');
if(this.personajeP4==6)
this.vida4.setTexture('jugadorGris');
if(this.personajeP4==7)
this.vida4.setTexture('jugadorVerde');
if(this.personajeP4==8)
this.vida4.setTexture('jugadorNegro');
if(this.personajeP4==9)
this.vida4.setTexture('jugadorMorado');
}
     this.minas = this.physics.add.group();


if(this.gamemode==0)
{
this.nivel = this.add.text(64, 32, 'Nivel', { fontFamily: '"Arial Black"' });
this.nivel.setFontSize(32);


this.nivel = this.add.text(64, 64, this.nivelInt, { fontFamily: '"Arial Black"' });
this.nivel.setFontSize(32);
}


this.vidas = this.add.text(120, 345, this.vidasInt, { fontFamily: '"Arial Black"' });
this.vidas.setFontSize(64);

if(this.jugadoresTotal >=2)
{
this.vidasJ2 = this.add.text(120, 495, this.vidasInt2, { fontFamily: '"Arial Black"' });
this.vidasJ2.setFontSize(64);
}

if(this.jugadoresTotal >=3)
{
this.vidasJ3 = this.add.text(120, 645, this.vidasInt3, { fontFamily: '"Arial Black"' });
this.vidasJ3.setFontSize(64);
}

if(this.jugadoresTotal >=4)
{
this.vidasJ4 = this.add.text(120, 795, this.vidasInt4, { fontFamily: '"Arial Black"' });
this.vidasJ4.setFontSize(64);
}

     this.cursors = this.input.keyboard.createCursorKeys();
    this.bombbutton = this.input.keyboard.addKey('X');

 //this.pauseP1 = this.input.keyboard.addKey('X');

     this.guantebutton1 = this.input.keyboard.addKey('Z');
    this.guantebutton2 = this.input.keyboard.addKey('N');
    this.guantebutton3 = this.input.keyboard.addKey('M');
    this.guantebutton4 = this.input.keyboard.addKey('Q');

     this.pausebutton = this.input.keyboard.addKey('Q');
     
      this.upjugador2 = this.input.keyboard.addKey('W');    
      this.downjugador2 = this.input.keyboard.addKey('S');    
      this.leftjugador2 = this.input.keyboard.addKey('A');  
      this.rightjugador2 = this.input.keyboard.addKey('D');
     

      this.upjugador3 = this.input.keyboard.addKey('T');    
      this.downjugador3 = this.input.keyboard.addKey('G');    
      this.leftjugador3 = this.input.keyboard.addKey('F');  
      this.rightjugador3 = this.input.keyboard.addKey('H');
     

      this.upjugador4 = this.input.keyboard.addKey('I');    
      this.downjugador4 = this.input.keyboard.addKey('K');    
      this.leftjugador4 = this.input.keyboard.addKey('J');  
      this.rightjugador4 = this.input.keyboard.addKey('L');
     



if(this.gamemode == 0)
{
this.txt = this.add.text(64, 196, 'Puntaje', { fontFamily: '"Arial Black"' });
this.txt.setFontSize(32);

this.score = this.add.text(64, 226, this.scoreInt, { fontFamily: '"Arial Black"' });
this.score.setFontSize(64);
}

if(this.gamemode == 1 ||this.gamemode == 2)
{

this.score = this.add.text(-500, -500, this.scoreInt, { fontFamily: '"Arial Black"' });
this.score.setFontSize(64);

}
  this.tiempo = this.add.text(64, 96, 'Tiempo', { fontFamily: '"Arial Black"' });
this.tiempo.setFontSize(32);

   this.reloj = this.add.text(64, 128, this.relojInt, { fontFamily: '"Arial Black"' });
this.reloj.setFontSize(64);



   



 this.bombasFull = this.physics.add.staticGroup();
 
this.bombasFull2 = this.physics.add.staticGroup();
 this.bombasFull3 = this.physics.add.staticGroup();
 this.bombasFull4 = this.physics.add.staticGroup();
  this.bombasFull5 = this.physics.add.staticGroup();
 
this.enemigos = this.physics.add.group();

       this.explosionUp = this.physics.add.group();
       this.explosionDown = this.physics.add.group();
       this.explosionLeft = this.physics.add.group();
       this.explosionRight = this.physics.add.group();

  this.explosionUp2 = this.physics.add.group();
       this.explosionDown2 = this.physics.add.group();
       this.explosionLeft2 = this.physics.add.group();
       this.explosionRight2 = this.physics.add.group();

 this.explosionUp3 = this.physics.add.group();
       this.explosionDown3 = this.physics.add.group();
       this.explosionLeft3 = this.physics.add.group();
       this.explosionRight3 = this.physics.add.group();

 this.explosionUp4 = this.physics.add.group();
       this.explosionDown4 = this.physics.add.group();
       this.explosionLeft4 = this.physics.add.group();
       this.explosionRight4 = this.physics.add.group();

//ENEMIGOS


 this.explosionUp5 = this.physics.add.group();
       this.explosionDown5 = this.physics.add.group();
       this.explosionLeft5 = this.physics.add.group();
       this.explosionRight5 = this.physics.add.group();



         this.box = this.physics.add.staticGroup();
         this.pisor1 = this.physics.add.staticGroup();
          this.pisor2 = this.physics.add.staticGroup();
           this.pisomov = this.physics.add.staticGroup();
        this.boxFuerte = this.physics.add.staticGroup();
        this.boxFuerte2 = this.physics.add.staticGroup();
        
         this.boxFuerteSprite = this.physics.add.staticGroup();
        
         this.powerups = this.physics.add.staticGroup();
        this.powerupsLlamas = this.physics.add.staticGroup();
   this.powerupsPatin = this.physics.add.staticGroup();
   this.powerupsBombas = this.physics.add.staticGroup();
 this.powerupsVidas = this.physics.add.staticGroup();
 this.powerupsGuantes = this.physics.add.staticGroup();

 this.wallkill = this.physics.add.staticGroup();

 this.pisonegro = this.physics.add.staticGroup();

//random
  /*   for (var i = 0; i < 600; i++)
    {

        var x = Phaser.Math.Between(0, (1920 - 32*18)/32 );
        var y = Phaser.Math.Between(0, (1080 - 32*6)/32);
         var item = Phaser.Math.Between(0,5);

     if(item ==1)
     this.powerupsLlamas.create(480+ x*32,  64 + y*32, 'poderllama');
    if(item ==2)
     this.powerupsPatin.create(480+ x*32,  64 + y*32, 'poderpatin');
    if(item ==3)
     this.powerupsBombas.create(480+ x*32,  64 + y*32, 'poderbomba');
   if(item ==4)
     this.boxFuerte.create(480+ x*32,  64 + y*32, 'wall2');
   
    if(item !=4)
        this.box.create(480+ x*32, 64 + y*32, 'wall');

     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();


     }
*/

//Modo no aleatorio
if(this.designer ==0)
{
    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {

  
      this.pisonegro.create(480+ i*32*2,  64 + j*32*2, 'pisonegro');
  
        if((i > -2 && i < 1 && j > 0 && j < 3) || (i > 19 && i < 22 && j > 0 && j < 3)
            || (i > -2 && i < 1 && j > 11 && j < 14) || (i > 19 && i < 22 && j > 11 && j < 14))
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);



     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
  

   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
        if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');

     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();

     }
 }
 }
}





for (var i = 1; i < 15; i++)
    {
     this.boxFuerte2.create(12*32-32-32 + 32, 32 + i*64, 'wall4');
 this.boxFuerte2.create(12*32-32-32 -32, 32 + i*64, 'wall4');
}
for (var i = 1; i < 15; i++)
    {
     this.boxFuerte2.create(1920-64 + 32, 32 + i*64, 'wall4');
       this.boxFuerte2.create(1920-64 + 32 + 64, 32 + i*64, 'wall4');
}

for (var i = -3; i < 25; i++)
    {
     this.boxFuerte2.create(12*32 + 64*i, 32 + 32, 'wall4');
      this.boxFuerte2.create(12*32 + 64*i, 32-32, 'wall4');
}
for (var i = -3; i < 25; i++)
    {
    this.boxFuerte2.create(12*32 + 64*i, 896+ 32 + 32, 'wall4');
    this.boxFuerte2.create(12*32 + 64*i, 896+ 32 + 32+64, 'wall4');
 }


for (var i = 2; i < 15; i++)
    {
     this.boxFuerteSprite.create(12*32-32-32 + 32,  i*64, 'wall2');
}
for (var i = 2; i < 15; i++)
    {
     this.boxFuerteSprite.create(1920-64 + 32, i*64, 'wall2');
}

for (var i = 0; i < 25; i++)
    {
     this.boxFuerteSprite.create(11*32 + 64*i, 32 + 32, 'wall2');
 }
for (var i = 0; i < 25; i++)
    {
    this.boxFuerteSprite.create(11*32 + 64*i, 896+ 32 + 32, 'wall2');
}



      // this.myShip = new Ship(this, 400, 500);
if(this.personajeP1==1)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorAzul');
if(this.personajeP1==2)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorCeleste');
if(this.personajeP1==3)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorNaranja');
if(this.personajeP1==4)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorAmarillo');
if(this.personajeP1==5)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorRojo');
if(this.personajeP1==6)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorGris');
if(this.personajeP1==7)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorVerde');
if(this.personajeP1==8)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorNegro');
if(this.personajeP1==9)
this.myShip = this.physics.add.sprite(420, 130, 'jugadorMorado');

this.myShip2 = this.physics.add.sprite(5000, 130, 'ship2');
this.myShip3 = this.physics.add.sprite(5000, 130, 'ship3');
this.myShip4 = this.physics.add.sprite(5000, 130, 'ship4');



if(this.jugadoresTotal >=2)
{
   this.myShip2 = this.physics.add.sprite(1820, 130, 'ship2');
}

if(this.jugadoresTotal >=3)
{
      this.myShip3 = this.physics.add.sprite(420, 885, 'ship3');
}
if(this.jugadoresTotal >=4)
{
         this.myShip4 = this.physics.add.sprite(1820, 885, 'ship4');
}




 //this.myShip.setCollideWorldBounds(true);
 //this.myShip2.setCollideWorldBounds(true);
 //this.myShip3.setCollideWorldBounds(true);
 //this.myShip4.setCollideWorldBounds(true);


 //sprites de puntuacion
 this.ganadorText = this.add.text(1003+32, 311+96, "", { fontFamily: '"Arial Black"', fontSize: 25, fill: 'white',});

 this.ganadorText2 = this.add.text(1000+32, 316+96, "", { fontFamily: '"Arial Black"', fontSize: 25, fill: 'black',});

this.ganadorText.setDepth(200);
this.ganadorText2.setDepth(200);
this.mensajeFinPartidaSprite = this.physics.add.sprite(1088+32, 466+96, 'wall4');
this.mensajeFinPartidaSprite.visible = false;

this.mensajeFinPartidaSprite.setDepth(9);

  this.killsInt = this.enemigos.getLength();
   this.killsInt2 = 0;
   this.killsInt3 = 0;
   this.killsInt4 = 0;


if(this.gamemode ==0)
{
  this.bots = this.add.text(70, 285, "Bots: ", { fontFamily: '"Arial Black"' });
this.bots.setFontSize(32);


   this.kills = this.add.text(92+86, 285, this.killsInt, { fontFamily: '"Arial Black"' });
this.kills.setFontSize(32);

}
else
{
   this.kills = this.add.text(92+32, 306+96, this.killsInt, { fontFamily: '"Arial Black"' });
this.kills.setFontSize(64);

}
if(this.jugadoresTotal >=2 && (this.gamemode == 1 || this.gamemode == 2))
{
 this.killsJ2 = this.add.text(92+32, 456+96, this.killsInt2, { fontFamily: '"Arial Black"' });
this.killsJ2.setFontSize(64);
}
if(this.jugadoresTotal >=3 && (this.gamemode == 1 || this.gamemode == 2))
{
this.killsJ3 = this.add.text(92+32, 606+96, this.killsInt3, { fontFamily: '"Arial Black"' });
this.killsJ3.setFontSize(64);
}
if(this.jugadoresTotal >=4 && (this.gamemode == 1 || this.gamemode == 2))
{
this.killsJ4= this.add.text(92+32, 756+96, this.killsInt4, { fontFamily: '"Arial Black"' });
this.killsJ4.setFontSize(64);
}
   this.physics.add.collider(this.myShip, this.box);

 this.physics.add.collider(this.myShip2, this.box);

 this.physics.add.collider(this.myShip3, this.box);
this.physics.add.collider(this.myShip4, this.box);


   function pisoMovPasar()
   {
    this.resbalar = 1;

   }

   function pisoMovPasar2()
   {
    this.resbalar2 = 1;

   }

   function pisoMovPasar3()
   {
    this.resbalar3 = 1;

   }
   function pisoMovPasar4()
   {
    this.resbalar4 = 1;

   }


//JUGADOR 1 NO SALIRSE DE MAPA EN MUROS FUERTES 
this.physics.add.collider(this.myShip, this.boxFuerte2, null, function(col1,col2){

  this.myShip.setVelocityX(0);
  this.myShip.setVelocityY(0);
   },this);

this.physics.add.collider(this.myShip, this.boxFuerte, null, function(col1,col2){

  this.myShip.setVelocityX(0);
  this.myShip.setVelocityY(0);
   },this);

//JUGADOR 2 NO SALIRSE DE MAPA EN MUROS FUERTES 
this.physics.add.collider(this.myShip2, this.boxFuerte2, null, function(col1,col2){

  this.myShip2.setVelocityX(0);
  this.myShip2.setVelocityY(0);
   },this);

this.physics.add.collider(this.myShip2, this.boxFuerte, null, function(col1,col2){

  this.myShip2.setVelocityX(0);
  this.myShip2.setVelocityY(0);
   },this);

//JUGADOR 3 NO SALIRSE DE MAPA EN MUROS FUERTES 
this.physics.add.collider(this.myShip3, this.boxFuerte2, null, function(col1,col2){

  this.myShip3.setVelocityX(0);
  this.myShip3.setVelocityY(0);
   },this);

this.physics.add.collider(this.myShip3, this.boxFuerte, null, function(col1,col2){

  this.myShip3.setVelocityX(0);
  this.myShip3.setVelocityY(0);
   },this);

//JUGADOR 4 NO SALIRSE DE MAPA EN MUROS FUERTES 
this.physics.add.collider(this.myShip4, this.boxFuerte2, null, function(col1,col2){

  this.myShip4.setVelocityX(0);
  this.myShip4.setVelocityY(0);
   },this);

this.physics.add.collider(this.myShip4, this.boxFuerte, null, function(col1,col2){

  this.myShip4.setVelocityX(0);
  this.myShip4.setVelocityY(0);
   },this);




   this.physics.add.overlap(this.myShip, this.pisomov, pisoMovPasar, function(col1,col2){

   },this);
    this.physics.add.overlap(this.myShip2, this.pisomov, pisoMovPasar2, function(col1,col2){

   },this);
     this.physics.add.overlap(this.myShip3, this.pisomov, pisoMovPasar3, function(col1,col2){

   },this);
      this.physics.add.overlap(this.myShip4, this.pisomov, pisoMovPasar4, function(col1,col2){

   },this);


this.physics.add.overlap(this.myShip, this.explosionUp,bajarvidas, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip, this.explosionUp2,bajarvidas, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip, this.explosionUp3,bajarvidas, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip, this.explosionUp4,bajarvidas, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip, this.explosionUp5,bajarvidas, function(col1,col2){
   },this);

//puntuacion
this.physics.add.collider(this.myShip, this.explosionUp2,aumentarScore2, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip, this.explosionUp3,aumentarScore3, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip, this.explosionUp4,aumentarScore4, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip, this.explosionDown, bajarvidas,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip, this.explosionDown2, bajarvidas,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip, this.explosionDown3, bajarvidas,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip, this.explosionDown4, bajarvidas,function(col1,col2){
   },this);
            this.physics.add.overlap(this.myShip, this.explosionDown5, bajarvidas,function(col1,col2){
   },this);

      //puntuacion
        this.physics.add.collider(this.myShip, this.explosionDown2, aumentarScore2,function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip, this.explosionDown3, aumentarScore3,function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip, this.explosionDown4, aumentarScore4,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip, this.explosionLeft,bajarvidas, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip, this.explosionLeft2,bajarvidas, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip, this.explosionLeft3,bajarvidas, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip, this.explosionLeft4,bajarvidas, function(col1,col2){
   },this);
           this.physics.add.overlap(this.myShip, this.explosionLeft5,bajarvidas, function(col1,col2){
   },this);
   
  //puntuacion
     this.physics.add.collider(this.myShip, this.explosionLeft2,aumentarScore2, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip, this.explosionLeft3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip, this.explosionLeft4,aumentarScore4, function(col1,col2){
   },this);

   this.physics.add.overlap(this.myShip, this.explosionRight,bajarvidas, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip, this.explosionRight2,bajarvidas, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip, this.explosionRight3,bajarvidas, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip, this.explosionRight4,bajarvidas, function(col1,col2){
   },this);
        this.physics.add.overlap(this.myShip, this.explosionRight5,bajarvidas, function(col1,col2){
   },this);
   //puntuacion

     this.physics.add.overlap(this.myShip, this.explosionRight2,aumentarScore2, function(col1,col2){

   },this);
     this.physics.add.overlap(this.myShip, this.explosionRight3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip, this.explosionRight4,aumentarScore4, function(col1,col2){
   },this);

//no salirse wallkill player 1
   this.physics.add.collider(this.myShip,this.wallkill,null, function(col1,col2){

this.myShip.setVelocityX(0);
  this.myShip.setVelocityY(0);

   },this);
   
   //no salirse wallkill player 2
   this.physics.add.collider(this.myShip2,this.wallkill,null, function(col1,col2){

this.myShip2.setVelocityX(0);
  this.myShip2.setVelocityY(0);

   },this);

     //no salirse wallkill player 3
   this.physics.add.collider(this.myShip3,this.wallkill,null, function(col1,col2){

this.myShip3.setVelocityX(0);
  this.myShip3.setVelocityY(0);

   },this);

  //no salirse wallkill player 4
   this.physics.add.collider(this.myShip4,this.wallkill,null, function(col1,col2){

this.myShip4.setVelocityX(0);
  this.myShip4.setVelocityY(0);

   },this);

   this.physics.add.overlap(this.myShip,this.wallkill,bajarvidas, function(col1,col2){

   },this);
   

   //jugador2

this.physics.add.overlap(this.myShip2, this.explosionUp,bajarvidas2, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip2, this.explosionUp2,bajarvidas2, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip2, this.explosionUp3,bajarvidas2, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip2, this.explosionUp4,bajarvidas2, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip2, this.explosionUp5,bajarvidas2, function(col1,col2){
   },this);
//puntuacion


this.physics.add.collider(this.myShip2, this.explosionUp,aumentarScore1, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip2, this.explosionUp3,aumentarScore3, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip2, this.explosionUp4,aumentarScore4, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip2, this.explosionDown, bajarvidas2,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip2, this.explosionDown2, bajarvidas2,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip2, this.explosionDown3, bajarvidas2,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip2, this.explosionDown4, bajarvidas2,function(col1,col2){
   },this);
        this.physics.add.overlap(this.myShip2, this.explosionDown5, bajarvidas2,function(col1,col2){
   },this);


      //puntuacion

   this.physics.add.collider(this.myShip2, this.explosionDown, aumentarScore1,function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip2, this.explosionDown3, aumentarScore3,function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip2, this.explosionDown4, aumentarScore4,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip2, this.explosionLeft,bajarvidas2, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip2, this.explosionLeft2,bajarvidas2, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip2, this.explosionLeft3,bajarvidas2, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip2, this.explosionLeft4,bajarvidas2, function(col1,col2){
   },this);
        this.physics.add.overlap(this.myShip2, this.explosionLeft5,bajarvidas2, function(col1,col2){
   },this);
   

   //puntacion


   this.physics.add.collider(this.myShip2, this.explosionLeft,aumentarScore1, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip2, this.explosionLeft3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip2, this.explosionLeft4,aumentarScore4, function(col1,col2){
   },this);
   
  
   this.physics.add.overlap(this.myShip2, this.explosionRight,bajarvidas2, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip2, this.explosionRight2,bajarvidas2, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip2, this.explosionRight3,bajarvidas2, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip2, this.explosionRight4,bajarvidas2, function(col1,col2){
   },this);
   this.physics.add.overlap(this.myShip2, this.explosionRight5,bajarvidas2, function(col1,col2){
   },this);

      //puntuacion


   this.physics.add.collider(this.myShip2, this.explosionRight,aumentarScore1, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip2, this.explosionRight3,aumentarScore3, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip2, this.explosionRight4,aumentarScore4, function(col1,col2){
   },this);

   
   
   this.physics.add.collider(this.myShip2,this.wallkill);

   this.physics.add.overlap(this.myShip2,this.wallkill,bajarvidas2, function(col1,col2){

   },this);
   
    //jugador3


this.physics.add.overlap(this.myShip3, this.explosionUp,bajarvidas3, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip3, this.explosionUp2,bajarvidas3, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip3, this.explosionUp3,bajarvidas3, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip3, this.explosionUp4,bajarvidas3, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip3, this.explosionUp5,bajarvidas3, function(col1,col2){
   },this);


//puntacion


this.physics.add.collider(this.myShip3, this.explosionUp,aumentarScore1, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip3, this.explosionUp2,aumentarScore2, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip3, this.explosionUp4,aumentarScore4, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip3, this.explosionDown, bajarvidas3,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip3, this.explosionDown2, bajarvidas3,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip3, this.explosionDown3, bajarvidas3,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip3, this.explosionDown4, bajarvidas3,function(col1,col2){
   },this);
            this.physics.add.overlap(this.myShip3, this.explosionDown5, bajarvidas3,function(col1,col2){
   },this);

      //Puntacion


   this.physics.add.collider(this.myShip3, this.explosionDown, aumentarScore1,function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip3, this.explosionDown2, aumentarScore2,function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip3, this.explosionDown4, aumentarScore4,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip3, this.explosionLeft,bajarvidas3, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip3, this.explosionLeft2,bajarvidas3, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip3, this.explosionLeft3,bajarvidas3, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip3, this.explosionLeft4,bajarvidas3, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip3, this.explosionLeft5,bajarvidas3, function(col1,col2){
   },this);
   
   //puntacion
 
   this.physics.add.collider(this.myShip3, this.explosionLeft,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip3, this.explosionLeft2,aumentarScore2, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip3, this.explosionLeft4,aumentarScore4, function(col1,col2){
   },this);
   


   this.physics.add.overlap(this.myShip3, this.explosionRight,bajarvidas3, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip3, this.explosionRight2,bajarvidas3, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip3, this.explosionRight3,bajarvidas3, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip3, this.explosionRight4,bajarvidas3, function(col1,col2){
   },this);
 this.physics.add.overlap(this.myShip3, this.explosionRight5,bajarvidas3, function(col1,col2){
   },this);

      //puntacion


   this.physics.add.collider(this.myShip3, this.explosionRight,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip3, this.explosionRight2,aumentarScore2, function(col1,col2){
   },this);
      this.physics.add.collider(this.myShip3, this.explosionRight4,aumentarScore4, function(col1,col2){
   },this);
          this.physics.add.collider(this.myShip3, this.explosionRight5,aumentarScore4, function(col1,col2){
   },this);

 this.physics.add.collider(this.myShip3,this.wallkill);

   this.physics.add.overlap(this.myShip3,this.wallkill,bajarvidas3, function(col1,col2){

   },this);
   

    //jugador4


this.physics.add.overlap(this.myShip4, this.explosionUp,bajarvidas4, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip4, this.explosionUp2,bajarvidas4, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip4, this.explosionUp3,bajarvidas4, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip4, this.explosionUp4,bajarvidas4, function(col1,col2){
   },this);
this.physics.add.overlap(this.myShip4, this.explosionUp5,bajarvidas4, function(col1,col2){
   },this);

//puntuacion



this.physics.add.collider(this.myShip4, this.explosionUp,aumentarScore1, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip4, this.explosionUp2,aumentarScore2, function(col1,col2){
   },this);
this.physics.add.collider(this.myShip4, this.explosionUp3,aumentarScore3, function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip4, this.explosionDown, bajarvidas4,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip4, this.explosionDown2, bajarvidas4,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip4, this.explosionDown3, bajarvidas4,function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip4, this.explosionDown4, bajarvidas4,function(col1,col2){
   },this);
          this.physics.add.overlap(this.myShip4, this.explosionDown5, bajarvidas4,function(col1,col2){
   },this);

      //Puntuacion


   this.physics.add.overlap(this.myShip4, this.explosionDown, aumentarScore1,function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip4, this.explosionDown2, aumentarScore2,function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip4, this.explosionDown3, aumentarScore3,function(col1,col2){
   },this);

   
   this.physics.add.overlap(this.myShip4, this.explosionLeft,bajarvidas4, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip4, this.explosionLeft2,bajarvidas4, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip4, this.explosionLeft3,bajarvidas4, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip4, this.explosionLeft4,bajarvidas4, function(col1,col2){
   },this);
            this.physics.add.overlap(this.myShip4, this.explosionLeft5,bajarvidas4, function(col1,col2){
   },this);
   
   
   //Puntuacion


   
   this.physics.add.collider(this.myShip4, this.explosionLeft,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip4, this.explosionLeft2,aumentarScore2, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip4, this.explosionLeft3,aumentarScore3, function(col1,col2){
   },this);
  
   


   this.physics.add.overlap(this.myShip4, this.explosionRight,bajarvidas4, function(col1,col2){
   },this);
    this.physics.add.overlap(this.myShip4, this.explosionRight2,bajarvidas4, function(col1,col2){
   },this);
     this.physics.add.overlap(this.myShip4, this.explosionRight3,bajarvidas4, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip4, this.explosionRight4,bajarvidas4, function(col1,col2){
   },this);
      this.physics.add.overlap(this.myShip4, this.explosionRight5,bajarvidas4, function(col1,col2){
   },this);

//puntuacion 



   this.physics.add.collider(this.myShip4, this.explosionRight,aumentarScore1, function(col1,col2){
   },this);
    this.physics.add.collider(this.myShip4, this.explosionRight2,aumentarScore2, function(col1,col2){
   },this);
     this.physics.add.collider(this.myShip4, this.explosionRight3,aumentarScore3, function(col1,col2){
   },this);
 

 this.physics.add.collider(this.myShip4,this.wallkill);

   this.physics.add.overlap(this.myShip4,this.wallkill,bajarvidas4, function(col1,col2){

   },this);


function actualizarEnemigos()
{
 this.matarbotsound.play(); 
    this.killsInt = this.enemigos.getLength();
      this.kills.setText(this.killsInt);

      
    if(this.enemigos.getLength() <=0)
    {
    this.game.sound.stopAll();
    this.moonsong.play();
  this.caerparedX =-1;
 this.caerparedY = 1;
  this.disminuirX = 0;
    this.disminuirY = 0;
    this.caerEnX = 1;
    this.caerEnY = 0;

if(this.nivelInt <=99)
    this.nivelInt = this.nivelInt + 1;
this.wallkill.clear(this.scene);
this.relojInt = 300;

   this.nivel.setText(this.nivelInt);
   this.score.setText(this.scoreInt);
    this.vidas.setText(this.vidasInt);
this.powerupsLlamas.clear(this.scene);
this.powerupsVidas.clear(this.scene);
this.wallkill.clear(this.scene);

this.pisor1.clear(this.scene);
this.pisor2.clear(this.scene);
this.powerupsGuantes.clear(this.scene);
this.powerupsPatin.clear(this.scene);
this.powerupsBombas.clear(this.scene);
this.box.clear(this.scene);
this.boxFuerte.clear(this.scene);
this.enemigos.clear(this.scene);
this.explosionRight.clear(this.scene);
this.explosionLeft.clear(this.scene);
this.explosionDown.clear(this.scene);
this.explosionUp.clear(this.scene);


if(this.designer==0)
{
    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {
        if(i > -2 && i < 1 && j > 0 && j < 3)
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);

     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
    if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');
     }

 }

 }
}
if(this.designer==2)
{

  this.mapaNumero = this.mapaNumero-1;
var value = localStorage.getItem(this.mapaNumero);

if(value != null)
{
console.log(value);

var elementos = value.split(';');
    
    var valorx = 0;
 var valory = 0;
 var valorobj = 99;


for (var i = 0; i < elementos.length; i++) {
 
console.log(i);

console.log(elementos[i]);

 var valores = elementos[i].split(',');

if(valores != null)
{
  valorx = valores[0];
  valory = valores[1];
  valorobj = valores[2];
}


 if(valorobj ==0)
    {
           var item = Phaser.Math.Between(0,40);

  if(item ==1)
     {
     this.powerupsLlamas.create(416+valorx*64, 128+valory*64,'poderllama');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(416+valorx*64, 128+valory*64,'poderpatin');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(416+valorx*64, 128+valory*64, 'poderbomba');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(416+valorx*64, 128+valory*64,'podervida');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(416+valorx*64, 128+valory*64, 'poderguante');
    }
        this.box.create(416+valorx*64, 128+valory*64, 'wall');


       //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');
    }

  if(valorobj ==1)
    {

        if(this.gamemode==0)
        this.enemigos.create(416+valorx*64, 128+valory*64, 'enemigo');
        //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
  }

  if(valorobj ==2)
    {
       this.pisomov.create(416+valorx*64, 128+valory*64, 'pisomov');
       // this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
  }

   if(valorobj ==3)
    {
       this.pisor1.create(416+valorx*64, 128+valory*64, 'pisor1');
//        this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
  }
   if(valorobj ==4)
    {
         this.minas.create(416+valorx*64, 128+valory*64, 'mina');
  //      this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  }
   if(valorobj ==5)
    {
        this.myShip.x = 416+valorx*64;
        this.myShip.y =  128+valory*64;
    }
     if(valorobj ==6)
    {
        this.boxFuerte.create(416+valorx*64, 128+valory*64, 'wall2');
    }
    if(valorobj ==7)
    {
        this.myShip2.x = 416+valorx*64;
        this.myShip2.y =  128+valory*64;
    }
    if(valorobj ==8)
    {
        this.myShip3.x = 416+valorx*64;
        this.myShip3.y =  128+valory*64;
    }
    if(valorobj ==9)
    {
        this.myShip4.x = 416+valorx*64;
        this.myShip4.y =  128+valory*64;
    }




}

   


}
}


     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();
   this.kills.setText(this.enemigos.getLength());



if(this.vidasInt >0  && this.vidasInt >0)
{
    this.myShip.x = 430;
    this.myShip.y = 130;
    this.vidas.setText(this.vidasInt);


}


if(this.jugadoresTotal >=2 && this.vidasInt2 >0)
{
  this.myShip2.x = 1820;
   this.myShip2.y = 130;
    this.vidasJ2.setText(this.vidasInt2);


}   
if(this.jugadoresTotal >=3 && this.vidasInt3 >0)
{
   this.myShip3.x = 420;
   this.myShip3.y = 885;

    this.vidasJ3.setText(this.vidasInt3);
}   
if(this.jugadoresTotal >=4 && this.vidasInt4 >0)
{
  this.myShip4.x = 1820;
   this.myShip4.y = 885;
     this.vidasJ4.setText(this.vidasInt4);
}




//BORRAR SI HAY PROBLEMAS DE RENDIMIENTO!!!!! (EXPERIMENTAL)
 /* this.menupausesprite = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause');
  this.menupausesprite.visible = false;

   this.menupausesprite2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause2');
  this.menupausesprite2.visible = false;

 this.menupausesprite3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause3');
  this.menupausesprite3.visible = false;

 this.menupspritereiniciar = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenu');
  this.menupspritereiniciar.visible = false;

   this.menupspritereiniciarP1 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP1');
  this.menupspritereiniciarP1.visible = false;

   this.menupspritereiniciarP2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP2');
  this.menupspritereiniciarP2.visible = false;

   this.menupspritereiniciarP3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP3');
  this.menupspritereiniciarP3.visible = false;

   this.menupspritereiniciarP4 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP4');
  this.menupspritereiniciarP4.visible = false;*/
//BORRAR SI HAY PROBLEMAS DE RENDIMIENTO!!!!!


    }

}


    this.physics.add.collider(this.enemigos,this.wallkill);

   this.physics.add.overlap(this.enemigos,this.wallkill, actualizarEnemigos, function(col1,col2){
    col1.destroy();
   },this);
   
this.physics.add.collider(this.myShip,this.bombasFull);
this.physics.add.collider(this.myShip,this.bombasFull2);
this.physics.add.collider(this.myShip,this.bombasFull3);
this.physics.add.collider(this.myShip,this.bombasFull4);
this.physics.add.collider(this.myShip,this.bombasFull5);


this.physics.add.collider(this.myShip2,this.bombasFull);
this.physics.add.collider(this.myShip2,this.bombasFull2);
this.physics.add.collider(this.myShip2,this.bombasFull3);
this.physics.add.collider(this.myShip2,this.bombasFull4);
this.physics.add.collider(this.myShip2,this.bombasFull5);


this.physics.add.collider(this.myShip3,this.bombasFull);
this.physics.add.collider(this.myShip3,this.bombasFull2);
this.physics.add.collider(this.myShip3,this.bombasFull3);
this.physics.add.collider(this.myShip3,this.bombasFull4);
this.physics.add.collider(this.myShip3,this.bombasFull5);

this.physics.add.collider(this.myShip4,this.bombasFull);
this.physics.add.collider(this.myShip4,this.bombasFull2);
this.physics.add.collider(this.myShip4,this.bombasFull3);
this.physics.add.collider(this.myShip4,this.bombasFull4);
this.physics.add.collider(this.myShip4,this.bombasFull5);

this.physics.add.collider(this.enemigos,this.bombasFull);
this.physics.add.collider(this.enemigos,this.bombasFull2);
this.physics.add.collider(this.enemigos,this.bombasFull3);
this.physics.add.collider(this.enemigos,this.bombasFull4);
this.physics.add.collider(this.enemigos,this.bombasFull5);
this.physics.add.collider(this.enemigos,this.pisor2);

   this.physics.add.collider(this.myShip, this.boxFuerte);
 this.physics.add.collider(this.myShip, this.boxFuerte2);
  this.physics.add.collider(this.myShip, this.pisor2);

  this.physics.add.collider(this.myShip2, this.boxFuerte);
 this.physics.add.collider(this.myShip2, this.boxFuerte2);
  this.physics.add.collider(this.myShip2, this.pisor2);


  this.physics.add.collider(this.myShip3, this.boxFuerte);
 this.physics.add.collider(this.myShip3, this.boxFuerte2);
  this.physics.add.collider(this.myShip3, this.pisor2);

  this.physics.add.collider(this.myShip4, this.boxFuerte);
 this.physics.add.collider(this.myShip4, this.boxFuerte2);
  this.physics.add.collider(this.myShip4, this.pisor2);
 
 
   this.physics.add.collider(this.boxFuerte,this.powerups,function(col1,col2)
    {
        col2.destroy();
    });


    this.physics.add.collider(this.explosionUp,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

   this.physics.add.collider(this.explosionUp2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight2,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

   this.physics.add.collider(this.explosionUp3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight3,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

   this.physics.add.collider(this.explosionUp4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight4,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

    this.physics.add.collider(this.explosionUp5,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
     this.physics.add.collider(this.explosionDown5,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionLeft5,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });
   this.physics.add.collider(this.explosionRight5,this.box, function(col1,col2){
    col1.destroy();
    col2.destroy();
   });

function crearpisor2()
{
    this.pisor2.create(this.pisor2X, this.pisor2Y,'pisor2');
}

  //colision rompible 1
   this.physics.add.collider(this.explosionUp,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);

//colision rompible 2
   this.physics.add.collider(this.explosionUp2,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown2,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft2,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight2,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);


//colision rompible 3
   this.physics.add.collider(this.explosionUp3,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown3,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft3,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight3,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);

//colision rompible 4
   this.physics.add.collider(this.explosionUp4,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown4,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft4,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight4,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);


//colision rompible 5
   this.physics.add.collider(this.explosionUp5,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
      col2.destroy();
    
   },this);

     this.physics.add.collider(this.explosionDown5,this.pisor1,crearpisor2, function(col1,col2){
          this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionLeft5,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
  },this);
   this.physics.add.collider(this.explosionRight5,this.pisor1,crearpisor2, function(col1,col2){
      this.pisor2X = col2.x;
this.pisor2Y = col2.y;
    col2.destroy();
   },this);


//COLISION CON ENEMIGOS
 this.physics.add.collider(this.enemigos,this.boxFuerte, function(col1,col2){

   });

this.physics.add.collider(this.enemigos,this.boxFuerte2, function(col1,col2){

   });

 this.physics.add.collider(this.enemigos,this.box, function(col1,col2){

   });

this.physics.add.collider(this.enemigos,this.explosionUp,aumentarScore, function(col1,col2){

      if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();


   },this);

this.physics.add.collider(this.enemigos,this.explosionDown, aumentarScore, function(col1,col2){

   if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
   
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft, aumentarScore, function(col1,col2){
   if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight, aumentarScore, function(col1,col2){

    if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
 
   },this);

//2

this.physics.add.collider(this.enemigos,this.explosionUp2,aumentarScore, function(col1,col2){
if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
   },this);

this.physics.add.collider(this.enemigos,this.explosionDown2, aumentarScore, function(col1,col2){
if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
   
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft2, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight2, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();

   },this);

//3

this.physics.add.collider(this.enemigos,this.explosionUp3,aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
    
   },this);

this.physics.add.collider(this.enemigos,this.explosionDown3, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft3, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight3, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();

   },this);


//4

this.physics.add.collider(this.enemigos,this.explosionUp4,aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
    
   },this);

this.physics.add.collider(this.enemigos,this.explosionDown4, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();
   
   },this);


this.physics.add.collider(this.enemigos,this.explosionLeft4, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();

   },this);

this.physics.add.collider(this.enemigos,this.explosionRight4, aumentarScore, function(col1,col2){

if(this.dificultad==2)
    {
    if(col1.getData('quemado')==1)
      col1.destroy();
      else
      {
      col1.setData('quemado', 1);
    col1.setTexture('enemigoquemado');
  }
}else
{
    col1.destroy();
 }   
      col2.destroy();

   },this);

function bajarvidas2()
{
  
if(this.cooldownP2 ==0)
    {
      this.loselivesound.play();
         this.cooldownP2 =1;
        this.cooldownP2tick=100;

  /*    this.guanteP2 =0;
          this.patin2 = 10;
        this.bombas2 = 1;
            this.llama2 = 2;
*/
     if(this.vidasInt2 <= 1)
   {
    this.vidasInt2 = this.vidasInt2 - 1;
        this.vidasJ2.setText(this.vidasInt2);    

     this.myShip2.x = 10000;
   this.myShip2.y = 10000;
   this.myShip2.visible = false;
   }
   else
   {
    this.vidasInt2 = this.vidasInt2 - 1;
    this.vidasJ2.setText(this.vidasInt2);    

if(this.relojInt > 0)
  {
   this.myShip2.x = 1820;
   this.myShip2.y = 130;
 }
    }
}
}

function bajarvidas3()
{
 
    if(this.cooldownP3 ==0)
    {
       this.loselivesound.play();
 this.cooldownP3 =1;
        this.cooldownP3tick=100;

/*this.guanteP3 =0;
    this.patin3 = 10;
  this.bombas3 = 1;
      this.llama3 = 2;
*/

       if(this.vidasInt3 <= 1)
   {
    this.vidasInt3 = this.vidasInt3 - 1;
        this.vidasJ3.setText(this.vidasInt3); 

         this.myShip3.x = 10000;
   this.myShip3.y = 10000;
   this.myShip3.visible = false;
}
else
{
this.vidasInt3 = this.vidasInt3 - 1;
    this.vidasJ3.setText(this.vidasInt3); 
 
if(this.relojInt > 0)
  {
   this.myShip3.x = 420;
   this.myShip3.y = 885;
}
}
}
}
function bajarvidas4()
{
 
    if(this.cooldownP4 ==0)
    {
 this.loselivesound.play();
         this.cooldownP4 =1;
        this.cooldownP4tick=100;

  /*      this.guanteP4 =0;
    this.patin4 = 10;
  this.bombas4 = 1;
      this.llama4 = 2;
*/
     if(this.vidasInt4 <= 1)
   {
     this.vidasInt4 = this.vidasInt4 - 1;
         this.vidasJ4.setText(this.vidasInt4);   

      this.myShip4.x = 10000;
   this.myShip4.y = 10000;
   this.myShip4.visible = false;
}
else
{
     this.vidasInt4 = this.vidasInt4 - 1;
    this.vidasJ4.setText(this.vidasInt4);   
 
 if(this.relojInt > 0)
  {
   this.myShip4.x = 1820;
   this.myShip4.y = 885;
}
}
}
}

function bajarvidas()
{

    if(this.cooldownP1 ==0)
    {
      this.loselivesound.play();
        this.cooldownP1 =1;
        this.cooldownP1tick=100;
      
     /* this.guanteP1 =0;
    this.patin = 10;
  this.bombas = 1;
      this.llama = 2;
*/
        if(this.gamemode==0)
        {
        //    this.relojInt = 300;
      //this.caerparedX =-1;
 //this.caerparedY = 1;
// this.wallkill.clear(this.scene);

}

   if(this.vidasInt > 1)
   {

    this.vidasInt = this.vidasInt - 1;
   
  
  if(this.relojInt > 0)
  {
   this.myShip.x = 420;
   this.myShip.y = 130;
    }
    this.vidas.setText(this.vidasInt);
}
else
{

        if(this.gamemode ==0 || this.gamemode ==1 || this.gamemode ==2)
        {
    this.vidasInt = this.vidasInt - 1;
    this.vidas.setText(this.vidasInt);    

   this.myShip.x = 5000;
   this.myShip.y = 5000;
    this.myShip.visible = false;
}





}
}
}


this.physics.add.overlap(this.enemigos,this.myShip, bajarvidas, function(col1,col2){

   }, this);
this.physics.add.overlap(this.enemigos,this.myShip2, bajarvidas2, function(col1,col2){

   }, this);
this.physics.add.overlap(this.enemigos,this.myShip3, bajarvidas3, function(col1,col2){

   }, this);
this.physics.add.overlap(this.enemigos,this.myShip4, bajarvidas4, function(col1,col2){

   }, this);



this.physics.add.collider(this.explosionUp,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight,this.minas, function(col1,col2){
    col2.destroy();
    
   });

   //2


this.physics.add.collider(this.explosionUp2,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown2,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft2,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight2,this.minas, function(col1,col2){
    col2.destroy();
    
   });

    //3


this.physics.add.collider(this.explosionUp3,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown3,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft3,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight3,this.minas, function(col1,col2){
    col2.destroy();
    
   });


    //4


this.physics.add.collider(this.explosionUp4,this.minas, function(col1,col2){
    col2.destroy();
    
   });
     this.physics.add.collider(this.explosionDown4,this.minas, function(col1,col2){
    col2.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft4,this.minas, function(col1,col2){
    col2.destroy();
  
   });
   this.physics.add.collider(this.explosionRight4,this.minas, function(col1,col2){
    col2.destroy();
    
   });


//1
    this.physics.add.collider(this.explosionUp,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });


//2
    this.physics.add.collider(this.explosionUp2,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown2,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft2,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight2,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });


//3
    this.physics.add.collider(this.explosionUp3,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown3,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft3,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight3,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });


//4
    this.physics.add.collider(this.explosionUp4,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown4,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft4,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight4,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
   //4
    this.physics.add.collider(this.explosionUp5,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown5,this.boxFuerte, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft5,this.boxFuerte, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight5,this.boxFuerte, function(col1,col2){
    col1.destroy();
    
   });
//1

 this.physics.add.collider(this.explosionUp,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });


//2

 this.physics.add.collider(this.explosionUp2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight2,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });


//3

 this.physics.add.collider(this.explosionUp3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight3,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });



//4

 this.physics.add.collider(this.explosionUp4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight4,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });


//4

 this.physics.add.collider(this.explosionUp5,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });
     this.physics.add.collider(this.explosionDown5,this.boxFuerte2, function(col1,col2){
    col1.destroy();
   
   });
   this.physics.add.collider(this.explosionLeft5,this.boxFuerte2, function(col1,col2){
    col1.destroy();
  
   });
   this.physics.add.collider(this.explosionRight5,this.boxFuerte2, function(col1,col2){
    col1.destroy();
    
   });

 function aumentarScore1()
{

if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
   // this.scoreInt = this.scoreInt + 500;
   if(this.cooldownP2tick==100)
   {
    if(this.killsInt =0)
    this.killsInt = this.killsInt +1;
    }
 if(this.cooldownP3tick==100)
    this.killsInt = this.killsInt +1;

if(this.cooldownP4tick==100)
    this.killsInt = this.killsInt +1;
    //this.score.setText(this.scoreInt);
    this.kills.setText(this.killsInt);
  }
}


 function aumentarScore2()
{

if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
   if(this.cooldownP1tick==100)
    this.killsInt2 = this.killsInt2 +1;

 if(this.cooldownP3tick==100)
    this.killsInt2 = this.killsInt2 +1;

if(this.cooldownP4tick==100)
    this.killsInt2 = this.killsInt2 +1;

    //this.score.setText(this.scoreInt);
    this.killsJ2.setText(this.killsInt2);
 } 
}

 function aumentarScore3()
{
if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
     if(this.cooldownP1tick==100)
    this.killsInt3 = this.killsInt3 +1;

 if(this.cooldownP2tick==100)
    this.killsInt3 = this.killsInt3 +1;

if(this.cooldownP4tick==100)
    this.killsInt3 = this.killsInt3 +1;

    //this.score.setText(this.scoreInt);
    this.killsJ3.setText(this.killsInt3);
  }
}

 function aumentarScore4()
{
if(this.gamemode == 1 || this.gamemode == 2)
{
   // this.scoreInt = this.scoreInt + 500;
    if(this.cooldownP1tick==100)
    this.killsInt4 = this.killsInt4 +1;

 if(this.cooldownP2tick==100)
    this.killsInt4 = this.killsInt4 +1;

if(this.cooldownP3tick==100)
    this.killsInt4 = this.killsInt4 +1;


    //this.score.setText(this.scoreInt);
    this.killsJ4.setText(this.killsInt4);
  }
}
   function aumentarScore()
{
this.matarbotsound.play();
    this.scoreInt = this.scoreInt + 500;

    if(this.gamemode ==0)
    {
    this.killsInt = this.enemigos.getLength();
   }
   this.score.setText(this.scoreInt);
    this.kills.setText(this.killsInt);
    //this.score.setFontSize(this.scoreInt);

 if(this.enemigos.getLength() <=0)
    {
    this.game.sound.stopAll();
    this.moonsong.play();
  this.caerparedX =-1;
 this.caerparedY = 1;
  this.disminuirX = 0;
    this.disminuirY = 0;
    this.caerEnX = 1;
    this.caerEnY = 0;

if(this.nivelInt <=99)
    this.nivelInt = this.nivelInt + 1;
this.wallkill.clear(this.scene);
this.relojInt = 300;

   this.nivel.setText(this.nivelInt);
   this.score.setText(this.scoreInt);
    this.vidas.setText(this.vidasInt);
this.powerupsLlamas.clear(this.scene);
this.powerupsVidas.clear(this.scene);
this.wallkill.clear(this.scene);

this.pisor1.clear(this.scene);
this.pisor2.clear(this.scene);
this.powerupsGuantes.clear(this.scene);
this.powerupsPatin.clear(this.scene);
this.powerupsBombas.clear(this.scene);
this.box.clear(this.scene);
this.boxFuerte.clear(this.scene);
this.enemigos.clear(this.scene);
this.explosionRight.clear(this.scene);
this.explosionLeft.clear(this.scene);
this.explosionDown.clear(this.scene);
this.explosionUp.clear(this.scene);


if(this.designer==0)
{
    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {
        if(i > -2 && i < 1 && j > 0 && j < 3)
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);

     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
    if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');
     }

 }

 }
}
if(this.designer==2)
{
  
  this.mapaNumero = this.mapaNumero-1;
var value = localStorage.getItem(this.mapaNumero);

if(value != null)
{
console.log(value);

var elementos = value.split(';');
    
    var valorx = 0;
 var valory = 0;
 var valorobj = 99;


for (var i = 0; i < elementos.length; i++) {
 
console.log(i);

console.log(elementos[i]);

 var valores = elementos[i].split(',');

if(valores != null)
{
  valorx = valores[0];
  valory = valores[1];
  valorobj = valores[2];
}


 if(valorobj ==0)
    {
           var item = Phaser.Math.Between(0,40);

  if(item ==1)
     {
     this.powerupsLlamas.create(416+valorx*64, 128+valory*64,'poderllama');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(416+valorx*64, 128+valory*64,'poderpatin');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(416+valorx*64, 128+valory*64, 'poderbomba');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(416+valorx*64, 128+valory*64,'podervida');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(416+valorx*64, 128+valory*64, 'poderguante');
    }
        this.box.create(416+valorx*64, 128+valory*64, 'wall');


       //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');
    }

  if(valorobj ==1)
    {

        if(this.gamemode==0)
        this.enemigos.create(416+valorx*64, 128+valory*64, 'enemigo');
        //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
  }

  if(valorobj ==2)
    {
       this.pisomov.create(416+valorx*64, 128+valory*64, 'pisomov');
       // this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
  }

   if(valorobj ==3)
    {
       this.pisor1.create(416+valorx*64, 128+valory*64, 'pisor1');
//        this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
  }
   if(valorobj ==4)
    {
         this.minas.create(416+valorx*64, 128+valory*64, 'mina');
  //      this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  }
   if(valorobj ==5)
    {
        this.myShip.x = 416+valorx*64;
        this.myShip.y =  128+valory*64;
    }
     if(valorobj ==6)
    {
        this.boxFuerte.create(416+valorx*64, 128+valory*64, 'wall2');
    }
    if(valorobj ==7)
    {
        this.myShip2.x = 416+valorx*64;
        this.myShip2.y =  128+valory*64;
    }
    if(valorobj ==8)
    {
        this.myShip3.x = 416+valorx*64;
        this.myShip3.y =  128+valory*64;
    }
    if(valorobj ==9)
    {
        this.myShip4.x = 416+valorx*64;
        this.myShip4.y =  128+valory*64;
    }




}

   


}
}


     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();
   this.kills.setText(this.enemigos.getLength());



if(this.vidasInt >0  && this.vidasInt >0)
{
    this.myShip.x = 430;
    this.myShip.y = 130;
    this.vidas.setText(this.vidasInt);


}


if(this.jugadoresTotal >=2 && this.vidasInt2 >0)
{
  this.myShip2.x = 1820;
   this.myShip2.y = 130;
    this.vidasJ2.setText(this.vidasInt2);


}   
if(this.jugadoresTotal >=3 && this.vidasInt3 >0)
{
   this.myShip3.x = 420;
   this.myShip3.y = 885;

    this.vidasJ3.setText(this.vidasInt3);
}   
if(this.jugadoresTotal >=4 && this.vidasInt4 >0)
{
  this.myShip4.x = 1820;
   this.myShip4.y = 885;
     this.vidasJ4.setText(this.vidasInt4);
}




//BORRAR SI HAY PROBLEMAS DE RENDIMIENTO!!!!! (EXPERIMENTAL)
 /* this.menupausesprite = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause');
  this.menupausesprite.visible = false;

   this.menupausesprite2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause2');
  this.menupausesprite2.visible = false;

 this.menupausesprite3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause3');
  this.menupausesprite3.visible = false;

 this.menupspritereiniciar = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenu');
  this.menupspritereiniciar.visible = false;

   this.menupspritereiniciarP1 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP1');
  this.menupspritereiniciarP1.visible = false;

   this.menupspritereiniciarP2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP2');
  this.menupspritereiniciarP2.visible = false;

   this.menupspritereiniciarP3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP3');
  this.menupspritereiniciarP3.visible = false;

   this.menupspritereiniciarP4 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP4');
  this.menupspritereiniciarP4.visible = false;*/
//BORRAR SI HAY PROBLEMAS DE RENDIMIENTO!!!!!


    }

}
function aumentarllamas()
{
    this.itemsound.play();
    this.scoreInt = this.scoreInt + 150;
    this.llama = this.llama +1;  console.log("llama");
    this.score.setText(this.scoreInt);
}
function aumentarllamas2()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 150;
    this.llama2 = this.llama2 +1;  console.log("llama2");
    this.score.setText(this.scoreInt);
}
function aumentarllamas3()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 150;
    this.llama3 = this.llama3 +1;  console.log("llama3");
    this.score.setText(this.scoreInt);
}
function aumentarllamas4()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 150;
    this.llama4 = this.llama4 +1;  console.log("llama4");
    this.score.setText(this.scoreInt);
}


  function aumentarBombas()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 100;
    this.bombas = this.bombas +1;  console.log("bomba");
    this.score.setText(this.scoreInt);
}
 function aumentarBombas2()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 100;
    this.bombas2 = this.bombas2 +1;  console.log("bomba2");
    this.score.setText(this.scoreInt);
}
 function aumentarBombas3()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 100;
    this.bombas3 = this.bombas3 +1;  console.log("bomba3");
    this.score.setText(this.scoreInt);
}
 function aumentarBombas4()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 100;
    this.bombas4 = this.bombas4 +1;  console.log("bomba4");
    this.score.setText(this.scoreInt);
}



function agregarGuante1()
{
  this.itemsound.play();
   this.guanteP1 = 1;
     this.scoreInt = this.scoreInt + 150;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}

function agregarGuante2()
{
  this.itemsound.play();
   this.guanteP2 = 1;
     this.scoreInt = this.scoreInt + 150;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}
function agregarGuante3()
{
  this.itemsound.play();
   this.guanteP3 = 1;
     this.scoreInt = this.scoreInt + 150;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}
function agregarGuante4()
{
  this.itemsound.play();
   this.guanteP4 = 1;
     this.scoreInt = this.scoreInt + 150;
      this.score.setText(this.scoreInt);
    console.log("guante");   
}
function aumentarPatin()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 200;
    this.patin = this.patin +5;
    console.log("velocidad");
    this.score.setText(this.scoreInt);
}

function aumentarPatin2()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 200;
    this.patin2 = this.patin2 +5;
    console.log("velocidad2");
    this.score.setText(this.scoreInt);
}

function aumentarPatin3()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 200;
    this.patin3 = this.patin3 +5;
    console.log("velocidad3");
    this.score.setText(this.scoreInt);
}

function aumentarPatin4()
{
  this.itemsound.play();
    this.scoreInt = this.scoreInt + 200;
    this.patin4 = this.patin4 +5;
    console.log("velocidad4");
    this.score.setText(this.scoreInt);
}

function aumentarVida()
{
  this.itemsound.play();
     this.scoreInt = this.scoreInt + 300;
    this.vidasInt = this.vidasInt + 1;
    console.log("vida");
    this.vidas.setText(this.vidasInt);
      this.score.setText(this.scoreInt);
}

function aumentarVida2()
{
  this.itemsound.play();
     this.scoreInt = this.scoreInt + 300;
    this.vidasInt2 = this.vidasInt2 + 1;
    console.log("vida2");
    this.vidasJ2.setText(this.vidasInt2);
      this.score.setText(this.scoreInt);
}

function aumentarVida3()
{
  this.itemsound.play();
     this.scoreInt = this.scoreInt + 300;
    this.vidasInt3 = this.vidasInt3 + 1;
    console.log("vida3");
    this.vidasJ3.setText(this.vidasInt3);
      this.score.setText(this.scoreInt);
}

function aumentarVida4()
{
  this.itemsound.play();
     this.scoreInt = this.scoreInt + 300;
    this.vidasInt4 = this.vidasInt4 + 1;
    console.log("vida4");
    this.vidasJ4.setText(this.vidasInt4);
      this.score.setText(this.scoreInt);
}




this.physics.add.collider(this.myShip,this.powerupsBombas, aumentarBombas, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip2,this.powerupsBombas, aumentarBombas2, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip3,this.powerupsBombas, aumentarBombas3, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip4,this.powerupsBombas, aumentarBombas4, function(col1,col2){
    col2.destroy();  
   },this);



  this.physics.add.collider(this.myShip,this.powerupsLlamas, aumentarllamas, function(col1,col2){
    col2.destroy();  
   },this);
  this.physics.add.collider(this.myShip2,this.powerupsLlamas, aumentarllamas2, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip3,this.powerupsLlamas, aumentarllamas3, function(col1,col2){
    col2.destroy();  
   },this);
this.physics.add.collider(this.myShip4,this.powerupsLlamas, aumentarllamas4, function(col1,col2){
    col2.destroy();  
   },this);



 this.physics.add.collider(this.myShip,this.powerupsVidas, aumentarVida, function(col1,col2){
    col2.destroy();    
   },this);
 this.physics.add.collider(this.myShip2,this.powerupsVidas, aumentarVida2, function(col1,col2){
    col2.destroy();    
   },this);
 this.physics.add.collider(this.myShip3,this.powerupsVidas, aumentarVida3, function(col1,col2){
    col2.destroy();    
   },this);
 this.physics.add.collider(this.myShip4,this.powerupsVidas, aumentarVida4, function(col1,col2){
    col2.destroy();    
   },this);

  this.physics.add.collider(this.myShip,this.powerupsPatin, aumentarPatin, function(col1,col2){
    col2.destroy();    
   },this);
   this.physics.add.collider(this.myShip2,this.powerupsPatin, aumentarPatin2, function(col1,col2){
    col2.destroy();    
   },this);
    this.physics.add.collider(this.myShip3,this.powerupsPatin, aumentarPatin3, function(col1,col2){
    col2.destroy();    
   },this);
     this.physics.add.collider(this.myShip4,this.powerupsPatin, aumentarPatin4, function(col1,col2){
    col2.destroy();    
   },this);


  this.physics.add.collider(this.myShip,this.powerupsGuantes, agregarGuante1, function(col1,col2){
    col2.destroy();    
   },this);
   this.physics.add.collider(this.myShip2,this.powerupsGuantes, agregarGuante2, function(col1,col2){
    col2.destroy();    
   },this);
    this.physics.add.collider(this.myShip3,this.powerupsGuantes, agregarGuante3, function(col1,col2){
    col2.destroy();    
   },this);
     this.physics.add.collider(this.myShip4,this.powerupsGuantes, agregarGuante4, function(col1,col2){
    col2.destroy();    
   },this);
         
   this.physics.add.collider(this.myShip,this.powerups, function(col1,col2){
   

    col2.destroy();
         
    
   });

    this.physics.add.collider(this.myShip,this.minas, bajarvidas,function(col1,col2){
    col2.destroy();     
   },this);
     this.physics.add.collider(this.myShip2,this.minas, bajarvidas2,function(col1,col2){
    col2.destroy();     
   },this);
      this.physics.add.collider(this.myShip3,this.minas, bajarvidas3,function(col1,col2){
    col2.destroy();     
   },this);
       this.physics.add.collider(this.myShip4,this.minas, bajarvidas4,function(col1,col2){
    col2.destroy();     
   },this);

//GUANTES
 this.physics.add.overlap(this.myShip,this.bombasFull, null,function(col1,col2){
    
    if(this.guanteP1==2)
    {
        if(this.cursors.down.isDown && (col2.y - this.myShip.y) < 256)
        {
           this.bombasFullDirection= "ABAJO";
        col2.y = col2.y + 20;
        }

        if(this.cursors.left.isDown && (this.myShip.x - col2.x) < 256)
        {
     this.bombasFullDirection= "IZQ";
        col2.x = col2.x - 20;
        }

          if(this.cursors.right.isDown && (col2.x - this.myShip.x ) < 256)
        {
       this.bombasFullDirection= "DER";
        col2.x = col2.x + 20;
        }
          if(this.cursors.up.isDown  && ( this.myShip.y - col2.y) < 256)
        {
       this.bombasFullDirection= "ARRIBA";
          col2.y = col2.y - 20;
        }
    }

   },this);


 this.physics.add.overlap(this.myShip2,this.bombasFull2, cogerBomba,function(col1,col2){
    
    if(this.guanteP2==2)
    {
        if(this.downjugador2.isDown && (col2.y - this.myShip2.y) < 256)
        {
        this.bombasFullDirection2= "ABAJO";
        col2.y = col2.y + 20;
        }

        if(this.leftjugador2.isDown && (this.myShip2.x - col2.x) < 256)
        {
       this.bombasFullDirection2= "IZQ";
        col2.x = col2.x - 20;
        }

          if(this.rightjugador2.isDown && (col2.x - this.myShip2.x ) < 256)
        {
        this.bombasFullDirection2= "DER";
        col2.x = col2.x + 20;
        }
          if(this.upjugador2.isDown && ( this.myShip2.y - col2.y) < 256)
        {
        this.bombasFullDirection2= "ARRIBA";
          col2.y = col2.y - 20;
        }
    }

   },this);



 this.physics.add.overlap(this.myShip3,this.bombasFull3, cogerBomba,function(col1,col2){
    
    if(this.guanteP3==2)
    {
        if(this.downjugador3.isDown && (col2.y - this.myShip3.y) < 256)
        {
        this.bombasFullDirection3= "ABAJO";
        col2.y = col2.y + 20;
        }

        if(this.leftjugador3.isDown && (this.myShip3.x - col2.x) < 256)
        {
         this.bombasFullDirection3= "IZQ";
        col2.x = col2.x - 20;
        }

          if(this.rightjugador3.isDown && (col2.x - this.myShip3.x ) < 256)
        {
        this.bombasFullDirection3= "DER";
        col2.x = col2.x + 20;
        }
          if(this.upjugador3.isDown && ( this.myShip3.y - col2.y) < 256)
        {
         this.bombasFullDirection3= "ARRIBA";
          col2.y = col2.y - 20;
        }
    }

   },this);


 this.physics.add.overlap(this.myShip4,this.bombasFull4, cogerBomba,function(col1,col2){
    
    if(this.guanteP4==2)
    {
        if(this.downjugador4.isDown && (col2.y - this.myShip4.y) < 256)
        {
         this.bombasFullDirection4= "ABAJO";
        col2.y = col2.y + 20;
        }

        if(this.leftjugador4.isDown && (this.myShip4.x - col2.x) < 256)
        {
       this.bombasFullDirection4= "IZQ";
        col2.x = col2.x - 20;
        }

          if(this.rightjugador4.isDown && (col2.x - this.myShip4.x ) < 256)
        {
        this.bombasFullDirection4= "DER";
        col2.x = col2.x + 20;
        }
          if(this.upjugador4.isDown && ( this.myShip4.y - col2.y) < 256)
        {
        this.bombasFullDirection4= "ARRIBA";
          col2.y = col2.y - 20;
        }
    }

   },this);

 //leftjugador2


 function actualizarEstado()
{
    if(this.pause==0 && (this.designer==0 || this.designer==2))
{
if( this.vidasInt >0)
{
      var posx = 0;
      var posy = 0;
      if(this.bombasFull.getLength()< this.bombas)
        {
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip.y+16)
              posy = 128 + i*64

            
          }
         this.bombasFull.create(posx, posy, 'bomba');
        
        this.countExplosion = 100;
         }       
    
}
     }
}

function actualizarEstado2()
{
    if(this.jugadoresTotal >=2 && this.vidasInt2 >0)
{
    var posx = 0;
      var posy = 0;
    if(this.pause==0 && (this.designer==0 || this.designer==2))
{
      if(this.bombasFull2.getLength()< this.bombas2)
        {
           for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip2.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip2.y+16)
              posy = 128 + i*64

            
          }
         this.bombasFull2.create(posx, posy, 'bomba');
        this.countExplosion2 = 100;
         }     
         }  
     }
}
function actualizarEstado3()
{
    if(this.jugadoresTotal >=3  && this.vidasInt3 >0)
{
    var posx = 0;
      var posy = 0;
    if(this.pause==0 && (this.designer==0 || this.designer==2))
{
      if(this.bombasFull3.getLength()< this.bombas3)
        {
           for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip3.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip3.y+16)
              posy = 128 + i*64

            
          }
        this.bombasFull3.create(posx, posy, 'bomba');
        this.countExplosion3 = 100;
         }     
         }  
     }
}
function actualizarEstado4()
{
    if(this.jugadoresTotal >=4 && this.vidasInt4 >0)
{
    var posx = 0;
      var posy = 0;
    if(this.pause==0 && (this.designer==0 || this.designer==2))
{
      if(this.bombasFull4.getLength()< this.bombas4)
        {
                 for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip4.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip4.y+16)
              posy = 128 + i*64

            
          }
         this.bombasFull4.create(posx, posy, 'bomba');
        this.countExplosion4 = 100;
         }   
         }  
         }  
}




 // cursor.data.on('X', actualizarEstado, this);
   this.input.keyboard.on('keydown_X', actualizarEstado, this);
   this.input.keyboard.on('keydown_C', actualizarEstado2, this);
   this.input.keyboard.on('keydown_V', actualizarEstado3, this);
   this.input.keyboard.on('keydown_B', actualizarEstado4, this);

//guante

function cogerBomba()
{

}
this.input.keyboard.on('keydown_Z', cogerBomba, this);
 const rows = [[0,0,99]];

function activarPause()
{
  if(this.mensajeganar!=1)
  {
this.sound.stopAll();



   if(this.pause==1)
   {
    if(this.designer==1)
    {
      let superString ="";

//solo guardar en phaser
rows.forEach(function(rowArray) {
    let row = rowArray.join(",");
     superString += row + ";";
});

//superString = superString + '0,0,99';

//var stringNameMapa = "mapa" + this.mapaNumeroEditado;
var valoranterior = localStorage.getItem(this.mapaNumero);
var valoranterior = valoranterior + superString;


localStorage.setItem(this.mapaNumero, valoranterior);



//DESCARGAR ARCHIVOLOCAL CON MAPA COMENTADO SOLO USAR EN DEV
/*

let csvContent = "data:text/csv;charset=utf-8,";
     csvContent += valoranterior;
var encodedUri = encodeURI(csvContent);
var link = document.createElement("a");
link.setAttribute("href", encodedUri);
link.setAttribute("download", "my_data.csv");
document.body.appendChild(link); 

link.click(); 
*/
localStorage.setItem("mapasCreados", this.mapaNumero +1);

//this.mapacargar = localStorage.getItem("N1");

//DESIGNER0
    this.designer =2;
    }
    this.sound.stopAll();
    if(this.relojInt>1)
   this.moonsong.play();
 else
  this.wallfallsong.play();
   this.pause = 0;
    }
    else   
   this.pause = 1;  

if(this.pause ==0)
{

     this.seleccionoVotacion.setText("");
     this.objetocolocarsprite.visible = false;
 this.seleccionadoSprite.visible = false;

     this.menureiniciar =0;
    this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;

this.menupspritereiniciar.visible = false;

      this.menupspritereiniciarP1.visible = false;
     this.menupspritereiniciarP2.visible = false;
      this.menupspritereiniciarP3.visible = false;
       this.menupspritereiniciarP4.visible = false;

   
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
}

if(this.pause ==1)
{

if(this.menuseleccion==1)
    {
         this.menupausesprite.visible = true;
    }
    if(this.menuseleccion==2)
    {
            this.menupausesprite2.visible = true;

    }
    if(this.menuseleccion==3)
    {
            this.menupausesprite3.visible= true;
    }
}
    
    this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);


this.explosionUp5.setVelocityX(0);
    this.explosionDown5.setVelocityX(0);
    this.explosionLeft5.setVelocityY(0);
 this.explosionRight5.setVelocityY(0);

  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        
}
}




function moverMenuIzq()
{
if(this.pause == 1)
 {

  if(this.menuseleccion==1)
    {
 this.menupausesprite.visible = false;
  this.menupausesprite3.visible = true;
  this.menuseleccion = 3;
    }
    else if(this.menuseleccion==2)
    {

if(this.mensajeganar !=1)
{
 this.menupausesprite.visible = true;
  this.menupausesprite2.visible = false;
  this.menuseleccion = 1;
 }
    }
    else if(this.menuseleccion==3)
    {
this.menupausesprite3.visible = false;
  this.menupausesprite2.visible = true;
  this.menuseleccion = 2;
    }

                    
  }
}

function moverMenuDer()
{

    if(this.pause == 1)
 {
     if(this.menuseleccion==1)
    {
 this.menupausesprite.visible = false;
  this.menupausesprite2.visible = true;
  this.menuseleccion = 2;
    }
    else if(this.menuseleccion==2)
    {

 this.menupausesprite2.visible = false;
  this.menupausesprite3.visible = true;
  this.menuseleccion = 3;
 
    }
    else if(this.menuseleccion==3)
    {
      if(this.mensajeganar !=1)
{
this.menupausesprite.visible = true;
  this.menupausesprite3.visible = false;
  this.menuseleccion = 1;
}
    }
}
}


function realizarAccionesMenu()
{
     if(this.pause == 1)
 {
  if(this.novotacionP1 ==0 && this.menureiniciar ==0)
    this.seleccionoVotacion.setText("J1");

     if(this.menuseleccion==1)
    {
        if(this.mensajeganar!=1)
        {
        this.pause = 0;
         this.menupausesprite.visible = false;
         this.menupausesprite2.visible = false;
          this.menupausesprite3.visible = false;
          this.aceptarP1 = 0;
        this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
       }
     }

    else if(this.menuseleccion==2  && this.novotacionP1==0)
    {
      if(this.mensajeganar==1)
      {
         this.game.sound.stopAll();
        this.scene.restart();
      }
            this.novotacionP1 =1;
        this.menureiniciar =1;

        if(this.jugadoresTotal!=1)
        {
        
        if(this.jugadoresTotal==2)
     this.menupspritereiniciar.setTexture('votacionmenu2');
     if(this.jugadoresTotal==3)
             this.menupspritereiniciar.setTexture('votacionmenu3');

         this.menupspritereiniciar.visible = true;
        

        }



    }
    else if(this.menuseleccion==3)
    {
      this.game.sound.stopAll();
        this.scene.start('SceneB');

    }
 }


    
}


function realizarAccionesMenu2()
{
     if(this.pause == 1)
 {

    if(this.novotacionP2 ==0 && this.menureiniciar ==0)
    this.seleccionoVotacion.setText("J2");

     if(this.menuseleccion==1)
    {
      
        this.pause = 0;
         this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
     }

    else if(this.menuseleccion==2  && this.novotacionP2==0)
    {
          this.novotacionP2 =1;

        this.menureiniciar =1;

   if(this.jugadoresTotal==2)
     this.menupspritereiniciar.setTexture('votacionmenu2');
     if(this.jugadoresTotal==3)
             this.menupspritereiniciar.setTexture('votacionmenu3');
         

         this.menupspritereiniciar.visible = true;


    }
    else if(this.menuseleccion==3)
    {

        this.scene.start('SceneB');
    }
 }


    
}



function realizarAccionesMenu3()
{
     if(this.pause == 1)
 {
  if(this.novotacionP3 ==0 && this.menureiniciar ==0)
     this.seleccionoVotacion.setText("J3");

     if(this.menuseleccion==1)
    {
       
        this.pause = 0;
         this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
     }

    else if(this.menuseleccion==2  && this.novotacionP3==0)
    {  
         this.novotacionP3 =1;

        this.menureiniciar =1;

           if(this.jugadoresTotal==2)
     this.menupspritereiniciar.setTexture('votacionmenu2');
     if(this.jugadoresTotal==3)
             this.menupspritereiniciar.setTexture('votacionmenu3');
         

         this.menupspritereiniciar.visible = true;

      

    }
    else if(this.menuseleccion==3)
    {

        this.scene.start('SceneB');
    }
 }


    
}

function realizarAccionesMenu4()
{
     if(this.pause == 1)
 {
  if(this.novotacionP4 ==0 && this.menureiniciar ==0)
     this.seleccionoVotacion.setText("J4");
     if(this.menuseleccion==1)
    {
       
        this.pause = 0;
         this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
     }

    else if(this.menuseleccion==2 && this.novotacionP4==0)
    {
         this.novotacionP4 =1;
        this.menureiniciar =1;

           if(this.jugadoresTotal==2)
     this.menupspritereiniciar.setTexture('votacionmenu2');
     if(this.jugadoresTotal==3)
             this.menupspritereiniciar.setTexture('votacionmenu3');
         

         this.menupspritereiniciar.visible = true;

      

    }
    else if(this.menuseleccion==3)
    {

        this.scene.start('SceneB');
    }
 }


    
}
function aceptarVotacionP1()
{

    if(this.menureiniciar ==1 && this.pause ==1)
    {
    this.aceptarP1 = 1;

     if(this.jugadoresTotal!=1)
    this.menupspritereiniciarP1.visible = true;
   
    }
}
function aceptarVotacionP2()
{
    if(this.jugadoresTotal>=2)
    {
    if(this.menureiniciar ==1 && this.pause ==1)
    {
        this.aceptarP2 = 1;
   
    this.menupspritereiniciarP2.visible = true;

    }
}
}
function aceptarVotacionP3()
{
     if(this.jugadoresTotal>=3)
    {
    if(this.menureiniciar ==1 && this.pause ==1)
    {
            this.aceptarP3 = 1;

    this.menupspritereiniciarP3.visible = true;
    }
}
}
function aceptarVotacionP4()
{
     if(this.jugadoresTotal>=4)
    {
    if(this.menureiniciar ==1 && this.pause ==1)
    {
          this.aceptarP4 = 1;

    this.menupspritereiniciarP4.visible = true;
    }
}
}

function activarEspera2()
{


if(this.jugadoresTotal >=2)
{
    this.menuseleccion=2;
 this.aceptarP2 = 1;
    this.menupspritereiniciarP2.visible = true;

    this.pause = 1;
this.activarEsperaInt = 1;
this.menureiniciar = 1;
  this.menupspritereiniciar.visible = true;





      this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);


this.explosionUp5.setVelocityX(0);
    this.explosionDown5.setVelocityX(0);
    this.explosionLeft5.setVelocityY(0);
 this.explosionRight5.setVelocityY(0);

 if(this.gamemode == 0)
 {
    
  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

 }
}



}


function activarEspera3()
{

if(this.jugadoresTotal >=3)
{
     this.menuseleccion=2;
     this.aceptarP3 = 1;
    this.menupspritereiniciarP3.visible = true;

    this.pause = 1;
this.activarEsperaInt = 1;
this.menureiniciar = 1;
  this.menupspritereiniciar.visible = true;

      this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);



this.explosionUp5.setVelocityX(0);
    this.explosionDown5.setVelocityX(0);
    this.explosionLeft5.setVelocityY(0);
 this.explosionRight5.setVelocityY(0);

 if(this.gamemode == 0)
 {
    
  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

 }

}
}


function activarEspera4()
{


if(this.jugadoresTotal >=4)
{

     this.aceptarP4 = 1;
      this.menuseleccion=2;
    this.menupspritereiniciarP4.visible = true;

    this.pause = 1;
this.activarEsperaInt = 1;
this.menureiniciar = 1;
  this.menupspritereiniciar.visible = true;



      this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);

 this.explosionUp5.setVelocityX(0);
    this.explosionDown5.setVelocityX(0);
    this.explosionLeft5.setVelocityY(0);
 this.explosionRight5.setVelocityY(0);

 if(this.gamemode == 0)
 {

  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

 }
}

}

//simular desconexion mando 2
  this.input.keyboard.on('keydown_E', activarPause, this);
    this.input.keyboard.on('keydown_E', activarEspera2, this);
//simular desconexion mando 3
    this.input.keyboard.on('keydown_Y', activarPause, this);
     this.input.keyboard.on('keydown_Y', activarEspera3, this);
  //simular desconexion mando 4
    this.input.keyboard.on('keydown_O', activarPause, this);
     this.input.keyboard.on('keydown_O', activarEspera4, this);


this.input.keyboard.on('keydown_ENTER', activarPause, this);
this.input.keyboard.on('keydown_R', activarPause, this);
this.input.keyboard.on('keydown_U', activarPause, this);
this.input.keyboard.on('keydown_P', activarPause, this);

this.input.keyboard.on('keydown_LEFT', moverMenuIzq, this);
this.input.keyboard.on('keydown_RIGHT', moverMenuDer, this);
this.input.keyboard.on('keydown_X', realizarAccionesMenu, this);


this.input.keyboard.on('keydown_A', moverMenuIzq, this);
this.input.keyboard.on('keydown_D', moverMenuDer, this);
this.input.keyboard.on('keydown_C', realizarAccionesMenu2, this);

this.input.keyboard.on('keydown_F', moverMenuIzq, this);
this.input.keyboard.on('keydown_H', moverMenuDer, this);
this.input.keyboard.on('keydown_V', realizarAccionesMenu3, this);


this.input.keyboard.on('keydown_J', moverMenuIzq, this);
this.input.keyboard.on('keydown_L', moverMenuDer, this);
this.input.keyboard.on('keydown_B', realizarAccionesMenu4, this);


this.input.keyboard.on('keydown_X', aceptarVotacionP1, this);
this.input.keyboard.on('keydown_C', aceptarVotacionP2, this);
this.input.keyboard.on('keydown_V', aceptarVotacionP3, this);
this.input.keyboard.on('keydown_B', aceptarVotacionP4, this);


  this.menupausesprite = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause');
  this.menupausesprite.visible = false;

   this.menupausesprite2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause2');
  this.menupausesprite2.visible = false;

 this.menupausesprite3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'menupause3');
  this.menupausesprite3.visible = false;

 this.menupspritereiniciar = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenu');
  this.menupspritereiniciar.visible = false;

   this.menupspritereiniciarP1 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP1');
  this.menupspritereiniciarP1.visible = false;

   this.menupspritereiniciarP2 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP2');
  this.menupspritereiniciarP2.visible = false;

   this.menupspritereiniciarP3 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP3');
  this.menupspritereiniciarP3.visible = false;

   this.menupspritereiniciarP4 = this.physics.add.sprite(1920/2+200-50, 1080/2 -50, 'votacionmenuP4');
  this.menupspritereiniciarP4.visible = false;


function crearmapa()
{



}






 function moverazar()
 {
    
 }

this.seleccionoVotacion = this.add.text(1920/2+190, 1080/2-136, 'J1', { fontFamily: '"Arial Black"',  color: '#000000' });
this.seleccionoVotacion.setText("");
//moverazar();

//Designer
if(this.designer==1)
{
 for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {

  
      this.pisonegro.create(480+ i*32*2,  64 + j*32*2, 'pisonegro');
    }
  }
}


if(this.designer==1)
{
var value = localStorage.getItem(this.mapaNumero);

if(value != null)
{
console.log(value);

var elementos = value.split(';');
    
    var valorx = 0;
 var valory = 0;
 var valorobj = 99;


for (var i = 0; i < elementos.length; i++) {
 
console.log(i);

console.log(elementos[i]);

 var valores = elementos[i].split(',');

if(valores != null)
{
  valorx = valores[0];
  valory = valores[1];
  valorobj = valores[2];
}


 if(valorobj ==0)
    {
           var item = Phaser.Math.Between(0,40);

  if(item ==1)
     {
     this.powerupsLlamas.create(416+valorx*64, 128+valory*64,'poderllama');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(416+valorx*64, 128+valory*64,'poderpatin');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(416+valorx*64, 128+valory*64, 'poderbomba');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(416+valorx*64, 128+valory*64,'podervida');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(416+valorx*64, 128+valory*64, 'poderguante');
    }
        this.box.create(416+valorx*64, 128+valory*64, 'wall');


       //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');
    }

  if(valorobj ==1)
    {

        if(this.gamemode==0)
        this.enemigos.create(416+valorx*64, 128+valory*64, 'enemigo');
        //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
  }

  if(valorobj ==2)
    {
       this.pisomov.create(416+valorx*64, 128+valory*64, 'pisomov');
       // this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
  }

   if(valorobj ==3)
    {
       this.pisor1.create(416+valorx*64, 128+valory*64, 'pisor1');
//        this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
  }
   if(valorobj ==4)
    {
         this.minas.create(416+valorx*64, 128+valory*64, 'mina');
  //      this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  }
   if(valorobj ==5)
    {
        this.myShip.x = 416+valorx*64;
        this.myShip.y =  128+valory*64;
    }
     if(valorobj ==6)
    {
        this.boxFuerte.create(416+valorx*64, 128+valory*64, 'wall2');
    }
    if(valorobj ==7)
    {
        this.myShip2.x = 416+valorx*64;
        this.myShip2.y =  128+valory*64;
    }
    if(valorobj ==8)
    {
        this.myShip3.x = 416+valorx*64;
        this.myShip3.y =  128+valory*64;
    }
    if(valorobj ==9)
    {
        this.myShip4.x = 416+valorx*64;
        this.myShip4.y =  128+valory*64;
    }




}

   


}
}


this.designerX = 0;
this.designerY = 0;
this.element = 0;

     // this.objetocolocarspriteStart = this.physics.add.sprite(416 , 128, 'ship');
  
this.objetocolocar=0;

 //this.objetocolocarsprite = this.physics.add.sprite(416, 128, 'wall');

 this.objetocolocarsprite = this.physics.add.sprite(416, 128, 'wall');
 this.seleccionadoSprite = this.physics.add.sprite(416, 128, 'seleccion3');


 this.objetocolocarsprite.visible = false
 this.seleccionadoSprite.visible =false;

if(this.designer ==1)
{
     this.objetocolocarsprite.visible = true;
 this.seleccionadoSprite.visible =true;

}

function moverMenuArribaDes()
{
    if(this.designer==1)
    {
    
if(this.seleccionadoSprite.y -64 >= 128)
this.seleccionadoSprite.y = this.seleccionadoSprite.y - 64;

this.objetocolocarsprite.y = this.seleccionadoSprite.y ;

  this.designerY = this.designerY -1;
}
}

function moverMenuAbajoDes()
{
    if(this.designer==1)
    {

    if(this.seleccionadoSprite.y +64 <= 908)
this.seleccionadoSprite.y = this.seleccionadoSprite.y + 64;

this.objetocolocarsprite.y = this.seleccionadoSprite.y ;
        
          this.designerY = this.designerY +1;
        }
}
function moverMenuIzqDes()
{
    if(this.designer==1)
    {
    if(this.seleccionadoSprite.x -64 >= 416)
   this.seleccionadoSprite.x = this.seleccionadoSprite.x - 64;

   this.objetocolocarsprite.x = this.seleccionadoSprite.x ;

   this.designerX = this.designerX -1;
}
}
function moverMenuDerDes()
{
    if(this.designer==1)
    {
     if(this.seleccionadoSprite.x +64 <= 1840)
    this.seleccionadoSprite.x = this.seleccionadoSprite.x + 64;

      this.objetocolocarsprite.x = this.seleccionadoSprite.x ;
      this.designerX = this.designerX +1;
  }
}
function seleccionarOpcionMin()
{
    if(this.designer==1)
    {
    if(this.objetocolocar>0)
    this.objetocolocar = this.objetocolocar - 1;
    else
     this.objetocolocar = 0;
}
    //this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
      
}



function seleccionarOpcionMax()
{
    if(this.designer==1)
    {
if(this.objetocolocar<=8)
     this.objetocolocar = this.objetocolocar + 1;
  else
     this.objetocolocar = 9;
}

// this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
      
}

function seleccionarOpcionSet()
{
    if(this.designer==1)
    {
    if(this.objetocolocar ==0)
    {
        this.objetocolocarsprite.setTexture('wall');
    }
     if(this.objetocolocar ==1)
    {
        this.objetocolocarsprite.setTexture('enemigo');
    }
     if(this.objetocolocar ==2)
    {
        this.objetocolocarsprite.setTexture('pisomov');
    }
     if(this.objetocolocar ==3)
    {
        this.objetocolocarsprite.setTexture('pisor1');
    }

 if(this.objetocolocar ==4)
    {
        this.objetocolocarsprite.setTexture('mina');
    }
    if(this.objetocolocar ==5)
    {
        this.objetocolocarsprite.setTexture('ship');
    }
      if(this.objetocolocar ==6)
    {
        this.objetocolocarsprite.setTexture('wall2');
    }
    if(this.objetocolocar ==7)
    {
        this.objetocolocarsprite.setTexture('ship2');
    }
      if(this.objetocolocar ==8)
    {
        this.objetocolocarsprite.setTexture('ship3');
    }
      if(this.objetocolocar ==9)
    {
        this.objetocolocarsprite.setTexture('ship4');
    }
}
// this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
      
}

function seleccionarOpcionDes()
{
    if(this.designer==1)
    {
       rows.push([this.designerX, this.designerY, this.objetocolocar])

    if(this.objetocolocar ==0)
    {
           var item = Phaser.Math.Between(0,40);

  if(item ==1)
     {
     this.powerupsLlamas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y,'poderllama');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y,'poderpatin');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'poderbomba');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y,'podervida');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'poderguante');
    }
        this.box.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');


       //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');
    }

  if(this.objetocolocar ==1)
    {

        this.enemigos.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
        //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
  }

  if(this.objetocolocar ==2)
    {
       this.pisomov.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
       // this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
  }

   if(this.objetocolocar ==3)
    {
       this.pisor1.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
//        this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
  }
   if(this.objetocolocar ==4)
    {
         this.minas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  //      this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  }
   if(this.objetocolocar ==5)
    {
        this.myShip.x = this.seleccionadoSprite.x;
        this.myShip.y = this.seleccionadoSprite.y;
    }

     if(this.objetocolocar ==6)
    {
        this.boxFuerte.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall2');
    }
    if(this.objetocolocar ==7)
    {
        this.myShip2.x = this.seleccionadoSprite.x;
        this.myShip2.y = this.seleccionadoSprite.y;
    }
    if(this.objetocolocar ==8)
    {
        this.myShip3.x = this.seleccionadoSprite.x;
        this.myShip3.y = this.seleccionadoSprite.y;
    }
    if(this.objetocolocar ==9)
    {
        this.myShip4.x = this.seleccionadoSprite.x;
        this.myShip4.y = this.seleccionadoSprite.y;
    }
}
// this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
      
}
    this.input.keyboard.on('keydown_UP', moverMenuArribaDes, this);
    this.input.keyboard.on('keydown_DOWN', moverMenuAbajoDes, this);
    this.input.keyboard.on('keydown_LEFT', moverMenuIzqDes, this);
    this.input.keyboard.on('keydown_RIGHT', moverMenuDerDes, this);
 this.input.keyboard.on('keydown_X', seleccionarOpcionMax, this);
 this.input.keyboard.on('keydown_Z', seleccionarOpcionMin, this);
  this.input.keyboard.on('keydown_X', seleccionarOpcionSet, this);
 this.input.keyboard.on('keydown_Z', seleccionarOpcionSet, this);
 this.input.keyboard.on('keydown_Q', seleccionarOpcionDes, this);


 //EXPERIMENTAL


function aumentarNivel()
{
  //  console.log(this.nivelInt)

    if(this.nivelInt <=99)
    this.nivelInt = this.nivelInt+1;
     this.nivel.setText(this.nivelInt)
}
 this.input.keyboard.on('keydown_SPACE', aumentarNivel, this);



this.myShip.setDepth(1);
this.myShip2.setDepth(1);
this.myShip3.setDepth(1);
this.myShip4.setDepth(1);
this.enemigos.setDepth(1);



if(this.designerMode==0)
{
  this.moonsong.play();
   this.objetocolocarsprite.visible = false;
 this.seleccionadoSprite.visible = false;
}

if(this.designer==1 && this.designerMode==0)
{
  this.designer = 2;
}



this.menupausesprite.setDepth(20);
this.menupausesprite2.setDepth(20);
this.menupausesprite3.setDepth(20);
this.menupspritereiniciar.setDepth(20);
this.menupspritereiniciarP1.setDepth(20);
this.menupspritereiniciarP2.setDepth(20);
this.menupspritereiniciarP3.setDepth(20);
this.menupspritereiniciarP4.setDepth(20);

var r = Phaser.Math.Between(0,90);
var g = Phaser.Math.Between(0,90);
var b = Phaser.Math.Between(0,90);
 this.cameras.main.backgroundColor.setTo(r,g,b);


 
}

update()
{


if(this.mapaNumero ==-12)
{
  this.vidasInt=100;
  this.relojInt =1000;
  this.credits.visible = true;
  this.credits2.visible = true;

this.tick2 = this.tick2 +1;
 
 if(this.tick2 >1)
    {
        this.tick2=0;
  this.credits.y = this.credits.y -1;
  this.credits2.y = this.credits.y -1;
}
}
if(this.mapaNumero == -11)
{
  this.minas.clear(this.scene);
  this.game.sound.stopAll();
  this.endingsong.play();
 this.mapaNumero = -12;
}
if(this.mapaNumero == -10)
{
 this.mapaNumero = -11;
}
if(this.gamemode==0 && this.mapaNumero >-10 && this.designerMode==0)
{
     this.killsInt = this.enemigos.getLength();
      this.kills.setText(this.killsInt);

   if(this.enemigos.getLength() <=0)
    {
    this.game.sound.stopAll();
    this.moonsong.play();
  this.caerparedX =-1;
 this.caerparedY = 1;
  this.disminuirX = 0;
    this.disminuirY = 0;
    this.caerEnX = 1;
    this.caerEnY = 0;

if(this.nivelInt <=99)
    this.nivelInt = this.nivelInt + 1;
this.wallkill.clear(this.scene);
this.relojInt = 300;

   this.nivel.setText(this.nivelInt);
   this.score.setText(this.scoreInt);
    this.vidas.setText(this.vidasInt);
this.powerupsLlamas.clear(this.scene);
this.powerupsVidas.clear(this.scene);
this.wallkill.clear(this.scene);

this.pisor1.clear(this.scene);
this.pisor2.clear(this.scene);
this.powerupsGuantes.clear(this.scene);
this.powerupsPatin.clear(this.scene);
this.powerupsBombas.clear(this.scene);
this.box.clear(this.scene);
this.boxFuerte.clear(this.scene);
this.enemigos.clear(this.scene);
this.explosionRight.clear(this.scene);
this.explosionLeft.clear(this.scene);
this.explosionDown.clear(this.scene);
this.explosionUp.clear(this.scene);


if(this.designer==0)
{
    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {
        if(i > -2 && i < 1 && j > 0 && j < 3)
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);

     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
    if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');
     }

 }

 }
}
if(this.designer==2)
{

  this.mapaNumero = this.mapaNumero-1;
var value = localStorage.getItem(this.mapaNumero);

if(value != null)
{
console.log(value);

var elementos = value.split(';');
    
    var valorx = 0;
 var valory = 0;
 var valorobj = 99;


for (var i = 0; i < elementos.length; i++) {
 
console.log(i);

console.log(elementos[i]);

 var valores = elementos[i].split(',');

if(valores != null)
{
  valorx = valores[0];
  valory = valores[1];
  valorobj = valores[2];
}


 if(valorobj ==0)
    {
           var item = Phaser.Math.Between(0,40);

  if(item ==1)
     {
     this.powerupsLlamas.create(416+valorx*64, 128+valory*64,'poderllama');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(416+valorx*64, 128+valory*64,'poderpatin');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(416+valorx*64, 128+valory*64, 'poderbomba');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(416+valorx*64, 128+valory*64,'podervida');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(416+valorx*64, 128+valory*64, 'poderguante');
    }
        this.box.create(416+valorx*64, 128+valory*64, 'wall');


       //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');
    }

  if(valorobj ==1)
    {

        if(this.gamemode==0)
        this.enemigos.create(416+valorx*64, 128+valory*64, 'enemigo');
        //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
  }

  if(valorobj ==2)
    {
       this.pisomov.create(416+valorx*64, 128+valory*64, 'pisomov');
       // this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
  }

   if(valorobj ==3)
    {
       this.pisor1.create(416+valorx*64, 128+valory*64, 'pisor1');
//        this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
  }
   if(valorobj ==4)
    {
         this.minas.create(416+valorx*64, 128+valory*64, 'mina');
  //      this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  }
   if(valorobj ==5)
    {
        this.myShip.x = 416+valorx*64;
        this.myShip.y =  128+valory*64;
    }
     if(valorobj ==6)
    {
        this.boxFuerte.create(416+valorx*64, 128+valory*64, 'wall2');
    }
    if(valorobj ==7)
    {
        this.myShip2.x = 416+valorx*64;
        this.myShip2.y =  128+valory*64;
    }
    if(valorobj ==8)
    {
        this.myShip3.x = 416+valorx*64;
        this.myShip3.y =  128+valory*64;
    }
    if(valorobj ==9)
    {
        this.myShip4.x = 416+valorx*64;
        this.myShip4.y =  128+valory*64;
    }




}

   


}
}
}
}

if(this.mensajeganar==1)
   {

this.menupausesprite2.setTexture('menupause2end');
this.menupausesprite3.setTexture('menupause3end');
/*  this.menupausesprite2.x = 1920/2+200-50;
 this.menupausesprite2.y = 1080/2 -50+200;
  this.menupausesprite3.x = 1920/2+200-50;
 this.menupausesprite3.y = 1080/2 -50+200;
*/

this.mensajeFinPartidaSprite.visible = true;
  this.pause = 1;

   this.mensajeganartick--;

 this.explosionUp.clear(this.scene);
  this.explosionDown.clear(this.scene);
  this.explosionLeft.clear(this.scene);
 this.explosionRight.clear(this.scene);

 this.explosionUp2.clear(this.scene);
  this.explosionDown2.clear(this.scene);
  this.explosionLeft2.clear(this.scene);
 this.explosionRight2.clear(this.scene);

 this.explosionUp3.clear(this.scene);
  this.explosionDown3.clear(this.scene);
  this.explosionLeft3.clear(this.scene);
 this.explosionRight3.clear(this.scene);

 this.explosionUp4.clear(this.scene);
  this.explosionDown4.clear(this.scene);
  this.explosionLeft4.clear(this.scene);
 this.explosionRight4.clear(this.scene);

 this.explosionUp5.clear(this.scene);
  this.explosionDown5.clear(this.scene);
  this.explosionLeft5.clear(this.scene);
 this.explosionRight5.clear(this.scene);
   /*if(this.mensajeganartick ==0)
   {
    this.game.sound.stopAll();
    this.scene.restart();
   }*/
}
  //if(this.musicData==0)
  //{
   //  this.game.sound.stopAll();
 // }
    if(this.designer ==0 || this.designer ==2)
    {


   if(this.pause == 1)
   {



   if(this.jugadoresTotal ==1)
        {
         if(this.aceptarP1 == 1)
         {
           this.game.sound.stopAll();
       this.scene.restart();
        }
        }


        if(this.jugadoresTotal ==2)
        {
         if(this.aceptarP1 == 1 && this.aceptarP2 == 1)
         {
           this.game.sound.stopAll();
       this.scene.restart();
        }
        }

    if(this.jugadoresTotal ==3)
        {
         if(this.aceptarP1 == 1 && this.aceptarP2 == 1 && this.aceptarP3 == 1)
         {
           this.game.sound.stopAll();
       this.scene.restart();
        }
        }

         if(this.jugadoresTotal ==4)
        {
         if(this.aceptarP1 == 1 && this.aceptarP2 == 1 && this.aceptarP3 == 1 && this.aceptarP4 == 1)
         {
           this.game.sound.stopAll();
       this.scene.restart();
        }
        }
}
//PAUSE1


//console.log(this.gamemode);
   if(this.pause == 0 && this.mensajeganar==0)
   {



 //JUGADOR 1 REBOTA BOMBA
 this.bombasFull.children.iterate(child => {
     
      if(child.x < 350)
      {
        child.x = 1900;
      }

      if(child.x > 1900)
      {
        child.x = 350;
      }


      if(child.y < 100)
      {
        child.y = 1000;
      }

      if(child.y > 1000)
      {
        child.y = 100;
      }


        })



  this.bombasFull.children.iterate(child => {
     
        this.boxFuerte2.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection =="DER")
            child.x = child.x +5;
          }
        })

        })


 this.bombasFull.children.iterate(child => {
     
        this.wallkill.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection =="DER")
            child.x = child.x +5;
          }
        })

        })

 this.bombasFull.children.iterate(child => {
      
        this.boxFuerte.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection =="DER")
            child.x = child.x +5;
          }
        })

        })

 
  this.bombasFull.children.iterate(child => {
       
        this.box.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection =="DER")
            child.x = child.x +5;
          }
        })

        })



 //JUGADOR 2 REBOTA BOMBA
this.bombasFull2.children.iterate(child => {
     
      if(child.x < 350)
      {
        child.x = 1900;
      }

      if(child.x > 1900)
      {
        child.x = 350;
      }


      if(child.y < 100)
      {
        child.y = 1000;
      }

      if(child.y > 1000)
      {
        child.y = 100;
      }


        })

  this.bombasFull2.children.iterate(child => {
     
        this.boxFuerte2.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection2 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection2 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection2 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection2 =="DER")
            child.x = child.x +5;
          }
        })

        })


 this.bombasFull2.children.iterate(child => {
     
        this.wallkill.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection2 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection2 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection2 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection2 =="DER")
            child.x = child.x +5;
          }
        })

        })

 this.bombasFull2.children.iterate(child => {
      
        this.boxFuerte.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection2 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection2 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection2 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection2 =="DER")
            child.x = child.x +5;
          }
        })

        })

 
  this.bombasFull2.children.iterate(child => {
       
        this.box.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection2 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection2 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection2 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection2 =="DER")
            child.x = child.x +5;
          }
        })

        })


 //JUGADOR 3 REBOTA BOMBA
 this.bombasFull3.children.iterate(child => {
     
      if(child.x < 350)
      {
        child.x = 1900;
      }

      if(child.x > 1900)
      {
        child.x = 350;
      }


      if(child.y < 100)
      {
        child.y = 1000;
      }

      if(child.y > 1000)
      {
        child.y = 100;
      }


        })
  this.bombasFull3.children.iterate(child => {
     
        this.boxFuerte2.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection3 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection3 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection3 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection3 =="DER")
            child.x = child.x +5;
          }
        })

        })


 this.bombasFull3.children.iterate(child => {
     
        this.wallkill.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection3 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection3 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection3 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection3 =="DER")
            child.x = child.x +5;
          }
        })

        })

 this.bombasFull3.children.iterate(child => {
      
        this.boxFuerte.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection3 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection3 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection3 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection3 =="DER")
            child.x = child.x +5;
          }
        })

        })

 
  this.bombasFull3.children.iterate(child => {
       
        this.box.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection3 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection3 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection3 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection3 =="DER")
            child.x = child.x +5;
          }
        })

        })


 //JUGADOR 4 REBOTA PARED
  this.bombasFull4.children.iterate(child => {
     
      if(child.x < 350)
      {
        child.x = 1900;
      }

      if(child.x > 1900)
      {
        child.x = 350;
      }


      if(child.y < 100)
      {
        child.y = 1000;
      }

      if(child.y > 1000)
      {
        child.y = 100;
      }


        })
  this.bombasFull4.children.iterate(child => {
     
        this.boxFuerte2.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection4 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection4 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection4 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection4 =="DER")
            child.x = child.x +5;
          }
        })

        })


 this.bombasFull4.children.iterate(child => {
     
        this.wallkill.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection4 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection4 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection4 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection4 =="DER")
            child.x = child.x +5;
          }
        })

        })

 this.bombasFull4.children.iterate(child => {
      
        this.boxFuerte.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection4 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection4 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection4 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection4 =="DER")
            child.x = child.x +5;
          }
        })

        })

 
  this.bombasFull4.children.iterate(child => {
       
        this.box.children.iterate(child2 => {
       
          if((child.x < child2.x +62 ) && (child.x +62 > child2.x ) 
            && (child.y +62 > child2.y ) && (child.y < child2.y +62))
          {

              if(this.bombasFullDirection4 =="ARRIBA")
            child.y = child.y -5;

             if(this.bombasFullDirection4 =="ABAJO")
            child.y = child.y +5;

           if(this.bombasFullDirection4 =="IZQ")
            child.x = child.x -5;

           if(this.bombasFullDirection4 =="DER")
            child.x = child.x +5;
          }
        })

        })

 //REINICIO



//console.log("gamemode "+ this.gamemode+ " v1: " + this.vidasInt + this.vidasInt2+ this.vidasInt3+ this.vidasInt4 )
    if(this.gamemode == 0 && this.vidasInt <=0 && this.vidasInt2 <=0 && this.vidasInt3 <=0 && this.vidasInt4 <=0 )
    {
      this.menuseleccion = 2;
      this.menupausesprite2.visible = true;

if(this.game.sound!=null)
 this.game.sound.stopAll();

 this.ganadorText.setText("PERDISTE!");
 this.ganadorText2.setText("PERDISTE!");

this.mensajeganar=1;
this.losesong.play();

/*

    this.caerparedX =-1;
 this.caerparedY = 1;
 this.disminuirX = 0;
    this.disminuirY = 0;
    this.caerEnX = 1;
    this.caerEnY = 0;

this.relojInt = 300;
      

    this.scoreInt = 0;
    this.myShip.x = 430;
    this.myShip.y = 130;
 
this.vidasInt = 3;

if(this.jugadoresTotal >=2)
{
this.vidasInt2 = 3;
  this.myShip2.x = 1820;
   this.myShip2.y = 130;
    this.vidasJ2.setText(this.vidasInt2);

}   
if(this.jugadoresTotal >=3)
{
this.vidasInt3 = 3;
   this.myShip3.x = 420;
   this.myShip3.y = 885;
    this.vidasJ3.setText(this.vidasInt3);
}   
if(this.jugadoresTotal >=4)
{
this.vidasInt4 = 3;
  this.myShip4.x = 1820;
   this.myShip4.y = 885;
     this.vidasJ4.setText(this.vidasInt4);
}
   this.score.setText(this.scoreInt);
    this.vidas.setText(this.vidasInt);
this.powerupsLlamas.clear(this.scene);
this.powerupsVidas.clear(this.scene);
this.pisor1.clear(this.scene);
this.pisor2.clear(this.scene);
this.wallkill.clear(this.scene);

this.powerupsGuantes.clear(this.scene);
this.powerupsPatin.clear(this.scene);
this.powerupsBombas.clear(this.scene);

this.box.clear(this.scene);
this.boxFuerte.clear(this.scene);
this.enemigos.clear(this.scene);
this.explosionRight.clear(this.scene);
this.explosionLeft.clear(this.scene);
this.explosionDown.clear(this.scene);
this.explosionUp.clear(this.scene);
    for (var i = -1; i < 22; i++)
    {
for (var j = 1; j < 14; j++)
    {
        if(i > -2 && i < 1 && j > 0 && j < 3)
        {
            
        }
        else
        {
          var item = Phaser.Math.Between(0,40);

     if(item ==1)
     {
     this.powerupsLlamas.create(480+ i*32*2,  64 + j*32*2, 'poderllama');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(480+ i*32*2,  64 + j*32*2, 'poderpatin');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(480+ i*32*2,  64 + j*32*2, 'poderbomba');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
    if(item ==36)
    {
     this.powerupsVidas.create(480+ i*32*2,  64 + j*32*2, 'podervida');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(480+ i*32*2,  64 + j*32*2, 'poderguante');
     this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');
    }
   if(item ==4)
     this.boxFuerte.create(480+ i*32*2,  64 + j*32*2, 'wall2');
   if(item > 5 && item <6+this.nivelInt){

     if(i > 0 && i < 20 && j > 2 && j < 12)
        {
    if(this.enemigos.getLength()<3+this.nivelInt)
    {
     if(this.gamemode==0)
{
     this.enemigos.create(480+ i*32*2,  64 + j*32*2, 'enemigo');
}
    }
}
    }

    if(item >16 && item < 28)
        this.box.create(480+ i*32*2, 64 + j*32*2, 'wall');

  if(item >29 && item < 32)
        this.pisor1.create(480+ i*32*2, 64 + j*32*2, 'pisor1');
  if(item >33 && item < 35)
        this.pisomov.create(480+ i*32*2, 64 + j*32*2, 'pisomov');


     //   var box = this.add.image(x, y, 'crate');
      //      box.setInteractive();

     }


 }
 }

*/

}

//FIN REINICIO
 if(this.relojInt==1) //bajar vidas cuando el contador sea 0
 {
  if(this.game.sound!=null)
this.game.sound.stopAll();

this.wallfallsong.play();
if(this.gamemode == 1 || this.gamemode == 2 )
{
    if(this.vidasInt>0)
    {
  this.vidasInt = 1;
    this.vidas.setText(this.vidasInt); }
}

 if(this.jugadoresTotal >=2 && (this.gamemode == 1 || this.gamemode == 2 ))
{

    if(this.vidasInt2>0)
    {
 this.vidasInt2 = 1;
    this.vidasJ2.setText(this.vidasInt2); 
   } 
    }

    if(this.jugadoresTotal >=3 && (this.gamemode == 1 || this.gamemode == 2))
{  

    if(this.vidasInt3>0)
    {
  this.vidasInt3 = 1;
    this.vidasJ3.setText(this.vidasInt3);  
    }
    }
    if(this.jugadoresTotal >=4 &&( this.gamemode == 1 || this.gamemode == 2))
{ 

    if(this.vidasInt4>0)
    {
  this.vidasInt4 = 1;
    
    this.vidasJ4.setText(this.vidasInt4);   
}
 }
 }



if(this.gamemode == 1 ) //modo ultimo en pie
{
if(this.jugadoresTotal ==2)
{
   if(this.vidasInt <=0 )
{

 this.ganadorText.setText(this.nombreJ2 +" GANA!");
 this.ganadorText2.setText(this.nombreJ2 +" GANA!");

   this.mensajeganar = 1;

   this.game.sound.stopAll();
 
 this.victorysong.play();
this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
//this.scene.pause();

//    this.scene.restart();

}

if(this.vidasInt2 <=0 )
{

        //sprites de puntuacion
  this.ganadorText.setText(this.nombreJ1 +" GANA!");
 this.ganadorText2.setText(this.nombreJ1 +" GANA!");


   this.mensajeganar = 1;


   this.game.sound.stopAll();
    this.victorysong.play();
    this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
   // this.scene.restart();
}
}

if(this.jugadoresTotal ==3)
{
   if(this.vidasInt <=0 && this.vidasInt2 <=0)
{

        //sprites de puntuacion
  this.ganadorText.setText(this.nombreJ3 +" GANA!");
 this.ganadorText2.setText(this.nombreJ3 +" GANA!");


   this.mensajeganar = 1;

   this.game.sound.stopAll();
    this.victorysong.play();
  this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
   // this.scene.restart();
}

 if(this.vidasInt2 <=0 && this.vidasInt3 <=0)
{ 
      //sprites de puntuacion
 this.ganadorText.setText(this.nombreJ1 +" GANA!");
 this.ganadorText2.setText(this.nombreJ1 +" GANA!");


   this.mensajeganar = 1;


  this.game.sound.stopAll();
   this.victorysong.play();
 this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
  //  this.scene.restart();
}

 if(this.vidasInt <=0 && this.vidasInt3 <=0)
{

 this.ganadorText.setText(this.nombreJ2 +" GANA!");
 this.ganadorText2.setText(this.nombreJ2 +" GANA!");


   this.mensajeganar = 1;


   this.game.sound.stopAll();
    this.victorysong.play();
    this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
   // this.scene.restart();
}
}

if(this.jugadoresTotal ==4)
{
if(this.vidasInt <= 0 && this.vidasInt2 <= 0 && this.vidasInt3 <=0)
{
 this.ganadorText.setText(this.nombreJ4 +" GANA!");
 this.ganadorText2.setText(this.nombreJ4 +" GANA!");


   this.mensajeganar = 1;


   this.game.sound.stopAll();
    this.victorysong.play();
  this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
  //  this.scene.restart();
}

if(this.vidasInt4 <= 0 && this.vidasInt2 <= 0 && this.vidasInt3 <=0)
{
 this.ganadorText.setText(this.nombreJ1 +" GANA!");
 this.ganadorText2.setText(this.nombreJ1 +" GANA!");


   this.mensajeganar = 1;

   this.game.sound.stopAll();
    this.victorysong.play();
  this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
   // this.scene.restart();
}


if(this.vidasInt4 <= 0 && this.vidasInt2 <= 0 && this.vidasInt<=0)
{
   this.ganadorText.setText(this.nombreJ3 +" GANA!");
 this.ganadorText2.setText(this.nombreJ3 +" GANA!");


   this.mensajeganar = 1;


  this.game.sound.stopAll();
    this.victorysong.play();
 this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
  //  this.scene.restart();
}

if(this.vidasInt <= 0 && this.vidasInt4 <= 0 && this.vidasInt3 <=0)
{
    this.ganadorText.setText(this.nombreJ2 +" GANA!");
 this.ganadorText2.setText(this.nombreJ2 +" GANA!");


   this.mensajeganar = 1;


   this.game.sound.stopAll();
    this.victorysong.play();
   this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
  //  this.scene.restart();
}
}
}

if(this.gamemode == 2 ) //modo por puntos
{
    if(this.vidasInt <=0 && this.vidasInt2<= 0 && this.vidasInt3 <=0 && this.vidasInt4<=0)
{

  this.ganadorText.setText("¿¿¡EMPATE!??");
 this.ganadorText2.setText("¿¿¡EMPATE!??");


   this.mensajeganar = 1;


   this.game.sound.stopAll();
    this.victorysong.play();
  this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
  //  this.scene.restart();
}

if(this.killsInt >= 3)
{

  this.ganadorText.setText(this.nombreJ1 +" GANA!");
 this.ganadorText2.setText(this.nombreJ1 +" GANA!");

//this.scene.pause();


   this.mensajeganar = 1;


   this.game.sound.stopAll();
    this.victorysong.play();
  this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
 //   this.scene.restart();
}

if(this.killsInt2 >= 3)
{
  this.ganadorText.setText(this.nombreJ2 +" GANA!");
 this.ganadorText2.setText(this.nombreJ2 +" GANA!");


   this.mensajeganar = 1;


   this.game.sound.stopAll();
    this.victorysong.play();
   this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
  //  this.scene.restart();
}


if(this.killsInt3 >= 3)
{
  this.ganadorText.setText(this.nombreJ3 +" GANA!");
 this.ganadorText2.setText(this.nombreJ3 +" GANA!");


   this.mensajeganar = 1;

   this.game.sound.stopAll();
    this.victorysong.play();
    this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
  //  this.scene.restart();
}

if(this.killsInt4 >= 3)
{
   this.ganadorText.setText(this.nombreJ4 +" GANA!");
 this.ganadorText2.setText(this.nombreJ4 +" GANA!");


   this.mensajeganar = 1;

   this.game.sound.stopAll();
    this.victorysong.play();
  this.menuseleccion = 2;
      this.menupausesprite2.visible = true;
    
  //  this.scene.restart();
}

}
if(this.guantebutton1.isDown)
{
    if(this.guanteP1==1)
    {
        this.guanteP1=2;
    }
}


if(this.guantebutton1.isUp)
{
    if(this.guanteP1==2)
    {
        this.guanteP1=1;
    }
}

if(this.guantebutton2.isDown)
{
    if(this.guanteP2==1)
    {
        this.guanteP2=2;
    }
}


if(this.guantebutton2.isUp)
{
    if(this.guanteP2==2)
    {
        this.guanteP2=1;
    }
}


if(this.guantebutton3.isDown)
{
    if(this.guanteP3==1)
    {
        this.guanteP3=2;
    }
}


if(this.guantebutton3.isUp)
{
    if(this.guanteP3==2)
    {
        this.guanteP3=1;
    }
}


if(this.guantebutton4.isDown)
{
    if(this.guanteP4==1)
    {
        this.guanteP4=2;
    }
}


if(this.guantebutton4.isUp)
{
    if(this.guanteP4==2)
    {
        this.guanteP4=1;
    }
}


if(this.cooldownP1 ==0)
    this.myShip.visible=true;

if(this.cooldownP1==1)
{
  this.cooldownP1tick =this.cooldownP1tick -1;

  if(this.myShip.visible==true)
this.myShip.visible=false;
  else    
this.myShip.visible=true;

  if(this.cooldownP1tick < 0)
    this.cooldownP1 =0;

 }  




if(this.cooldownP2 ==0)
    this.myShip2.visible=true;

if(this.cooldownP2==1)
{
  this.cooldownP2tick =this.cooldownP2tick -1;

  if(this.myShip2.visible==true)
this.myShip2.visible=false;
  else    
this.myShip2.visible=true;

  if(this.cooldownP2tick < 0)
    this.cooldownP2 =0;

 }  



if(this.cooldownP3 ==0)
    this.myShip3.visible=true;

if(this.cooldownP3==1)
{
  this.cooldownP3tick =this.cooldownP3tick -1;

  if(this.myShip3.visible==true)
this.myShip3.visible=false;
  else    
this.myShip3.visible=true;

  if(this.cooldownP3tick < 0)
    this.cooldownP3 =0;

 }  



if(this.cooldownP4 ==0)
    this.myShip4.visible=true;

if(this.cooldownP4==1)
{
  this.cooldownP4tick =this.cooldownP4tick -1;

  if(this.myShip4.visible==true)
this.myShip4.visible=false;
  else    
this.myShip4.visible=true;

  if(this.cooldownP4tick < 0)
    this.cooldownP4 =0;

 }  

this.explosionUp.setVelocityX(-20*this.llama);
           this.explosionDown.setVelocityX(20*this.llama);
         this.explosionLeft.setVelocityY(-20*this.llama);
        this.explosionRight.setVelocityY(20*this.llama);

         this.explosionUp2.setVelocityX(-20*this.llama2);
           this.explosionDown2.setVelocityX(20*this.llama2);
         this.explosionLeft2.setVelocityY(-20*this.llama2);
        this.explosionRight2.setVelocityY(20*this.llama2);


         this.explosionUp3.setVelocityX(-20*this.llama3);
           this.explosionDown3.setVelocityX(20*this.llama3);
         this.explosionLeft3.setVelocityY(-20*this.llama3);
        this.explosionRight3.setVelocityY(20*this.llama3);

          this.explosionUp4.setVelocityX(-20*this.llama4);
           this.explosionDown4.setVelocityX(20*this.llama4);
         this.explosionLeft4.setVelocityY(-20*this.llama4);
        this.explosionRight4.setVelocityY(20*this.llama4);

          this.explosionUp5.setVelocityX(-20*this.nivelInt);
           this.explosionDown5.setVelocityX(20*this.nivelInt);
         this.explosionLeft5.setVelocityY(-20*this.nivelInt);
        this.explosionRight5.setVelocityY(20*this.nivelInt);



this.tick1 = this.tick1 +1;
 
 if(this.tick1 >15)
    {
        this.tick1=0;

        if(this.relojInt > 0)
   this.relojInt = this.relojInt-1;

    this.reloj.setText(this.relojInt);



    if(this.relojInt < 1)
{


         //   var i = Phaser.Math.Between(-1,22);
            
        //    var j = Phaser.Math.Between(1,14);
            
        var i = this.caerparedX;
            
            var j = this.caerparedY;


if(this.caerEnX == 1)
this.caerparedX = this.caerparedX +1;


if(this.caerEnX == -1)
this.caerparedX = this.caerparedX -1;



     this.wallkill.create(480+ i*32*2, 64 + j*32*2, 'wallkill');


if(this.caerEnY == 1)
 this.caerparedY = this.caerparedY+1;


if(this.caerEnY == -1)
 this.caerparedY = this.caerparedY-1;

     this.wallkill.create(480+ i*32*2, 64 + j*32*2, 'wallkill');

if(this.caerparedX> 20 - this.disminuirX)
{
    this.caerEnX=0;
    this.caerEnY=1;
    //this.caerparedX = -2;
  //  this.caerparedY = this.caerparedY+1;
     // 
}

if(this.caerparedY> 12 - this.disminuirY)
{
     this.caerEnX=-1;
    this.caerEnY=0;
//    this.caerparedX = -2;
}

if(this.caerparedX< 0 + this.disminuirX && this.caerEnX ==-1)
{
    this.caerEnX=0;
    this.caerEnY=-1;
}


if(this.caerparedY< 3 + this.disminuirY &&  this.caerEnY==-1)
{
    this.caerEnX=1;
    this.caerEnY=0;

this.disminuirX = this.disminuirX+1;
this.disminuirY = this.disminuirY+1;
}


}

}


  this.enemigos.children.iterate(child => {
      
     


            var random = Phaser.Math.Between(0,100);
             //this.bomba = child;
            //child.destroy(child, true);
           if(this.dificultad == 0)
   {
            if(random >0 && random < 1 && child.x <this.myShip.x)
            child.setVelocityX(25*this.nivelInt +50);

            if(random >0 && random < 1 && child.x >this.myShip.x)
            child.setVelocityX(-25*this.nivelInt -50);

           if(random >0 && random < 1 && child.y <this.myShip.y)
            child.setVelocityY(25*this.nivelInt +50);

            if(random >0 && random < 1 && child.y >this.myShip.y)
            child.setVelocityY(-25*this.nivelInt-50);

            

            if(random ==20)
              {
              
              var random2 = Phaser.Math.Between(0,50);
          //COLOCAR BOMBAS

              if(random2==50)
              {
             if((child.x -50 < this.myShip.x +62 +50 ) && (child.x +62 +50 > this.myShip.x  -50) 
            && (child.y +62 +50 > this.myShip.y -50) && (child.y -50< this.myShip.y +62 +50))
          {

                           var posx = 0;
                       var posy = 0;
     
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= child.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= child.y+16)
              posy = 128 + i*64

            
          
        
    
         }

           this.bombasFull5.create(posx, posy, 'bomba');
          this.countExplosion5 = 100;
      
               
           }

           }
         }
            
             if(random ==0)
            child.setVelocityX(25*this.nivelInt +50);

          if(random ==1)
            child.setVelocityX(-25*this.nivelInt -50);

           if(random ==2)
            child.setVelocityY(25*this.nivelInt +50);

             if(random ==3)
            child.setVelocityY(-25*this.nivelInt-50);


            //CORRER BOMBAS

             this.bombasFull5.children.iterate(child2 => {
         
             if((child.x -100 < child2.x +62 +100 ) && (child.x +62 +100 > child2.x -100) 
            && (child.y +62 +100 > child2.y -100) && (child.y -100< child2.y +62 +100))
          {

    if(random >0 && random < 1 && child.x < child2.x)
            child.setVelocityX(-25*this.nivelInt -50);

            if(random >0 && random < 1 && child.x >child2.x)
            child.setVelocityX(25*this.nivelInt +50);

           if(random >0 && random < 1 && child.y <child2.y)
            child.setVelocityY(-25*this.nivelInt -50);

            if(random >0 && random < 1 && child.y >child2.y)
            child.setVelocityY(25*this.nivelInt+50);

           //this.bombasFull.create(child.x+32, child.y+32, 'bomba');
          //this.countExplosion = 100;
      }


            })

            if(random ==99)
            {
                random = Phaser.Math.Between(0,99);
                {
                    if(random ==99)
                    {

                      //MINAS
                      var posx = 0;
      var posy = 0;
     
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= child.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= child.y+16)
              posy = 128 + i*64

            
          
        
    
         }       
    
                     this.minas.create(posx+32, posy+32, 'mina');
                    }
                 }
            }

            return;
            }
           





              if(this.dificultad == 1 || this.dificultad == 2)
              {

                  if((child.x -150 < this.myShip.x +62 +150 ) && (child.x +62 +50 > this.myShip.x  -150) 
            && (child.y +62 +150 > this.myShip.y -150) && (child.y -50< this.myShip.y +62 +150))
          {
            if(random >0 && random < 5 && child.x <this.myShip.x)
            child.setVelocityX(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.x >this.myShip.x)
            child.setVelocityX(-25*this.nivelInt -50);

           if(random >0 && random < 5 && child.y <this.myShip.y)
            child.setVelocityY(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.y >this.myShip.y)
            child.setVelocityY(-25*this.nivelInt-50);
            }
            
                if((child.x -150 < this.myShip2.x +62 +150 ) && (child.x +62 +50 > this.myShip2.x  -150) 
            && (child.y +62 +150 > this.myShip2.y -150) && (child.y -50< this.myShip2.y +62 +150))
          {
            if(random >0 && random < 5 && child.x <this.myShip2.x)
            child.setVelocityX(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.x >this.myShip2.x)
            child.setVelocityX(-25*this.nivelInt -50);

           if(random >0 && random < 5 && child.y <this.myShip2.y)
            child.setVelocityY(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.y >this.myShip2.y)
            child.setVelocityY(-25*this.nivelInt-50);
            }
            


                if((child.x -150 < this.myShip3.x +62 +150 ) && (child.x +62 +50 > this.myShip3.x  -150) 
            && (child.y +62 +150 > this.myShip3.y -150) && (child.y -50< this.myShip3.y +62 +150))
          {
            if(random >0 && random < 5 && child.x <this.myShip3.x)
            child.setVelocityX(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.x >this.myShip3.x)
            child.setVelocityX(-25*this.nivelInt -50);

           if(random >0 && random < 5 && child.y <this.myShip3.y)
            child.setVelocityY(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.y >this.myShip3.y)
            child.setVelocityY(-25*this.nivelInt-50);
            }
            

                if((child.x -150 < this.myShip4.x +62 +150 ) && (child.x +62 +50 > this.myShip4.x  -150) 
            && (child.y +62 +150 > this.myShip4.y -150) && (child.y -50< this.myShip4.y +62 +150))
          {
            if(random >0 && random < 5 && child.x <this.myShip4.x)
            child.setVelocityX(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.x >this.myShip4.x)
            child.setVelocityX(-25*this.nivelInt -50);

           if(random >0 && random < 5 && child.y <this.myShip4.y)
            child.setVelocityY(25*this.nivelInt +50);

            if(random >0 && random < 5 && child.y >this.myShip4.y)
            child.setVelocityY(-25*this.nivelInt-50);
            }
            



            if(random ==20)
              {
              
              var random2 = Phaser.Math.Between(0,3);
          //COLOCAR BOMBAS

              if(random2==3)
              {
             if((child.x -50 < this.myShip.x +62 +50 ) && (child.x +62 +50 > this.myShip.x  -50) 
            && (child.y +62 +50 > this.myShip.y -50) && (child.y -50< this.myShip.y +62 +50))
          {

                           var posx = 0;
                       var posy = 0;
     
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= child.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= child.y+16)
              posy = 128 + i*64

            
          
        
    
         }

           this.bombasFull5.create(posx, posy, 'bomba');
          this.countExplosion5 = 100;
    
           }

           if((child.x -50 < this.myShip2.x +62 +50 ) && (child.x +62 +50 > this.myShip2.x  -50) 
            && (child.y +62 +50 > this.myShip2.y -50) && (child.y -50< this.myShip2.y +62 +50))
          {

                           var posx = 0;
                       var posy = 0;
     
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= child.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= child.y+16)
              posy = 128 + i*64

            
          
        
    
         }

           this.bombasFull5.create(posx, posy, 'bomba');
          this.countExplosion5 = 100;
    
           }

           if((child.x -50 < this.myShip3.x +62 +50 ) && (child.x +62 +50 > this.myShip3.x  -50) 
            && (child.y +62 +50 > this.myShip3.y -50) && (child.y -50< this.myShip3.y +62 +50))
          {

                           var posx = 0;
                       var posy = 0;
     
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= child.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= child.y+16)
              posy = 128 + i*64

            
          
        
    
         }

           this.bombasFull5.create(posx, posy, 'bomba');
          this.countExplosion5 = 100;
    
           }

           if((child.x -50 < this.myShip4.x +62 +50 ) && (child.x +62 +50 > this.myShip4.x  -50) 
            && (child.y +62 +50 > this.myShip4.y -50) && (child.y -50< this.myShip4.y +62 +50))
          {

                           var posx = 0;
                       var posy = 0;
     
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= child.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= child.y+16)
              posy = 128 + i*64

            
          
        
    
         }

           this.bombasFull.create(posx, posy, 'bomba');
          this.countExplosion = 100;
    
           }

           }
         }
            

                
             if(random ==0)
            child.setVelocityX(25*this.nivelInt +50);

          if(random ==1)
            child.setVelocityX(-25*this.nivelInt -50);

           if(random ==2)
            child.setVelocityY(25*this.nivelInt +50);

             if(random ==3)
            child.setVelocityY(-25*this.nivelInt-50);


            //CORRER BOMBAS

             this.bombasFull.children.iterate(child2 => {
         
             if((child.x -100 < child2.x +62 +100 ) && (child.x +62 +100 > child2.x -100) 
            && (child.y +62 +100 > child2.y -100) && (child.y -100< child2.y +62 +100))
          {

    if(random >0 && random < 5 && child.x < child2.x)
            child.setVelocityX(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.x >child2.x)
            child.setVelocityX(25*this.nivelInt +50);

           if(random >0 && random < 5 && child.y <child2.y)
            child.setVelocityY(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.y >child2.y)
            child.setVelocityY(25*this.nivelInt+50);

         
      }


            })

               this.bombasFull2.children.iterate(child2 => {
         
             if((child.x -100 < child2.x +62 +100 ) && (child.x +62 +100 > child2.x -100) 
            && (child.y +62 +100 > child2.y -100) && (child.y -100< child2.y +62 +100))
          {

    if(random >0 && random < 5 && child.x < child2.x)
            child.setVelocityX(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.x >child2.x)
            child.setVelocityX(25*this.nivelInt +50);

           if(random >0 && random < 5 && child.y <child2.y)
            child.setVelocityY(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.y >child2.y)
            child.setVelocityY(25*this.nivelInt+50);

         
      }


            })


  this.bombasFull3.children.iterate(child2 => {
         
             if((child.x -100 < child2.x +62 +100 ) && (child.x +62 +100 > child2.x -100) 
            && (child.y +62 +100 > child2.y -100) && (child.y -100< child2.y +62 +100))
          {

    if(random >0 && random < 5 && child.x < child2.x)
            child.setVelocityX(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.x >child2.x)
            child.setVelocityX(25*this.nivelInt +50);

           if(random >0 && random < 5 && child.y <child2.y)
            child.setVelocityY(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.y >child2.y)
            child.setVelocityY(25*this.nivelInt+50);

         
      }


            })


  this.bombasFull4.children.iterate(child2 => {
         
             if((child.x -100 < child2.x +62 +100 ) && (child.x +62 +100 > child2.x -100) 
            && (child.y +62 +100 > child2.y -100) && (child.y -100< child2.y +62 +100))
          {

    if(random >0 && random < 5 && child.x < child2.x)
            child.setVelocityX(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.x >child2.x)
            child.setVelocityX(25*this.nivelInt +50);

           if(random >0 && random < 5 && child.y <child2.y)
            child.setVelocityY(-25*this.nivelInt -50);

            if(random >0 && random < 5 && child.y >child2.y)
            child.setVelocityY(25*this.nivelInt+50);

         
      }


            })
            if(random ==99)
            {
                random = Phaser.Math.Between(0,99);
                {
                    if(random ==99)
                    {

                      //MINAS
                      var posx = 0;
      var posy = 0;
     
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= child.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= child.y+16)
              posy = 128 + i*64

            
          
        
    
         }       
    
                     this.minas.create(posx+32, posy+32, 'mina');
                    }
                 }
            }

            return;
            }
           



           }
        )

 if(this.CrearObjeto == 1)
  {

    this.CrearObjeto = 0;
  }


if(this.limpiarLlama >0)
{
    this.limpiarLlama = this.limpiarLlama-1;
}
if(this.limpiarLlama2 >0)
{
    this.limpiarLlama2 = this.limpiarLlama2-1;
}
if(this.limpiarLlama3 >0)
{
    this.limpiarLlama3 = this.limpiarLlama3-1;
}
if(this.limpiarLlama4 >0)
{
    this.limpiarLlama4 = this.limpiarLlama4-1;
}
if(this.limpiarLlama5 >0)
{
    this.limpiarLlama5 = this.limpiarLlama5-1;
}



if(this.limpiarLlama ==0)
{
 this.explosionUp.clear(this.scene);
  this.explosionDown.clear(this.scene);
  this.explosionLeft.clear(this.scene);
 this.explosionRight.clear(this.scene);
}

if(this.limpiarLlama2 ==0)
{
 this.explosionUp2.clear(this.scene);
  this.explosionDown2.clear(this.scene);
  this.explosionLeft2.clear(this.scene);
 this.explosionRight2.clear(this.scene);
}


if(this.limpiarLlama3 ==0)
{
 this.explosionUp3.clear(this.scene);
  this.explosionDown3.clear(this.scene);
  this.explosionLeft3.clear(this.scene);
 this.explosionRight3.clear(this.scene);
}


if(this.limpiarLlama4 ==0)
{
 this.explosionUp4.clear(this.scene);
  this.explosionDown4.clear(this.scene);
  this.explosionLeft4.clear(this.scene);
 this.explosionRight4.clear(this.scene);
}

if(this.limpiarLlama5 ==0)
{
 this.explosionUp5.clear(this.scene);
  this.explosionDown5.clear(this.scene);
  this.explosionLeft5.clear(this.scene);
 this.explosionRight5.clear(this.scene);
}

if(this.countExplosion >0)
{
    this.countExplosion = this.countExplosion-1;
}
if(this.countExplosion2 >0)
{
    this.countExplosion2 = this.countExplosion2-1;
}
if(this.countExplosion3 >0)
{
    this.countExplosion3 = this.countExplosion3-1;
}
if(this.countExplosion4 >0)
{
    this.countExplosion4 = this.countExplosion4-1;
}
if(this.countExplosion5 >0)
{
    this.countExplosion5 = this.countExplosion5-1;
}

if(this.bombasFull.getLength()>0 && this.countExplosion ==0)
{
  this.explosionsound.play();
     this.bomba = this.bombasFull.getFirst();
     this.bombasFull.children.iterate(child => {
        if (true) {

             this.bomba = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull.children.iterate(child => {

      if(child!=null)
      {
        if (child.x == this.bomba.x && child.y == this.bomba.y) {

             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
       }    
        })

this.countBomb = 0;

        this.explosionUp.create(this.bomba.x+32, this.bomba.y+32, 'explosion');
        this.explosionUp.setVelocityX(-20*this.llama);

        this.explosionDown.create(this.bomba.x+32, this.bomba.y+32, 'explosion');
           this.explosionDown.setVelocityX(20*this.llama);
   
        this.explosionLeft.create(this.bomba.x+32, this.bomba.y+32, 'explosion');
         this.explosionLeft.setVelocityY(-20*this.llama);
  
        this.explosionRight.create(this.bomba.x+32, this.bomba.y+32, 'explosion');
        this.explosionRight.setVelocityY(20*this.llama);
    
        this.limpiarLlama =50;
 }


if(this.bombasFull2.getLength()>0 && this.countExplosion2 ==0)
{
   this.explosionsound.play();
     this.bomba2 = this.bombasFull2.getFirst();
     this.bombasFull2.children.iterate(child => {
        if (true) {

             this.bomba2 = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull2.children.iterate(child => {

       if(child!=null)
      {
        if (child.x == this.bomba2.x && child.y == this.bomba2.y) {

 
             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           }
        })

this.countBomb2 = 0;

        this.explosionUp2.create(this.bomba2.x+32, this.bomba2.y+32, 'explosion');
        this.explosionUp2.setVelocityX(-20*this.llama2);

        this.explosionDown2.create(this.bomba2.x+32, this.bomba2.y+32, 'explosion');
           this.explosionDown2.setVelocityX(20*this.llama2);
   
        this.explosionLeft2.create(this.bomba2.x+32, this.bomba2.y+32, 'explosion');
         this.explosionLeft2.setVelocityY(-20*this.llama2);
  
        this.explosionRight2.create(this.bomba2.x+32, this.bomba2.y+32, 'explosion');
        this.explosionRight2.setVelocityY(20*this.llama2);
    
        this.limpiarLlama2 =50;
 }

if(this.bombasFull3.getLength()>0 && this.countExplosion3 ==0)
{
   this.explosionsound.play();
     this.bomba3 = this.bombasFull3.getFirst();
     this.bombasFull3.children.iterate(child => {
        if (true) {

             this.bomba3 = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull3.children.iterate(child => {
        if(child!=null)
      {
        if (child.x == this.bomba3.x && child.y == this.bomba3.y) {


             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           }
        })

this.countBomb3 = 0;

        this.explosionUp3.create(this.bomba3.x+32, this.bomba3.y+32, 'explosion');
        this.explosionUp3.setVelocityX(-20*this.llama3);

        this.explosionDown3.create(this.bomba3.x+32, this.bomba3.y+32, 'explosion');
           this.explosionDown3.setVelocityX(20*this.llama3);
   
        this.explosionLeft3.create(this.bomba3.x+32, this.bomba3.y+32, 'explosion');
         this.explosionLeft3.setVelocityY(-20*this.llama3);
  
        this.explosionRight3.create(this.bomba3.x+32, this.bomba3.y+32, 'explosion');
        this.explosionRight3.setVelocityY(20*this.llama3);
    
        this.limpiarLlama3 =50;
 }

if(this.bombasFull4.getLength()>0 && this.countExplosion4 ==0)
{
   this.explosionsound.play();
     this.bomba4 = this.bombasFull4.getFirst();
     this.bombasFull4.children.iterate(child => {
        if (true) {

             this.bomba4 = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull4.children.iterate(child => {

  if(child!=null)
      {
        if (child.x == this.bomba4.x && child.y == this.bomba4.y) {


             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           }
        })

this.countBomb4 = 0;

        this.explosionUp4.create(this.bomba4.x+32, this.bomba4.y+32, 'explosion');
        this.explosionUp4.setVelocityX(-20*this.llama4);

        this.explosionDown4.create(this.bomba4.x+32, this.bomba4.y+32, 'explosion');
           this.explosionDown4.setVelocityX(20*this.llama4);
   
        this.explosionLeft4.create(this.bomba4.x+32, this.bomba4.y+32, 'explosion');
         this.explosionLeft4.setVelocityY(-20*this.llama4);
  
        this.explosionRight4.create(this.bomba4.x+32, this.bomba4.y+32, 'explosion');
        this.explosionRight4.setVelocityY(20*this.llama4);
    
        this.limpiarLlama4 =50;
 }

//BOMAS ENEMIGOS
if(this.bombasFull5.getLength()>0 && this.countExplosion5 ==0)
{
   this.explosionsound.play();
     this.bomba5 = this.bombasFull5.getFirst();
     this.bombasFull5.children.iterate(child => {
        if (true) {

             this.bomba5 = child;
            //child.destroy(child, true);
            return;
            }
          
        })

     this.bombasFull5.children.iterate(child => {

  if(child!=null)
      {
        if (child.x == this.bomba5.x && child.y == this.bomba5.y) {


             //this.bomba = child;
            child.destroy(child, true);
            return;
            }
           }
        })

this.countBomb5 = 0;

        this.explosionUp5.create(this.bomba5.x+32, this.bomba5.y+32, 'explosion');
        this.explosionUp5.setVelocityX(-20*this.nivelInt);

        this.explosionDown5.create(this.bomba5.x+32, this.bomba5.y+32, 'explosion');
           this.explosionDown5.setVelocityX(20*this.nivelInt);
   
        this.explosionLeft5.create(this.bomba5.x+32, this.bomba5.y+32, 'explosion');
         this.explosionLeft5.setVelocityY(-20*this.nivelInt);
  
        this.explosionRight5.create(this.bomba5.x+32, this.bomba5.y+32, 'explosion');
        this.explosionRight5.setVelocityY(20*this.nivelInt);
    
        this.limpiarLlama5 =50;
 }


if(this.resbalar==0)
{
 this.myShip.setVelocityX(0);
  this.myShip.setVelocityY(0);

}
if(this.resbalar2==0)
{
this.myShip2.setVelocityX(0);
this.myShip2.setVelocityY(0);
}

if(this.resbalar3==0)
{
 this.myShip3.setVelocityX(0);
 this.myShip3.setVelocityY(0);
}

if(this.resbalar4==1)
{
 this.myShip4.setVelocityX(0);
 this.myShip4.setVelocityY(0);
}

    switch (cursor) {
       case "STOPLEFT4":
       if(this.resbalar4==0)
        this.myShip4.setVelocityX(0);
      break;
      case "STOPLEFT3":
      if(this.resbalar3==0)
        this.myShip3.setVelocityX(0);
      break;
      case "STOPLEFT2":
      if(this.resbalar2==0)
        this.myShip2.setVelocityX(0);
      break;
      case "STOPLEFT":
      if(this.resbalar==0)
        this.myShip.setVelocityX(0);
      break;
       case "LEFT4":
        this.myShip4.setVelocityX(-20*this.patin4);
      break;
      case "LEFT3":
        this.myShip3.setVelocityX(-20*this.patin3);
      break;
      case "LEFT2":
        this.myShip2.setVelocityX(-20*this.patin2);
      break;

      case "LEFT":

      if(this.pause == 1)
 {

  if(this.menuseleccion==1)
    {
 this.menupausesprite.visible = false;
  this.menupausesprite3.visible = true;
  this.menuseleccion = 3;
    }
    else if(this.menuseleccion==2)
    {

 this.menupausesprite.visible = true;
  this.menupausesprite2.visible = false;
  this.menuseleccion = 1;
 
    }
    else if(this.menuseleccion==3)
    {
this.menupausesprite3.visible = false;
  this.menupausesprite2.visible = true;
  this.menuseleccion = 2;
    }

                    
  }
          console.log("xd");
         this.myShip.setVelocityX(-20*this.patin);

           if(this.designer==1)
    {
    if(this.seleccionadoSprite.x -64 >= 416)
   this.seleccionadoSprite.x = this.seleccionadoSprite.x - 64;

   this.objetocolocarsprite.x = this.seleccionadoSprite.x ;
}
         break;
          case "STOPRIGHT4":
          if(this.resbalar4==0)
           this.myShip4.setVelocityX(0);
         break;
         case "STOPRIGHT3":
         if(this.resbalar3==0)
           this.myShip3.setVelocityX(0);
         break;
         case "STOPRIGHT2":
         if(this.resbalar2==0)
           this.myShip2.setVelocityX(0);
         break;
         case "STOPRIGHT":
         if(this.resbalar==0)
           this.myShip.setVelocityX(0);
         break;
         case "RIGHT4":
           this.myShip4.setVelocityX(20*this.patin4);
         break;
         case "RIGHT3":
           this.myShip3.setVelocityX(20*this.patin3);
         break;
         case "RIGHT2":
           this.myShip2.setVelocityX(20*this.patin2);
         break;
      case "RIGHT":

        if(this.pause == 1)
 {
     if(this.menuseleccion==1)
    {
 this.menupausesprite.visible = false;
  this.menupausesprite2.visible = true;
  this.menuseleccion = 2;
    }
    else if(this.menuseleccion==2)
    {

 this.menupausesprite2.visible = false;
  this.menupausesprite3.visible = true;
  this.menuseleccion = 3;
 
    }
    else if(this.menuseleccion==3)
    {
this.menupausesprite.visible = true;
  this.menupausesprite3.visible = false;
  this.menuseleccion = 1;
    }
}


          console.log("xd");
           this.myShip.setVelocityX(20*this.patin);

            if(this.designer==1)
    {
     if(this.seleccionadoSprite.x +64 <= 1840)
    this.seleccionadoSprite.x = this.seleccionadoSprite.x + 64;

      this.objetocolocarsprite.x = this.seleccionadoSprite.x ;
  }
         break;
          case "STOPUP4":
          if(this.resbalar4==0)
          this.myShip4.setVelocityY(0);
         break;
          case "STOPUP3":
          if(this.resbalar3==0)
          this.myShip3.setVelocityY(0);
         break;
         case "STOPUP2":
         if(this.resbalar2==0)
          this.myShip2.setVelocityY(0);
         break;
         case "STOPUP":
         if(this.resbalar==0)
          this.myShip.setVelocityY(0);
         break;
           case "UP4":
          this.myShip4.setVelocityY(-20*this.patin4);
         break;
          case "UP3":
          this.myShip3.setVelocityY(-20*this.patin3);
         break;
         case "UP2":
          this.myShip2.setVelocityY(-20*this.patin2);
         break;
      case "UP":
          console.log("xd");
            this.myShip.setVelocityY(-20*this.patin);

            if(this.designer==1)
    {
if(this.seleccionadoSprite.y -64 >= 128)
this.seleccionadoSprite.y = this.seleccionadoSprite.y - 64;

this.objetocolocarsprite.y = this.seleccionadoSprite.y ;
}

          break;
           case "STOPDOWN4":
           if(this.resbalar4==0)
           this.myShip4.setVelocityY(0);
          break;
          case "STOPDOWN3":
          if(this.resbalar3==0)
           this.myShip3.setVelocityY(0);
          break;
          case "STOPDOWN2":
          if(this.resbalar2==0)
           this.myShip2.setVelocityY(0);
          break;
           case "STOPDOWN":
           if(this.resbalar==0)
           this.myShip.setVelocityY(0);
          break;
          case "DOWN4":
           this.myShip4.setVelocityY(20*this.patin4);
          break;
          case "DOWN3":
           this.myShip3.setVelocityY(20*this.patin3);
          break;
          case "DOWN2":
           this.myShip2.setVelocityY(20*this.patin2);
          break;
          case "DOWN":
          console.log("xd");
          this.myShip.setVelocityY(20*this.patin);

          if(this.designer==1)
    {
    if(this.seleccionadoSprite.y +64 <= 908)
this.seleccionadoSprite.y = this.seleccionadoSprite.y + 64;

this.objetocolocarsprite.y = this.seleccionadoSprite.y ;
        
        }
          break;
          case "X4":

          //PONER BOMBAS CON LA TELE
               if(this.pause==0 && (this.designer==0 || this.designer==2))
{
if( this.vidasInt4 >0)
{
      var posx = 0;
      var posy = 0;
      if(this.bombasFull4.getLength()< this.bombas4)
        {
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip4.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip4.y+16)
              posy = 128 + i*64

            
          }
         this.bombasFull4.create(posx, posy, 'bomba');
        
        this.countExplosion4 = 100;
         }       
    
}
     }

          break;
            case "X3":

             //PONER BOMBAS CON LA TELE
               if(this.pause==0 && (this.designer==0 || this.designer==2))
{
if( this.vidasInt3 >0)
{
      var posx = 0;
      var posy = 0;
      if(this.bombasFull3.getLength()< this.bombas3)
        {
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip3.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip3.y+16)
              posy = 128 + i*64

            
          }
         this.bombasFull3.create(posx, posy, 'bomba');
        
        this.countExplosion3 = 100;
         }       
    
}
     }
          break;
          case "X2":

               //PONER BOMBAS CON LA TELE
              if(this.pause==0 && (this.designer==0 || this.designer==2))
{
if( this.vidasInt2 >0)
{
      var posx = 0;
      var posy = 0;
      if(this.bombasFull2.getLength()< this.bombas2)
        {
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip2.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip2.y+16)
              posy = 128 + i*64

            
          }
         this.bombasFull2.create(posx, posy, 'bomba');
        
        this.countExplosion2 = 100;
         }       
    
}
     }
          break;
      case "X":
//ENPAUSE

     if(this.pause == 1)
 {
  if(this.novotacionP1 ==0 && this.menureiniciar ==0)
    this.seleccionoVotacion.setText("J1");

     if(this.menuseleccion==1)
    {
        
        this.pause = 0;
         this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
     }

    else if(this.menuseleccion==2  && this.novotacionP1==0)
    {
            this.novotacionP1 =1;
        this.menureiniciar =1;

        if(this.jugadoresTotal!=1)
        {
        
        if(this.jugadoresTotal==2)
     this.menupspritereiniciar.setTexture('votacionmenu2');
     if(this.jugadoresTotal==3)
             this.menupspritereiniciar.setTexture('votacionmenu3');

         this.menupspritereiniciar.visible = true;
        

        }



    }
    else if(this.menuseleccion==3)
    {

        this.scene.start('SceneB');
    }
 }



      //PONER BOMBAS CON LA TELE
              if(this.pause==0 && (this.designer==0 || this.designer==2))
{
if( this.vidasInt >0)
{
      var posx = 0;
      var posy = 0;
      if(this.bombasFull.getLength()< this.bombas)
        {
          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(416 + i*64 <= this.myShip.x+16)
              posx = 416 + i*64


          }

          for (var i = 0; i <= 50; i++) 
          {

            //416
            //128
            if(128 + i*64 <= this.myShip.y+16)
              posy = 128 + i*64

            
          }
         this.bombasFull.create(posx, posy, 'bomba');
        
        this.countExplosion = 100;
         }       
    
}
     }

//poner DISENADOR

if(this.designer==1)
    {
    if(this.objetocolocar ==0)
    {

          var item = Phaser.Math.Between(0,40);

  if(item ==1)
     {
     this.powerupsLlamas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y,'poderllama');
    }
    if(item ==2)
    {
     this.powerupsPatin.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y,'poderpatin');
    }
    if(item ==3)
    {
     this.powerupsBombas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'poderbomba');
    }
     if(item ==36)
    {
     this.powerupsVidas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y,'podervida');
    }
     if(item ==38)
    {
     this.powerupsGuantes.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'poderguante');
    }
        this.box.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');


       //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall');
    }

  if(this.objetocolocar ==1)
    {

        this.enemigos.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
        //this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'enemigo');
  }

  if(this.objetocolocar ==2)
    {
       this.pisomov.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
       // this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisomov');
  }

   if(this.objetocolocar ==3)
    {
       this.pisor1.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
//        this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'pisor1');
  }
   if(this.objetocolocar ==4)
    {
         this.minas.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  //      this.objetocolocarspriteNuevo = this.physics.add.sprite(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'mina');
  }
   if(this.objetocolocar ==5)
    {
        this.myShip.x = this.seleccionadoSprite.x;
        this.myShip.y = this.seleccionadoSprite.y;
    }
     if(this.objetocolocar ==6)
    {
        this.boxFuerte.create(this.seleccionadoSprite.x , this.seleccionadoSprite.y, 'wall2');
    }
}
           break;
      case "Y":

      
   if(this.pause==1)
   this.pause = 0;
    else   
   this.pause = 1;  

if(this.pause ==0)
{

     this.seleccionoVotacion.setText("");
     this.objetocolocarsprite.visible = false;
 this.seleccionadoSprite.visible = false;

    this.designer =0;
     this.menureiniciar =0;
    this.menupausesprite.visible = false;
    this.menupausesprite2.visible = false;
    this.menupausesprite3.visible = false;

this.menupspritereiniciar.visible = false;

      this.menupspritereiniciarP1.visible = false;
     this.menupspritereiniciarP2.visible = false;
      this.menupspritereiniciarP3.visible = false;
       this.menupspritereiniciarP4.visible = false;

   
      this.aceptarP1 = 0;
       this.aceptarP2 = 0; 
        this.aceptarP3 = 0;
         this.aceptarP4 = 0;
}

if(this.pause ==1)
{

if(this.menuseleccion==1)
    {
         this.menupausesprite.visible = true;
    }
    if(this.menuseleccion==2)
    {
            this.menupausesprite2.visible = true;

    }
    if(this.menuseleccion==3)
    {
            this.menupausesprite3.visible= true;
    }
}
    
    this.myShip.setVelocityX(0);
    this.myShip.setVelocityY(0);
    

    this.myShip2.setVelocityX(0);
    this.myShip2.setVelocityY(0);
    

    this.myShip3.setVelocityX(0);
    this.myShip3.setVelocityY(0);
    

    this.myShip4.setVelocityX(0);
    this.myShip4.setVelocityY(0);
    
    this.explosionUp.setVelocityX(0);
    this.explosionDown.setVelocityX(0);
    this.explosionLeft.setVelocityY(0);
 this.explosionRight.setVelocityY(0);

this.explosionUp2.setVelocityX(0);
    this.explosionDown2.setVelocityX(0);
    this.explosionLeft2.setVelocityY(0);
 this.explosionRight2.setVelocityY(0);


this.explosionUp3.setVelocityX(0);
    this.explosionDown3.setVelocityX(0);
    this.explosionLeft3.setVelocityY(0);
 this.explosionRight3.setVelocityY(0);


this.explosionUp4.setVelocityX(0);
    this.explosionDown4.setVelocityX(0);
    this.explosionLeft4.setVelocityY(0);
 this.explosionRight4.setVelocityY(0);



this.explosionUp5.setVelocityX(0);
    this.explosionDown5.setVelocityX(0);
    this.explosionLeft5.setVelocityY(0);
 this.explosionRight5.setVelocityY(0);

  this.enemigos.children.iterate(child => {
      
     

            child.setVelocityX(0);
            child.setVelocityY(0);
         

         })
        

      break;

       case "A":


  if(this.designer==1)
    {
    if(this.objetocolocar>0)
    this.objetocolocar = this.objetocolocar - 1;
    else
     this.objetocolocar = 0;
}


        if(this.designer==1)
    {
    if(this.objetocolocar ==0)
    {
       
        this.objetocolocarsprite.setTexture('wall');
    }
     if(this.objetocolocar ==1)
    {
        this.objetocolocarsprite.setTexture('enemigo');
    }

     if(this.objetocolocar ==2)
    {
        this.objetocolocarsprite.setTexture('pisomov');
    }
     if(this.objetocolocar ==3)
    {
        this.objetocolocarsprite.setTexture('pisor1');
    }

 if(this.objetocolocar ==4)
    {
        this.objetocolocarsprite.setTexture('mina');
    }
    if(this.objetocolocar ==5)
    {
        this.objetocolocarsprite.setTexture('ship');
    }
      if(this.objetocolocar ==6)
    {
        this.objetocolocarsprite.setTexture('wall2');
    }
}


      break;

       case "B":

if(this.designer==1)
    {
if(this.objetocolocar<=5)
     this.objetocolocar = this.objetocolocar + 1;
  else
     this.objetocolocar = 5;
}


        if(this.designer==1)
    {
    if(this.objetocolocar ==0)
    {
       
        this.objetocolocarsprite.setTexture('wall');
    }
     if(this.objetocolocar ==1)
    {
        this.objetocolocarsprite.setTexture('enemigo');
    }

     if(this.objetocolocar ==2)
    {
        this.objetocolocarsprite.setTexture('pisomov');
    }
     if(this.objetocolocar ==3)
    {
        this.objetocolocarsprite.setTexture('pisor1');
    }

 if(this.objetocolocar ==4)
    {
        this.objetocolocarsprite.setTexture('mina');
    }
    if(this.objetocolocar ==5)
    {
        this.objetocolocarsprite.setTexture('ship');
    }
      if(this.objetocolocar ==6)
    {
        this.objetocolocarsprite.setTexture('wall2');
    }
}


      break;
    }


        if (this.cursors.left.isDown) { 
            this.myShip.setVelocityX(-20*this.patin);
        }
        else{
             
        }


        if (this.cursors.right.isDown) {
            this.myShip.setVelocityX(20*this.patin);
        }
        else{
           
        }

        if (this.cursors.up.isDown) {
            this.myShip.setVelocityY(-20*this.patin);
        }
        else
        {
           
        }

          if (this.cursors.down.isDown) {
            this.myShip.setVelocityY(20*this.patin);
        }
        else{
           
        }

//JUGADOR 2
        if (this.leftjugador2.isDown) { 
            this.myShip2.setVelocityX(-20*this.patin2);
        }
        else{
             
        }


        if (this.rightjugador2.isDown) {
            this.myShip2.setVelocityX(20*this.patin2);
        }
        else{
           
        }

        if (this.upjugador2.isDown) {
            this.myShip2.setVelocityY(-20*this.patin2);
        }
        else
        {
           
        }

          if (this.downjugador2.isDown) {
            this.myShip2.setVelocityY(20*this.patin2);
        }
        else{
           
        }
 

//JUGADOR 3

if (this.leftjugador3.isDown) { 
            this.myShip3.setVelocityX(-20*this.patin3);
        }
        else{
             
        }

        if (this.rightjugador3.isDown) {
            this.myShip3.setVelocityX(20*this.patin3);
        }
        else{
           
        }

        if (this.upjugador3.isDown) {
            this.myShip3.setVelocityY(-20*this.patin3);
        }
        else
        {
           
        }

          if (this.downjugador3.isDown) {
            this.myShip3.setVelocityY(20*this.patin3);
        }
        else{
           
        }
 

//JUGADOR 4


if (this.leftjugador4.isDown) { 
            this.myShip4.setVelocityX(-20*this.patin4);
        }
        else{
             
        }

        if (this.rightjugador4.isDown) {
            this.myShip4.setVelocityX(20*this.patin4);
        }
        else{
           
        }

        if (this.upjugador4.isDown) {
            this.myShip4.setVelocityY(-20*this.patin4);
        }
        else
        {
           
        }

          if (this.downjugador4.isDown) {
            this.myShip4.setVelocityY(20*this.patin4);
        }
        else{
           
        }
 

this.resbalar = 0;
this.resbalar2 = 0;
this.resbalar3 = 0;
this.resbalar4 = 0;



}
}
}
gameOver()
{
    this.input.off('gameobjectup');
}

createPowerUp(col1,col2)
{
    this.powerups.create(col1, col2, 'ship');
}


}


class SceneB extends Phaser.Scene {

    constructor ()
    {
        super('SceneB');
    }

    preload ()
    {

this.load.image('selectorRect1', 'https://i.ibb.co/tKmGdqY/selector-Rect1.png');
                 this.load.image('fondo', 'https://i.ibb.co/5FW9jBX/menu-Opciones.png');
                 this.load.image('fondo2', 'https://i.ibb.co/mrpgNSH/menu-Opciones-Normal.png')
                 this.load.image('fondo2mapa2', 'https://i.ibb.co/cNm3JKN/menu-Opciones-Normal2.png')
                 this.load.image('fondo2mapa3', 'https://i.ibb.co/wQY7mW4/menu-Opciones-Normal3.png')
                  this.load.image('seleccion', 'https://i.ibb.co/RvhgWwR/seleccioncuad.png');
                    this.load.image('seleccionpersonajes', 'https://i.ibb.co/7p09ZRh/seleccionpersonajes.png');
               this.load.image('seleccion2', 'https://i.ibb.co/WFCsJx3/seleccioncuad2.png');
                 this.load.image('noready', 'https://i.ibb.co/1bcqr5j/sprite-No-Listo.png');
                  this.load.image('ready', 'https://i.ibb.co/rMq8fcJ/sprite-Listo.png');
                    this.load.audio('theme', 'https://sndup.net/2p9z/select.mp3'); 
                     this.load.audio('select', 'https://sndup.net/2p9z/select.mp3'); 
                     

                     this.load.image('popup', 'https://i.ibb.co/58dMc40/popup.png');
                      this.load.image('dificultad',  'https://i.ibb.co/gzHYX8F/dificultad.png');


/*
            this.load.image('selectorRect1', 'img/selectorRect1.png');
                 this.load.image('fondo', 'img/menuOpciones.png');
                 this.load.image('fondo2', 'img/menuOpcionesNormal.png')
                 this.load.image('fondo2mapa2', 'img/menuOpcionesNormal2.png')
                 this.load.image('fondo2mapa3', 'img/menuOpcionesNormal3.png')
                  this.load.image('seleccion', 'img/seleccioncuad.png');
                    this.load.image('seleccionpersonajes', 'img/seleccionpersonajes.png');
               this.load.image('seleccion2', 'img/seleccioncuad2.png');
                 this.load.image('noready', 'img/spriteNoListo.png');
                  this.load.image('ready', 'img/spriteListo.png');

                   this.load.image('popup', 'img/popup.png');

                    this.load.audio('theme', 'snd/theme.mp3'); 
                     this.load.audio('select', 'snd/select.mp3'); 
               
              this.load.image('dificultad',  'img/dificultad.png');

*/
    }
    create()
    {
this.mapaNormalNumero = 1;
this.modoopciones=1;
this.designerMode = 0; 
this.mapaTipo = 1;
this.mapaNumeroEditado = -1;
this.seleccionarDif = 0;
this.dificultad = 1;
this.mapaDesplegado = 0;
 // this.sound.play('theme');
//var htmlString = '<input id="text" type="text" value="https://hogangnono.com" style="width:80%" /><br />';
    //  var domElement = this.add.dom(0, 0).createFromHTML(htmlString); 
        // this.cursors = this.input.keyboard.createCursorKeys();


this.nombreJ1 = localStorage.getItem("nombreJ1");
this.nombreJ2 = localStorage.getItem("nombreJ2");
this.nombreJ3 = localStorage.getItem("nombreJ3");
this.nombreJ4 = localStorage.getItem("nombreJ4");



this.personajeSeleccionadoP1 = 1;
this.personajeSeleccionadoP2 = 3;
this.personajeSeleccionadoP3 = 7;
this.personajeSeleccionadoP4 = 9;
this.tematica = 1;
this.gamemode = 0;
this.jugadores = 1;
this.music = 1;
this.designer = 1;
        this.menufondo = this.physics.add.sprite(1920/2, 1080/2, 'fondo2');
       
        this.seleccionInt =0; // Multijugador

this.pantalla=1;

this.ready1 = 0;
this.ready2 = 0;
this.ready3 = 0;
this.ready4 = 0;

 // this.seleccionadoSprite.setDepth(1);
 this.tipojuegoSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');
this.cantidadParticipantesSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');
this.musicapartidaSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');
this.mapanormalSprite =  this.physics.add.sprite(413 +413/4, 336, 'seleccion2');
this.mapatipoSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');
this.designerSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');

this.mapatipoSprite.visible = false;
this.designerSprite.visible = false;

this.tematicaSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');

this.modoopcionesSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion2');


this.personajeSelectSpriteP1 = this.physics.add.sprite(450 +413/4, 750, 'selectorRect1');



  this.personajeSelectSpriteP1.visible = false;
 this.personajeSelectSpriteP1.setDepth(1);
this.dificultadsprite = this.physics.add.sprite(950 +213/4, 540, 'dificultad');
this.seleccionadoSprite = this.physics.add.sprite(413 +413/4, 336, 'seleccion');


   this.menufondopersonajes = this.physics.add.sprite(1920/2, 1080/2, 'seleccionpersonajes');
      this.menufondopersonajes.visible = false;
 this.seleccionadoSprite2 = this.physics.add.sprite(413 +413/4, 336, 'seleccion');
  this.seleccionadoSprite2.visible = false;

this.readySprite1 = this.physics.add.sprite(730 +413/4, 530, 'noready');
this.readySprite2 = this.physics.add.sprite(1420 +413/4, 530, 'noready');
this.readySprite3 = this.physics.add.sprite(730 +413/4, 640, 'noready');
this.readySprite4 = this.physics.add.sprite(1420 +413/4, 640, 'noready');
           
this.popupsprite = this.physics.add.sprite(950 +213/4, 540, 'popup');

this.popupsprite.visible = false;
this.dificultadsprite.visible = false;

//this.dificultadsprite.setDepth(1);
this.readySprite1.visible = false;
this.readySprite2.visible = false;
this.readySprite3.visible = false;
this.readySprite4.visible = false;



this.mapaNumeroEditadoString = this.add.text(594, 945, this.mapaNumeroEditado, { fontFamily: '"Arial Black"', fontSize: 24, fill: 'black',});

 this.mapaNumeroEditadoString.visible = false;

this.nombreJ1text = this.add.text(414, 516, this.nombreJ1, { fontFamily: '"Arial Black"', fontSize: 24, fill: 'black',});
this.nombreJ2text = this.add.text(1114, 516, this.nombreJ2, { fontFamily: '"Arial Black"', fontSize: 24, fill: 'black',});
this.nombreJ3text = this.add.text(414, 626, this.nombreJ3, { fontFamily: '"Arial Black"', fontSize: 24, fill: 'black',});
this.nombreJ4text = this.add.text(1114, 626, this.nombreJ4, { fontFamily: '"Arial Black"', fontSize: 24, fill: 'black',});

this.nombreJ1text.visible = false;
this.nombreJ2text.visible = false;
this.nombreJ3text.visible = false;
this.nombreJ4text.visible = false;

this.input.keyboard.on('keydown_UP', moverMenuAbajo, this);
  this.input.keyboard.on('keydown_DOWN', moverMenuArriba, this);
    this.input.keyboard.on('keydown_LEFT', moverMenuIzq, this);
   this.input.keyboard.on('keydown_RIGHT', moverMenuDer, this);
    this.input.keyboard.on('keydown_X', seleccionarOpcion, this);

// scale the box
    const scaleBox = scale => {
      let box = document.getElementById('input-box')
      if (box) {
        box.style.transform = `scale(${scale})`
        box.style.transformOrigin = 'top left'
        box.style.top = `${this.game.canvas.offsetTop + this.scale.displaySize.height / 2 - (750 / 2) * scale}px`
        box.style.left = `${this.game.canvas.offsetLeft + this.scale.displaySize.width / 2 - (200 / 2) * scale}px`
      }
    }

    // initial scale
    let scale = this.game.scale.displaySize.width / this.game.scale.gameSize.width
    scaleBox(scale)

    // on resize listener
    this.scale.on('resize', (gameSize, baseSize, displaySize, resolution) => {
      let scale = displaySize.width / gameSize.width
      scaleBox(scale)
    })

    // stores all created phaser texts
    let createdTexts = {}
    
    // creates a new phaser text
    const createText = (name, i) => {
      let text = createdTexts[name] || this.add.text(10, 100 + 20 * i, '')
      createdTexts[name] = text
      return text
    }


 element = document.getElementById('input-box')
        if (element && element.style.display === 'none') {
        //  element.style.display = 'block'
        element.style.display = 'none'
          for (let i = 0; i < element.children.length; i++) {
            
            // it is an input element
            if (element.children[i].tagName === 'INPUT') {
              let text = createText(element.children[i].name, i)
              element.children[i].addEventListener('input', () => {
                text.setText(element.children[i].value)
              })
            }
          }
        }
 

function moverMenuArriba()
{

  this.popupsprite.visible = false;
    if(this.pantalla ==1)
    {

 if(this.seleccionInt == 25)
      {
            this.seleccionInt = 8;
            return;
      }

 if(this.modoopciones==1)
        {
     if(this.seleccionInt ==20 ||this.seleccionInt ==21 || this.seleccionInt ==22 )
            this.seleccionInt = 27;
          else if(this.seleccionInt ==27 ||this.seleccionInt ==28 || this.seleccionInt ==29 )
          {
          this.seleccionInt = 8;
        return;
      }
        }

        if(this.modoopciones==2)
        {
      if(this.seleccionInt ==23 || this.seleccionInt ==24)
            this.seleccionInt = 25;

       else if(this.seleccionInt ==20 ||this.seleccionInt ==21 || this.seleccionInt ==22 )
            this.seleccionInt = 23;
        }

  if(this.seleccionInt ==0 || this.seleccionInt ==1 || this.seleccionInt ==2)
            this.seleccionInt = 20;


 else if(this.seleccionInt ==3 || this.seleccionInt ==4 || this.seleccionInt ==5 || this.seleccionInt ==16)
            this.seleccionInt = 0;

 else if(this.seleccionInt ==6 || this.seleccionInt ==7)
            this.seleccionInt = 3;
         else if(this.seleccionInt ==8)
            this.seleccionInt = 6;
}

  else if(this.pantalla ==2)
    {


 if(this.seleccionInt ==9)
            this.seleccionInt = 10;

          else if(this.seleccionInt ==13)
            this.seleccionInt = 16;
            else if(this.seleccionInt ==16)
            this.seleccionInt = 19;


          else if(this.seleccionInt ==12)
            this.seleccionInt = 15;
            else if(this.seleccionInt ==15)
            this.seleccionInt = 18;


          else if(this.seleccionInt ==11)
            this.seleccionInt = 14;
            else if(this.seleccionInt ==14)
            this.seleccionInt = 17;


        }
}

function moverMenuAbajo()
{

  this.popupsprite.visible = false;
if(this.pantalla ==1)
    {
      

if(this.modoopciones==1)
        {
     if(this.seleccionInt ==27 ||this.seleccionInt ==28 || this.seleccionInt ==29 )
     {
            this.seleccionInt = 20;
return;
          }

          else
             if(this.seleccionInt ==8)
             {
            this.seleccionInt = 27;
            return;
          }
        }


 if(this.modoopciones==2)
        {
    if(this.seleccionInt ==25 || this.seleccionInt ==26)
        this.seleccionInt = 23;

    else if(this.seleccionInt ==23 || this.seleccionInt ==24)
            this.seleccionInt = 20;
            else if(this.seleccionInt ==8)
             {
            this.seleccionInt = 25;
            return;
          }
     }
 if(this.seleccionInt ==20 || this.seleccionInt ==21 || this.seleccionInt ==22)
            this.seleccionInt = 0;

    else if(this.seleccionInt ==0 || this.seleccionInt ==1 || this.seleccionInt ==2)
            this.seleccionInt = 3;

        else if(this.seleccionInt ==3 || this.seleccionInt ==4 || this.seleccionInt ==5 || this.seleccionInt ==16)
            this.seleccionInt = 6;
               else if(this.seleccionInt ==6 || this.seleccionInt ==7)
            this.seleccionInt = 8;
}
  else if(this.pantalla ==2)
    {

 if(this.seleccionInt ==10)
            this.seleccionInt = 9;


          else if(this.seleccionInt ==19)
            this.seleccionInt = 16;
            else if(this.seleccionInt ==16)
            this.seleccionInt = 13;


          else if(this.seleccionInt ==18)
            this.seleccionInt = 15;
            else if(this.seleccionInt ==15)
            this.seleccionInt = 12;


          else if(this.seleccionInt ==17)
            this.seleccionInt = 14;
            else if(this.seleccionInt ==14)
            this.seleccionInt = 11;

        }
        
}
function moverMenuIzq()
{

  this.popupsprite.visible = false;


if(this.seleccionarDif == 1)
{
  if(this.seleccionInt == 33)
  {
    this.seleccionInt=32;
    return;
  }


  if(this.seleccionInt == 34)
  {
    this.seleccionInt=33;
    return;
  }
}


    if(this.pantalla ==1)
    {
         if(this.seleccionInt ==0)
            this.seleccionInt = 2;

        else if(this.seleccionInt ==1)
            this.seleccionInt = 0;
         else if(this.seleccionInt ==2)
            this.seleccionInt = 1;
            else if(this.seleccionInt ==4)
            this.seleccionInt = 3;
          else if(this.seleccionInt ==5)
            this.seleccionInt = 4;
          else if(this.seleccionInt ==16)
            this.seleccionInt = 5;
         else if(this.seleccionInt ==7)
            this.seleccionInt = 6;
              else if(this.seleccionInt ==22)
            this.seleccionInt = 21;
            else if(this.seleccionInt ==21)
            this.seleccionInt = 20;
           else if(this.seleccionInt ==24)
            this.seleccionInt = 23;
          else if(this.seleccionInt ==26)
            this.seleccionInt = 25;
             //nuevas opciones
           else if(this.seleccionInt ==31)
            this.seleccionInt = 30;
           else if(this.seleccionInt ==30)
            this.seleccionInt = 22;

               //nuevas opciones mapas
           else if(this.seleccionInt ==29)
            this.seleccionInt = 28;
           else if(this.seleccionInt ==28)
            this.seleccionInt = 27;
           else if(this.seleccionInt ==27)
            this.seleccionInt = 35;
          else if(this.seleccionInt ==36)
            this.seleccionInt = 29;


 else if(this.seleccionInt ==25)
 {
   if(this.mapaNumeroEditado>1)
      this.mapaNumeroEditado= this.mapaNumeroEditado - 1;
      this.mapaNumeroEditadoString.setText(this.mapaNumeroEditado);
    }
     }  

     else if (this.pantalla ==2)
     {
           if(this.seleccionInt ==10)
            this.seleccionInt = 13;
           else if(this.seleccionInt ==13)
            this.seleccionInt = 12;
           else if(this.seleccionInt ==12)
            this.seleccionInt = 11;

           else if(this.seleccionInt ==14)
            this.seleccionInt = 13;
           else if(this.seleccionInt ==15)
            this.seleccionInt = 14;
           else if(this.seleccionInt ==16)
            this.seleccionInt = 15;


           else if(this.seleccionInt ==17)
            this.seleccionInt = 16;
           else if(this.seleccionInt ==18)
            this.seleccionInt = 17;
           else if(this.seleccionInt ==19)
            this.seleccionInt = 18;
     }
}
function moverMenuDer()
{

if(this.seleccionarDif == 1)
{
  if(this.seleccionInt == 32)
  {
    this.seleccionInt=33;
    return;
  }


  if(this.seleccionInt == 33)
  {
    this.seleccionInt=34;
    return;
  }
}

  this.popupsprite.visible = false;

    if(this.pantalla ==1)
    {
         if(this.seleccionInt ==0)
            this.seleccionInt = 1;
        else if(this.seleccionInt ==1)
            this.seleccionInt = 2;
         else if(this.seleccionInt ==2)
            this.seleccionInt = 0;
          else if(this.seleccionInt ==3)
            this.seleccionInt = 4;
            else if(this.seleccionInt ==4)
            this.seleccionInt = 5;
          else if(this.seleccionInt ==5)
            this.seleccionInt = 16;
         else if(this.seleccionInt ==6)
            this.seleccionInt = 7;
          else if(this.seleccionInt ==20)
            this.seleccionInt = 21;
            else if(this.seleccionInt ==21)
            this.seleccionInt = 22;
          else if(this.seleccionInt ==23)
            this.seleccionInt = 24;
            else if(this.seleccionInt ==25)
            this.seleccionInt = 26;

          //nuevas opciones
           else if(this.seleccionInt ==22)
            this.seleccionInt = 30;
           else if(this.seleccionInt ==30)
            this.seleccionInt = 31;

             //nuevas opciones mapas
           else if(this.seleccionInt ==27)
            this.seleccionInt = 28;
           else if(this.seleccionInt ==28)
            this.seleccionInt = 29;
          else if(this.seleccionInt ==29)
            this.seleccionInt = 36;
          else if(this.seleccionInt ==35)
            this.seleccionInt = 27;



    }
      else if (this.pantalla ==2)
     {
         if(this.seleccionInt ==13)
            this.seleccionInt = 10; //EMPEZAR
          else if(this.seleccionInt ==12)
            this.seleccionInt = 13;
           else if(this.seleccionInt ==11)
            this.seleccionInt = 12;


           else if(this.seleccionInt ==14)
            this.seleccionInt = 15;
           else if(this.seleccionInt ==15)
            this.seleccionInt = 16;
           else if(this.seleccionInt ==16)
            this.seleccionInt = 10;


           else if(this.seleccionInt ==17)
            this.seleccionInt = 18;
           else if(this.seleccionInt ==18)
            this.seleccionInt = 19;
           else if(this.seleccionInt ==19)
            this.seleccionInt = 10;
     }
       
}
function seleccionarOpcion()
{
  this.popupsprite.visible = false;
  this.sound.play('select');


  if(this.seleccionarDif == 1)
{
  if(this.seleccionInt == 32)
  {
    this.dificultad =0;
    this.seleccionarDif = 0;
     this.seleccionInt =0;
    return;
  }

  if(this.seleccionInt == 33)
  {
    this.dificultad =1;
     this.seleccionarDif = 0;
      this.seleccionInt =0;
    return;
  }

    if(this.seleccionInt == 34)
  {
    this.dificultad =2;
     this.seleccionarDif = 0;
     this.seleccionInt =0;
    return;
  }
}

    if(this.pantalla ==1)
    {


if(this.seleccionInt ==30)
    {
            this.modoopciones = 1; 
            this.menufondo.setTexture("fondo2");
            this.mapaNumeroEditado = -1;
            this.mapaNormalNumero = 1;
            this.mapatipoSprite.visible = false;
            this.mapaNumeroEditadoString.visible = false;
this.designerSprite.visible = false;
this.mapanormalSprite.visible = true;
    }

if(this.seleccionInt ==31)
    {
            this.modoopciones = 2;
             this.menufondo.setTexture("fondo");
             this.mapaNumeroEditado = 1;
               this.mapaNumeroEditadoString.visible = true;
                this.mapaNumeroEditadoString.setText(1);
          this.designer = 0;
             this.mapatipoSprite.visible = true;
            this.designerSprite.visible = true;
            this.mapanormalSprite.visible = false;
    }

   if(this.seleccionInt ==36)
    {
      if(this.mapaDesplegado - 3> -7)
      {
     this.mapaDesplegado = this.mapaDesplegado - 3;
     this.mapaNumeroEditado = this.mapaNumeroEditado -3;
          
   }
     if(this.mapaDesplegado ==-3)
     this.menufondo.setTexture('fondo2mapa2');
     else if(this.mapaDesplegado ==-6)
     this.menufondo.setTexture('fondo2mapa3');

     
    }

if(this.seleccionInt ==29)
    {
            this.mapaNormalNumero = 3;
            this.designer = 1;
             this.mapaNumeroEditado =-3 + this.mapaDesplegado;
    }
if(this.seleccionInt ==28)
    {
            this.mapaNormalNumero = 2;
             this.designer = 1;
             this.mapaNumeroEditado =-2 + this.mapaDesplegado;
    }
if(this.seleccionInt ==27)
    {
            this.mapaNormalNumero = 1;
             this.designer = 1;
             this.mapaNumeroEditado =-1 + this.mapaDesplegado;
    }

    if(this.seleccionInt ==35)
    {
      if(this.mapaDesplegado + 3<=0)
      {
     this.mapaDesplegado = this.mapaDesplegado + 3;
    this.mapaNumeroEditado = this.mapaNumeroEditado + 3;
   }
   if(this.mapaDesplegado ==0)
     this.menufondo.setTexture('fondo2');
     else if(this.mapaDesplegado ==-3)
     this.menufondo.setTexture('fondo2mapa2');

 
    }

if(this.seleccionInt ==26)
    {
            this.designerMode = 1; 
    }
if(this.seleccionInt ==24)
    {

            this.designerMode = 0; 
    }

   if(this.seleccionInt ==25)
    {
      if(this.mapaNumeroEditado +1 <= localStorage.getItem("mapasCreados"))  
      this.mapaNumeroEditado= this.mapaNumeroEditado + 1;

      this.mapaNumeroEditadoString.setText(this.mapaNumeroEditado);

      this.designer=1;
            this.mapaTipo = 2; 
    }
   if(this.seleccionInt ==23)
    {

            this.designer=0;
            this.mapaTipo = 1; 
    }

    if(this.seleccionInt ==20)
    {
            this.tematica =1; 
    }
     if(this.seleccionInt ==21)
    {
            this.tematica =2; 
    }
    if(this.seleccionInt ==22)
    {
            this.tematica =3; 
    }

    if(this.seleccionInt ==0)
    {
      this.seleccionarDif = 1;
            this.jugadores =1; 
        this.gamemode =0;

        //cambiar a seleccionar 
        this.seleccionInt = 32;

    }

    if(this.seleccionInt ==1)
    {
         this.jugadores =2;
        this.gamemode =1;
    }

   
    if(this.seleccionInt ==2)
    { this.jugadores =2;
        this.gamemode =2;
}
     if(this.seleccionInt ==3 && this.gamemode== 0)
        this.jugadores =1;
    
     if(this.seleccionInt ==3 && this.gamemode== 1)
     {
      if(this.seleccionInt ==3)
      {
        this.seleccionInt ==99;
        this.popupsprite.visible = true;
      }
      else
      {
        this.seleccionInt = 3;
         this.popupsprite.visible = false;
      }

      
     }

      if(this.seleccionInt ==3 && this.gamemode== 2)
     {
        if(this.seleccionInt ==3)
        {
        this.seleccionInt ==99;
         this.popupsprite.visible = true;
      }
      else
      {
        this.seleccionInt = 3;
         this.popupsprite.visible = false;
      }

     
     }
    

    

    if(this.seleccionInt ==4)
        this.jugadores =2;

    if(this.seleccionInt ==5)
        this.jugadores =3;

 if(this.seleccionInt ==16)
        this.jugadores =4;

    if(this.seleccionInt ==6)
        this.music =1;
    if(this.seleccionInt ==7)
        this.music =0;
     if(this.seleccionInt ==8)
        {
           this.mapaNumeroEditadoString.visible = false;
             this.seleccionInt =9;
            this.pantalla=2;
               element.style.display = 'block'
            this.menufondopersonajes.visible = true;
             this.seleccionadoSprite2.visible = true;

             this.personajeSelectSpriteP1.visible = true;

this.readySprite1.visible = true;
this.readySprite2.visible = true;
this.readySprite3.visible = true;
this.readySprite4.visible = true;

this.nombreJ1text.visible = true;
this.nombreJ2text.visible = true;
this.nombreJ3text.visible = true;
this.nombreJ4text.visible = true;
        }
    }
    else if(this.pantalla ==2)
    {
        if(this.seleccionInt==9)
        {
          if(this.modoopciones==2)
              this.mapaNumeroEditadoString.visible = true;
            element.style.display = 'none'
            this.pantalla=1;
             this.seleccionInt =8;
this.nombreJ1text.visible = false;
this.nombreJ2text.visible = false;
this.nombreJ3text.visible = false;
this.nombreJ4text.visible = false;

            this.menufondopersonajes.visible = false;
             this.seleccionadoSprite2.visible = false;
              this.personajeSelectSpriteP1.visible = false;

              this.readySprite1.visible = false;
this.readySprite2.visible = false;
this.readySprite3.visible = false;
this.readySprite4.visible = false;
        //    this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
        }
        else if(this.seleccionInt==10)
        {
            element.style.display = 'none'

       this.scene.start('Scene1', { tematica:  this.tematica, personajeSelectP1:  this.personajeSeleccionadoP1,  personajeSelectP2:  this.personajeSeleccionadoP2,  personajeSelectP3:  this.personajeSeleccionadoP3,  personajeSelectP4:  this.personajeSeleccionadoP4, gamemode: this.gamemode, jugadores: this.jugadores , designer: this.designer, nombredata: this.nombreJ1, nombredata2: this.nombreJ2, nombredata3: this.nombreJ3, nombredata4: this.nombreJ4, mapaNumero: this.mapaNumeroEditado, mapaTipo: this.mapaTipo, designerMode: this.designerMode, music: this.music, dificultad: this.dificultad});
        }
        
        if(this.seleccionInt==11)
        {
           
             this.personajeSeleccionadoP1 = 1;
           
        
        }
         if(this.seleccionInt==12)
        {
           
             this.personajeSeleccionadoP1 = 2;
           
        
        }
         if(this.seleccionInt==13)
        {
           
             this.personajeSeleccionadoP1 = 3;
           
        
        }
         if(this.seleccionInt==14)
        {
           
             this.personajeSeleccionadoP1 = 4;
           
        
        }
         if(this.seleccionInt==15)
        {
           
             this.personajeSeleccionadoP1 = 5;
           
        
        }
         if(this.seleccionInt==16)
        {
           
             this.personajeSeleccionadoP1 = 6;
           
        
        }

          if(this.seleccionInt==17)
        {
           
             this.personajeSeleccionadoP1 = 7;
           
        
        }
          if(this.seleccionInt==18)
        {
           
             this.personajeSeleccionadoP1 = 8;
           
        
        }
          if(this.seleccionInt==19)
        {
           
             this.personajeSeleccionadoP1 = 9;
           
        
        }
    }

}


      //  this.lights.enable();

        /*let atlasTexture = this.textures.get('megaset');

        let frames = atlasTexture.getFrameNames();

        Phaser.Utils.Array.Shuffle(frames);

        for (let i = 0; i < frames.length; i++)
        {
            let x = Phaser.Math.Between(100, 700);
            let y = Phaser.Math.Between(100, 500);

            this.add.image(x, y, 'megaset', frames[i]).setPipeline('Light2D');
        }

        this.add.image(120, 160, 'megaset', 'contra2');*/

function estadoListo1()
{
this.ready1 = 1;
this.readySprite1.setTexture('ready');
}

function estadoListo2()
{
this.ready2 = 1;
this.readySprite2.setTexture('ready');
}
function estadoListo3()
{
this.ready3 = 1;
this.readySprite3.setTexture('ready');
}
function estadoListo4()
{
this.ready4 = 1;
this.readySprite4.setTexture('ready');
}
this.input.keyboard.on('keydown_ENTER', estadoListo1, this);
this.input.keyboard.on('keydown_R', estadoListo2, this);
this.input.keyboard.on('keydown_U', estadoListo3, this);
this.input.keyboard.on('keydown_P', estadoListo4, this);
    }


update()
{


  if(cursor.includes("NAME1"))
  {
      console.log(cursor);
    var nombre = cursor.split(".");
    this.nombreJ1 = nombre[1];
      this.nombreJ1text.setText(this.nombreJ1);
      localStorage.setItem("nombreJ1", this.nombreJ1);

  }

  if(cursor.includes("NAME2"))
  {
      console.log(cursor);
     var nombre = cursor.split(".");
    this.nombreJ2 = nombre[1];
      
    this.nombreJ2text.setText(this.nombreJ2);

      localStorage.setItem("nombreJ2", this.nombreJ2);
  }

  if(cursor.includes("NAME3"))
  {
      console.log(cursor);
     var nombre = cursor.split(".");
    this.nombreJ3 = nombre[1];
     this.nombreJ3text.setText(this.nombreJ3);

      localStorage.setItem("nombreJ3", this.nombreJ3);
  }

  if(cursor.includes("NAME4"))
  {
      console.log(cursor);
     var nombre = cursor.split(".");
    this.nombreJ4 = nombre[1];
    this.nombreJ4text.setText(this.nombreJ4);

      localStorage.setItem("nombreJ4", this.nombreJ4);
  }

if(this.seleccionarDif == 1)
 this.dificultadsprite.visible = true;

if(this.seleccionarDif == 0)
 this.dificultadsprite.visible = false;

 switch (cursor) {

      case "LEFT":


  this.popupsprite.visible = false;


if(this.seleccionarDif == 1)
{
  if(this.seleccionInt == 33)
  {
    this.seleccionInt=32;
    return;
  }


  if(this.seleccionInt == 34)
  {
    this.seleccionInt=33;
    return;
  }
}


    if(this.pantalla ==1)
    {
         if(this.seleccionInt ==0)
            this.seleccionInt = 2;

        else if(this.seleccionInt ==1)
            this.seleccionInt = 0;
         else if(this.seleccionInt ==2)
            this.seleccionInt = 1;
            else if(this.seleccionInt ==4)
            this.seleccionInt = 3;
          else if(this.seleccionInt ==5)
            this.seleccionInt = 4;
          else if(this.seleccionInt ==16)
            this.seleccionInt = 5;
         else if(this.seleccionInt ==7)
            this.seleccionInt = 6;
              else if(this.seleccionInt ==22)
            this.seleccionInt = 21;
            else if(this.seleccionInt ==21)
            this.seleccionInt = 20;
           else if(this.seleccionInt ==24)
            this.seleccionInt = 23;
          else if(this.seleccionInt ==26)
            this.seleccionInt = 25;
             //nuevas opciones
           else if(this.seleccionInt ==31)
            this.seleccionInt = 30;
           else if(this.seleccionInt ==30)
            this.seleccionInt = 22;

               //nuevas opciones mapas
           else if(this.seleccionInt ==29)
            this.seleccionInt = 28;
           else if(this.seleccionInt ==28)
            this.seleccionInt = 27;
           else if(this.seleccionInt ==27)
            this.seleccionInt = 35;
          else if(this.seleccionInt ==36)
            this.seleccionInt = 29;


 else if(this.seleccionInt ==25)
 {
   if(this.mapaNumeroEditado>1)
      this.mapaNumeroEditado= this.mapaNumeroEditado - 1;
      this.mapaNumeroEditadoString.setText(this.mapaNumeroEditado);
    }
     }  

     else if (this.pantalla ==2)
     {
           if(this.seleccionInt ==10)
            this.seleccionInt = 13;
           else if(this.seleccionInt ==13)
            this.seleccionInt = 12;
           else if(this.seleccionInt ==12)
            this.seleccionInt = 11;

           else if(this.seleccionInt ==14)
            this.seleccionInt = 13;
           else if(this.seleccionInt ==15)
            this.seleccionInt = 14;
           else if(this.seleccionInt ==16)
            this.seleccionInt = 15;


           else if(this.seleccionInt ==17)
            this.seleccionInt = 16;
           else if(this.seleccionInt ==18)
            this.seleccionInt = 17;
           else if(this.seleccionInt ==19)
            this.seleccionInt = 18;
     }

         break;

      case "RIGHT":


if(this.seleccionarDif == 1)
{
  if(this.seleccionInt == 32)
  {
    this.seleccionInt=33;
    return;
  }


  if(this.seleccionInt == 33)
  {
    this.seleccionInt=34;
    return;
  }
}

  this.popupsprite.visible = false;

    if(this.pantalla ==1)
    {
         if(this.seleccionInt ==0)
            this.seleccionInt = 1;
        else if(this.seleccionInt ==1)
            this.seleccionInt = 2;
         else if(this.seleccionInt ==2)
            this.seleccionInt = 0;
          else if(this.seleccionInt ==3)
            this.seleccionInt = 4;
            else if(this.seleccionInt ==4)
            this.seleccionInt = 5;
          else if(this.seleccionInt ==5)
            this.seleccionInt = 16;
         else if(this.seleccionInt ==6)
            this.seleccionInt = 7;
          else if(this.seleccionInt ==20)
            this.seleccionInt = 21;
            else if(this.seleccionInt ==21)
            this.seleccionInt = 22;
          else if(this.seleccionInt ==23)
            this.seleccionInt = 24;
            else if(this.seleccionInt ==25)
            this.seleccionInt = 26;

          //nuevas opciones
           else if(this.seleccionInt ==22)
            this.seleccionInt = 30;
           else if(this.seleccionInt ==30)
            this.seleccionInt = 31;

             //nuevas opciones mapas
           else if(this.seleccionInt ==27)
            this.seleccionInt = 28;
           else if(this.seleccionInt ==28)
            this.seleccionInt = 29;
          else if(this.seleccionInt ==29)
            this.seleccionInt = 36;
          else if(this.seleccionInt ==35)
            this.seleccionInt = 27;



    }
      else if (this.pantalla ==2)
     {
         if(this.seleccionInt ==13)
            this.seleccionInt = 10; //EMPEZAR
          else if(this.seleccionInt ==12)
            this.seleccionInt = 13;
           else if(this.seleccionInt ==11)
            this.seleccionInt = 12;


           else if(this.seleccionInt ==14)
            this.seleccionInt = 15;
           else if(this.seleccionInt ==15)
            this.seleccionInt = 16;
           else if(this.seleccionInt ==16)
            this.seleccionInt = 10;


           else if(this.seleccionInt ==17)
            this.seleccionInt = 18;
           else if(this.seleccionInt ==18)
            this.seleccionInt = 19;
           else if(this.seleccionInt ==19)
            this.seleccionInt = 10;
     }



         break;


      case "UP":



  this.popupsprite.visible = false;
    if(this.pantalla ==1)
    {

 if(this.seleccionInt == 25)
      {
            this.seleccionInt = 8;
            return;
      }

 if(this.modoopciones==1)
        {
     if(this.seleccionInt ==20 ||this.seleccionInt ==21 || this.seleccionInt ==22 )
            this.seleccionInt = 27;
          else if(this.seleccionInt ==27 ||this.seleccionInt ==28 || this.seleccionInt ==29 )
          {
          this.seleccionInt = 8;
        return;
      }
        }

        if(this.modoopciones==2)
        {
      if(this.seleccionInt ==23 || this.seleccionInt ==24)
            this.seleccionInt = 25;

       else if(this.seleccionInt ==20 ||this.seleccionInt ==21 || this.seleccionInt ==22 )
            this.seleccionInt = 23;

        }

  if(this.seleccionInt ==0 || this.seleccionInt ==1 || this.seleccionInt ==2)
            this.seleccionInt = 20;


 else if(this.seleccionInt ==3 || this.seleccionInt ==4 || this.seleccionInt ==5 || this.seleccionInt ==16)
            this.seleccionInt = 0;

 else if(this.seleccionInt ==6 || this.seleccionInt ==7)
            this.seleccionInt = 3;
         else if(this.seleccionInt ==8)
            this.seleccionInt = 6;
}

  else if(this.pantalla ==2)
    {


 if(this.seleccionInt ==9)
            this.seleccionInt = 10;

          else if(this.seleccionInt ==13)
            this.seleccionInt = 16;
            else if(this.seleccionInt ==16)
            this.seleccionInt = 19;


          else if(this.seleccionInt ==12)
            this.seleccionInt = 15;
            else if(this.seleccionInt ==15)
            this.seleccionInt = 18;


          else if(this.seleccionInt ==11)
            this.seleccionInt = 14;
            else if(this.seleccionInt ==14)
            this.seleccionInt = 17;


        }
        

          break;


      case "DOWN":


  this.popupsprite.visible = false;
if(this.pantalla ==1)
    {
      

if(this.modoopciones==1)
        {
     if(this.seleccionInt ==27 ||this.seleccionInt ==28 || this.seleccionInt ==29 )
     {
            this.seleccionInt = 20;
return;
          }

          else
             if(this.seleccionInt ==8)
             {
            this.seleccionInt = 27;
            return;
          }
        }


 if(this.modoopciones==2)
        {
    if(this.seleccionInt ==25 || this.seleccionInt ==26)
        this.seleccionInt = 23;

    else if(this.seleccionInt ==23 || this.seleccionInt ==24)
            this.seleccionInt = 20;
             else if(this.seleccionInt ==8)
             {
            this.seleccionInt = 25;
            return;
          }
     }
 if(this.seleccionInt ==20 || this.seleccionInt ==21 || this.seleccionInt ==22)
            this.seleccionInt = 0;

    else if(this.seleccionInt ==0 || this.seleccionInt ==1 || this.seleccionInt ==2)
            this.seleccionInt = 3;

        else if(this.seleccionInt ==3 || this.seleccionInt ==4 || this.seleccionInt ==5 || this.seleccionInt ==16)
            this.seleccionInt = 6;
               else if(this.seleccionInt ==6 || this.seleccionInt ==7)
            this.seleccionInt = 8;
}
  else if(this.pantalla ==2)
    {

 if(this.seleccionInt ==10)
            this.seleccionInt = 9;


          else if(this.seleccionInt ==19)
            this.seleccionInt = 16;
            else if(this.seleccionInt ==16)
            this.seleccionInt = 13;


          else if(this.seleccionInt ==18)
            this.seleccionInt = 15;
            else if(this.seleccionInt ==15)
            this.seleccionInt = 12;


          else if(this.seleccionInt ==17)
            this.seleccionInt = 14;
            else if(this.seleccionInt ==14)
            this.seleccionInt = 11;

        }

          break;
      case "X":


 this.popupsprite.visible = false;
  this.sound.play('select');


  if(this.seleccionarDif == 1)
{
  if(this.seleccionInt == 32)
  {
    this.dificultad =0;
    this.seleccionarDif = 0;
     this.seleccionInt =0;
    return;
  }

  if(this.seleccionInt == 33)
  {
    this.dificultad =1;
     this.seleccionarDif = 0;
      this.seleccionInt =0;
    return;
  }

    if(this.seleccionInt == 34)
  {
    this.dificultad =2;
     this.seleccionarDif = 0;
     this.seleccionInt =0;
    return;
  }
}

    if(this.pantalla ==1)
    {


if(this.seleccionInt ==30)
    {
            this.modoopciones = 1; 
            this.menufondo.setTexture("fondo2");
            this.mapaNumeroEditado = -1;
            this.mapaNormalNumero = 1;
            this.mapatipoSprite.visible = false;
            this.mapaNumeroEditadoString.visible = false;
this.designerSprite.visible = false;
this.mapanormalSprite.visible = true;
    }

if(this.seleccionInt ==31)
    {
            this.modoopciones = 2;
             this.menufondo.setTexture("fondo");
             this.mapaNumeroEditado = 1;
               this.mapaNumeroEditadoString.visible = true;
                this.mapaNumeroEditadoString.setText(1);
          this.designer = 0;
             this.mapatipoSprite.visible = true;
            this.designerSprite.visible = true;
            this.mapanormalSprite.visible = false;
    }

   if(this.seleccionInt ==36)
    {
      if(this.mapaDesplegado - 3> -7)
      {
     this.mapaDesplegado = this.mapaDesplegado - 3;
     this.mapaNumeroEditado = this.mapaNumeroEditado -3;
          
   }
     if(this.mapaDesplegado ==-3)
     this.menufondo.setTexture('fondo2mapa2');
     else if(this.mapaDesplegado ==-6)
     this.menufondo.setTexture('fondo2mapa3');

     
    }

if(this.seleccionInt ==29)
    {
            this.mapaNormalNumero = 3;
            this.designer = 1;
             this.mapaNumeroEditado =-3 + this.mapaDesplegado;
    }
if(this.seleccionInt ==28)
    {
            this.mapaNormalNumero = 2;
             this.designer = 1;
             this.mapaNumeroEditado =-2 + this.mapaDesplegado;
    }
if(this.seleccionInt ==27)
    {
            this.mapaNormalNumero = 1;
             this.designer = 1;
             this.mapaNumeroEditado =-1 + this.mapaDesplegado;
    }

    if(this.seleccionInt ==35)
    {
      if(this.mapaDesplegado + 3<=0)
      {
     this.mapaDesplegado = this.mapaDesplegado + 3;
    this.mapaNumeroEditado = this.mapaNumeroEditado + 3;
   }
   if(this.mapaDesplegado ==0)
     this.menufondo.setTexture('fondo2');
     else if(this.mapaDesplegado ==-3)
     this.menufondo.setTexture('fondo2mapa2');

 
    }

if(this.seleccionInt ==26)
    {
            this.designerMode = 1; 
    }
if(this.seleccionInt ==24)
    {

            this.designerMode = 0; 
    }

   if(this.seleccionInt ==25)
    {
      if(this.mapaNumeroEditado +1 <= localStorage.getItem("mapasCreados"))  
      this.mapaNumeroEditado= this.mapaNumeroEditado + 1;

      this.mapaNumeroEditadoString.setText(this.mapaNumeroEditado);

      this.designer=1;
            this.mapaTipo = 2; 
    }
   if(this.seleccionInt ==23)
    {

            this.designer=0;
            this.mapaTipo = 1; 
    }

    if(this.seleccionInt ==20)
    {
            this.tematica =1; 
    }
     if(this.seleccionInt ==21)
    {
            this.tematica =2; 
    }
    if(this.seleccionInt ==22)
    {
            this.tematica =3; 
    }

    if(this.seleccionInt ==0)
    {
      this.seleccionarDif = 1;
            this.jugadores =1; 
        this.gamemode =0;

        //cambiar a seleccionar 
        this.seleccionInt = 32;

    }

    if(this.seleccionInt ==1)
    {
         this.jugadores =2;
        this.gamemode =1;
    }

   
    if(this.seleccionInt ==2)
    { this.jugadores =2;
        this.gamemode =2;
}
     if(this.seleccionInt ==3 && this.gamemode== 0)
        this.jugadores =1;
    
     if(this.seleccionInt ==3 && this.gamemode== 1)
     {
      if(this.seleccionInt ==3)
      {
        this.seleccionInt ==99;
        this.popupsprite.visible = true;
      }
      else
      {
        this.seleccionInt = 3;
         this.popupsprite.visible = false;
      }

      
     }

      if(this.seleccionInt ==3 && this.gamemode== 2)
     {
        if(this.seleccionInt ==3)
        {
        this.seleccionInt ==99;
         this.popupsprite.visible = true;
      }
      else
      {
        this.seleccionInt = 3;
         this.popupsprite.visible = false;
      }

     
     }
    

    

    if(this.seleccionInt ==4)
        this.jugadores =2;

    if(this.seleccionInt ==5)
        this.jugadores =3;

 if(this.seleccionInt ==16)
        this.jugadores =4;

    if(this.seleccionInt ==6)
        this.music =1;
    if(this.seleccionInt ==7)
        this.music =0;
     if(this.seleccionInt ==8)
        {
             this.mapaNumeroEditadoString.visible = false;
             this.seleccionInt =9;
            this.pantalla=2;
               element.style.display = 'block'
            this.menufondopersonajes.visible = true;
             this.seleccionadoSprite2.visible = true;

             this.personajeSelectSpriteP1.visible = true;

this.readySprite1.visible = true;
this.readySprite2.visible = true;
this.readySprite3.visible = true;
this.readySprite4.visible = true;

this.nombreJ1text.visible = true;
this.nombreJ2text.visible = true;
this.nombreJ3text.visible = true;
this.nombreJ4text.visible = true;
        }
    }
    else if(this.pantalla ==2)
    {
        if(this.seleccionInt==9)
        {
          if(this.modoopciones==2)
               this.mapaNumeroEditadoString.visible = true;

            element.style.display = 'none'
            this.pantalla=1;
             this.seleccionInt =8;
this.nombreJ1text.visible = false;
this.nombreJ2text.visible = false;
this.nombreJ3text.visible = false;
this.nombreJ4text.visible = false;

            this.menufondopersonajes.visible = false;
             this.seleccionadoSprite2.visible = false;
              this.personajeSelectSpriteP1.visible = false;

              this.readySprite1.visible = false;
this.readySprite2.visible = false;
this.readySprite3.visible = false;
this.readySprite4.visible = false;
        //    this.scene.start('Scene1', { gamemode: this.gamemode, jugadores: this.jugadores });
        }
        else if(this.seleccionInt==10)
        {
            element.style.display = 'none'

          this.scene.start('Scene1', { tematica:  this.tematica, personajeSelectP1:  this.personajeSeleccionadoP1,  personajeSelectP2:  this.personajeSeleccionadoP2,  personajeSelectP3:  this.personajeSeleccionadoP3,  personajeSelectP4:  this.personajeSeleccionadoP4, gamemode: this.gamemode, jugadores: this.jugadores , designer: this.designer, nombredata: this.nombreJ1, nombredata2: this.nombreJ2, nombredata3: this.nombreJ3, nombredata4: this.nombreJ4, mapaNumero: this.mapaNumeroEditado, mapaTipo: this.mapaTipo, designerMode: this.designerMode, music: this.music, dificultad: this.dificultad});
        }
        
        if(this.seleccionInt==11)
        {
           
             this.personajeSeleccionadoP1 = 1;
           
        
        }
         if(this.seleccionInt==12)
        {
           
             this.personajeSeleccionadoP1 = 2;
           
        
        }
         if(this.seleccionInt==13)
        {
           
             this.personajeSeleccionadoP1 = 3;
           
        
        }
         if(this.seleccionInt==14)
        {
           
             this.personajeSeleccionadoP1 = 4;
           
        
        }
         if(this.seleccionInt==15)
        {
           
             this.personajeSeleccionadoP1 = 5;
           
        
        }
         if(this.seleccionInt==16)
        {
           
             this.personajeSeleccionadoP1 = 6;
           
        
        }

          if(this.seleccionInt==17)
        {
           
             this.personajeSeleccionadoP1 = 7;
           
        
        }
          if(this.seleccionInt==18)
        {
           
             this.personajeSeleccionadoP1 = 8;
           
        
        }
          if(this.seleccionInt==19)
        {
           
             this.personajeSeleccionadoP1 = 9;
           
        
        }
    }

cursor = "XD";

      break;
}

if(this.gamemode == 0)
{
this.tipojuegoSprite.x = 293 +413/4;
this.tipojuegoSprite.y = 516;
}

if(this.gamemode == 1)
{
this.tipojuegoSprite.x = 293 +513;
this.tipojuegoSprite.y = 516;
}

if(this.gamemode == 2)
{
this.tipojuegoSprite.x = 353 +913;
this.tipojuegoSprite.y = 516;
}

if(this.tematica ==1)
{
this.tematicaSprite.x =  420 +413/4;
this.tematicaSprite.y = 132 + 520;
}
if(this.tematica ==2)
{
  this.tematicaSprite.x = 860 +413/4;
this.tematicaSprite.y = 132 + 520;
}
if(this.tematica ==3)
{
  this.tematicaSprite.x = 1290 +413/4; 
this.tematicaSprite.y = 132 + 520; 
}

if(this.jugadores == 1)
{
this.cantidadParticipantesSprite.x = 413;
this.cantidadParticipantesSprite.y = 236;
}
if(this.jugadores == 2)
{
this.cantidadParticipantesSprite.x = 533;
this.cantidadParticipantesSprite.y = 236;
}
if(this.jugadores == 3)
{
this.cantidadParticipantesSprite.x = 653;
this.cantidadParticipantesSprite.y = 236;
}
if(this.jugadores == 4)
{
this.cantidadParticipantesSprite.x = 773;
this.cantidadParticipantesSprite.y = 236;
}
if(this.music == 1)
{

this.musicapartidaSprite.x = 1003 +413/4;
this.musicapartidaSprite.y = 256;
}

if(this.music == 0)
{
this.musicapartidaSprite.x = 1223 +413/4;
this.musicapartidaSprite.y = 256;
}

if(this.seleccionInt ==3)
{

this.seleccionadoSprite.x = 413;
this.seleccionadoSprite.y = 236;;

}
if(this.seleccionInt ==4)
{

this.seleccionadoSprite.x = 533;;
this.seleccionadoSprite.y = 236;;

}    
if(this.seleccionInt ==5)
{

this.seleccionadoSprite.x = 653;
this.seleccionadoSprite.y = 236;

}    


if(this.seleccionInt ==16)
{

this.seleccionadoSprite.x = 773;
this.seleccionadoSprite.y = 236;

}

if(this.seleccionInt ==0)
{

this.seleccionadoSprite.x = 293 +413/4;
this.seleccionadoSprite.y = 516;

}    


if(this.seleccionInt ==1)
{

this.seleccionadoSprite.x = 293 +513;
this.seleccionadoSprite.y = 516;

}  
if(this.seleccionInt ==2)
{

this.seleccionadoSprite.x = 323 +913;
this.seleccionadoSprite.y = 516;

}     

if(this.seleccionInt ==6)
{

this.seleccionadoSprite.x = 1003 +413/4;
this.seleccionadoSprite.y = 256;

}

if(this.seleccionInt ==7)
{

this.seleccionadoSprite.x = 1223 +413/4;
this.seleccionadoSprite.y = 256;

}


if(this.seleccionInt ==8)
{

this.seleccionadoSprite.x = 913 +413/4;
this.seleccionadoSprite.y = 1020;

}

if(this.seleccionInt ==8)
{

this.seleccionadoSprite.x = 913 +413/4;
this.seleccionadoSprite.y = 1020;

}
if(this.seleccionInt ==9)
{

this.seleccionadoSprite2.x = 50 +413/4;
this.seleccionadoSprite2.y = 50;

}
if(this.seleccionInt ==10)
{

this.seleccionadoSprite2.x = 1550 +413/4;
this.seleccionadoSprite2.y = 820;

}

if(this.personajeSeleccionadoP1 == 1)
{
  this.personajeSelectSpriteP1.x = 435 +413/4;
  this.personajeSelectSpriteP1.y = 750;
}
if(this.personajeSeleccionadoP1 == 2)
{
  this.personajeSelectSpriteP1.x = 362*1 + 450 +413/4;
  this.personajeSelectSpriteP1.y = 750;
}
if(this.personajeSeleccionadoP1 == 3)
{
  this.personajeSelectSpriteP1.x = 362*2 + 480 +413/4;
  this.personajeSelectSpriteP1.y = 750;
}
if(this.personajeSeleccionadoP1 == 4)
{
  this.personajeSelectSpriteP1.x = 435 +413/4;
  this.personajeSelectSpriteP1.y = 62*1 +46 + 750;
}
if(this.personajeSeleccionadoP1 == 5)
{
  this.personajeSelectSpriteP1.x = 362*1 + 450 +413/4;
  this.personajeSelectSpriteP1.y = 62*1 +46 +750;
}
if(this.personajeSeleccionadoP1 == 6)
{
  this.personajeSelectSpriteP1.x = 362*2 +480 +413/4;
  this.personajeSelectSpriteP1.y = 62*1 +46 +750;
}
if(this.personajeSeleccionadoP1 == 7)
{
  this.personajeSelectSpriteP1.x = 435 +413/4;
  this.personajeSelectSpriteP1.y = 62*2 +92 +750;
}
if(this.personajeSeleccionadoP1 == 8)
{
  this.personajeSelectSpriteP1.x = 362*1 + 450 +413/4;
  this.personajeSelectSpriteP1.y = 62*2 +92 + 750;
}
if(this.personajeSeleccionadoP1 == 9)
{
  this.personajeSelectSpriteP1.x = 362*2 +480 +413/4;
  this.personajeSelectSpriteP1.y = 62*2 +92 + 750;
}
if(this.seleccionInt ==11)
{

this.seleccionadoSprite2.x = 450 +413/4;
this.seleccionadoSprite2.y = 750;

}
if(this.seleccionInt ==12)
{

  this.seleccionadoSprite2.x = 362*1 + 450 +413/4;
  this.seleccionadoSprite2.y = 750;

}
if(this.seleccionInt ==13)
{

  this.seleccionadoSprite2.x = 362*2 + 450 +413/4;
  this.seleccionadoSprite2.y = 750;

}
if(this.seleccionInt ==14)
{

  this.seleccionadoSprite2.x = 450 +413/4;
  this.seleccionadoSprite2.y = 62*1 +46 + 750;

}
if(this.seleccionInt ==15)
{

  this.seleccionadoSprite2.x = 362*1 + 450 +413/4;
  this.seleccionadoSprite2.y = 62*1 +46 +750;

}
if(this.seleccionInt ==16)
{
  this.seleccionadoSprite2.x = 362*2 +450 +413/4;
  this.seleccionadoSprite2.y = 62*1 +46 +750;

}
if(this.seleccionInt ==17)
{
  this.seleccionadoSprite2.x = 450 +413/4;
  this.seleccionadoSprite2.y = 62*2 +92 +750;

}
if(this.seleccionInt ==18)
{
  this.seleccionadoSprite2.x = 362*1 + 450 +413/4;
  this.seleccionadoSprite2.y = 62*2 +92 + 750;

}
if(this.seleccionInt ==19)
{
  this.seleccionadoSprite2.x = 362*2 +450 +413/4;
  this.seleccionadoSprite2.y = 62*2 +92 + 750;

}

//SELECCION MAPAS

if(this.seleccionInt ==20)
{
  this.seleccionadoSprite.x = 420 +413/4;
  this.seleccionadoSprite.y = 132 + 520;

}
if(this.seleccionInt ==21)
{
  this.seleccionadoSprite.x = 860 +413/4;
  this.seleccionadoSprite.y = 132 + 520;
}

if(this.seleccionInt ==22)
{
  this.seleccionadoSprite.x = 1290 +413/4;
  this.seleccionadoSprite.y = 132 + 520;
}
//SELECCIONAR MODO DIBUJO

if(this.seleccionInt ==30)
{
  this.seleccionadoSprite.x = 387;
  this.seleccionadoSprite.y = 780;
}
if(this.seleccionInt ==31)
{
  this.seleccionadoSprite.x = 805;
  this.seleccionadoSprite.y = 780;
}
//DIF
if(this.seleccionInt ==32)
{
  this.seleccionadoSprite.x = 785;
  this.seleccionadoSprite.y = 550;
}
if(this.seleccionInt ==33)
{
  this.seleccionadoSprite.x = 995;
  this.seleccionadoSprite.y = 550;
}
if(this.seleccionInt ==34)
{
  this.seleccionadoSprite.x = 1235;
  this.seleccionadoSprite.y = 550;
}


if(this.modoopciones ==1)
{
  this.modoopcionesSprite.x = 387;
  this.modoopcionesSprite.y = 780;
}
if(this.modoopciones ==2)
{
  this.modoopcionesSprite.x = 805;
  this.modoopcionesSprite.y = 780;
}

//SELECCION MAPA DEFINIDO

if(this.seleccionInt ==35)
{

  this.seleccionadoSprite.x = 220 +413/4;
  this.seleccionadoSprite.y = 342 + 550;
}

if(this.seleccionInt ==27)
{
  this.seleccionadoSprite.x = 420 +413/4;
  this.seleccionadoSprite.y = 342 + 550;

}
if(this.seleccionInt ==28)
{
  this.seleccionadoSprite.x = 880 +413/4;
  this.seleccionadoSprite.y = 342 + 550;
}

if(this.seleccionInt ==29)
{
  this.seleccionadoSprite.x = 1320 +413/4;
  this.seleccionadoSprite.y = 342 + 550;
}

if(this.seleccionInt ==36)
{
  this.seleccionadoSprite.x = 1520 +413/4;
  this.seleccionadoSprite.y = 342 + 550;
}

//MAPAS PREDEFINIDOS ARRIBA
if(this.mapaNormalNumero ==1)
{
 this.mapanormalSprite.x = 420 +413/4;
  this.mapanormalSprite.y = 342 + 550;
}

if(this.mapaNormalNumero ==2)
{
    this.mapanormalSprite.x = 880 +413/4;
  this.mapanormalSprite.y = 342 + 550;
}

if(this.mapaNormalNumero ==3)
{
    this.mapanormalSprite.x = 1320 +413/4;
  this.mapanormalSprite.y = 342 + 550;
}



if(this.mapaTipo ==1)
{
  this.mapatipoSprite.x = 290 +413/4;
  this.mapatipoSprite.y = 352 + 550;
}
if(this.seleccionInt ==23)
{
  this.seleccionadoSprite.x = 290 +413/4;
  this.seleccionadoSprite.y = 352 + 550;

}
if(this.mapaTipo ==2)
{
  this.mapatipoSprite.x = 290 +413/4;
  this.mapatipoSprite.y = 406 + 550;
}
if(this.seleccionInt ==24)
{
  this.seleccionadoSprite.x = 950 +413/4;
  this.seleccionadoSprite.y = 352 + 550;

}
if(this.designerMode==0)
{
   this.designerSprite.x = 950 +413/4;
  this.designerSprite.y = 352 + 550;
}
if(this.seleccionInt ==25)
{
  this.seleccionadoSprite.x = 290 +413/4;
  this.seleccionadoSprite.y = 406 + 550;

}
if(this.designerMode==1)
{
  this.designerSprite.x = 950 +413/4;
  this.designerSprite.y = 406 + 550;
}
if(this.seleccionInt ==26)
{
  this.seleccionadoSprite.x = 950 +413/4;
  this.seleccionadoSprite.y = 406 + 550;

}


cursor = "XD";

}



}


  var SCREEN_WIDTH = 1920;
var SCREEN_HEIGHT = 1080;
var config = {
    type: Phaser.arcade,

     audio: {
        disableWebAudio: true
    },

    width: 1920,
    height: 1080,
     backgroundColor: '#222288',
     dom: {
        createContainer: true
    },
     pixelArt: true,
      fps: {
        min: 10,
        target: 60,
        forceSetTimeOut: false,
        deltaHistory: 30
    },
      scene: [ SceneB, Scene1],
   physics: {
        default: 'arcade',
        arcade: {
            debug: false
        }
    },

   
};

var game = new Phaser.Game(config);

    </script>


</body>

</html>